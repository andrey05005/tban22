!function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function n(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);r.length>o;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&o[3]>s[1])){i.label=s[1];break}if(6===s[0]&&o[1]>i.label){i.label=o[1],o=s;break}if(o&&o[2]>i.label){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function i(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;i>o;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var a=Array.prototype.slice;function s(e){return"object"==typeof e}function c(e){if(Array.isArray(e))return e.slice();var t={};for(var n in e)t[n]=e[n];return t}function u(e,t,n){return s(e)&&null!==e&&t in e?e[t]:n}function l(e,t,n){var r=t[0],o=t.slice(1);return u(e,r)&&o.length?l(e[r],o,n):u(e,r,n)}function d(e,t,n){return Array.isArray(t)?l(e,t,n):u(e,t,n)}function f(e,t,n){if(e[t]===n)return e;var r=c(e);return r[t]=n,r}function p(e,t,n){if(l(e,t)===n)return e;var r=t[0],o=t.slice(1),i=c(e);return i[r]=o.length?p(r in i?i[r]:{},o,n):n,i}function v(e){for(var t,n,r=arguments,o=arguments.length,i=e,a=1;o>a;a+=2)t=r[a],n=r[a+1],i=Array.isArray(t)?p(i,t,n):f(i,t,n);return i}function m(e,t){if(!(t in e))return e;var n=c(e);return delete n[t],n}function g(e,t){var n=t[0],r=t.slice(1);return r.length?n in e&&g(e[n],r):n in e}function h(e,t){if(!g(e,t))return e;var n=t[0],r=t.slice(1),o=c(e);return 0!==r.length?(o[n]=h(e[n],r),0===Object.keys(o[n]).length&&delete o[n]):delete o[n],o}function y(e){for(var t,n=arguments,r=arguments.length,o=0,i=e;++o<r;)t=n[o],i=Array.isArray(t)?h(i,t):m(i,t);return i}function b(e,t,n){var r=u(e,t);return f(e,t,n.apply(r,[r].concat(a.call(arguments,3))))}function w(e,t,n){var r=l(e,t);return p(e,t,n.apply(r,[r].concat(a.call(arguments,3))))}function k(e,t){return Array.isArray(t)?w.apply(this,arguments):b.apply(this,arguments)}function S(e,t){for(var n,r,o=Object.keys(t),i=o.length,a=-1,u=e;++a<i;)u=s(n=t[r=o[a]])&&null!==n?f(u,r,r in u?S(u[r],n):c(n)):f(u,r,n);return u}function C(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t){var n=[].slice.call(arguments,1);(e[t]||[]).map((function(e){e.apply(void 0,n)})),(e["*"]||[]).map((function(e){e.apply(void 0,[t].concat(n))}))}}}var _=Object.freeze({__proto__:null,default:C}),P={global:"tracking",initialState:{},utilTimeout:2e3,disableJsonp:!1},I=31536e4;function O(e){var t=e.location.query.parent_url,n=e.get("parseUrl");if(t)return n(t)}var j=function(e){for(var t=[],n=0,r=Object.keys(e);r.length>n;n++){var o=r[n];e[o]&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]))}return t.length?"?"+t.join("&"):""},A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function x(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var E=function(e,t){return function n(){for(var r=arguments.length,o=new Array(r),i=0;r>i;i++)o[i]=arguments[i];return e>o.length?function(){for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];return n.apply(this,o.concat(t))}:t.apply(this,o)}},M=function(e){return null!==e&&"object"==typeof e},T=M,L=function(e){return T(e)?Object.keys(e):[]},D=L,U=E(2,(function(e,t){void 0===t&&(t={});for(var n=D(t),r={},o=0;n.length>o;o++){var i=n[o];e(t[i],i,t)&&(r[i]=t[i])}return r})),N=U,R=["fio","email","phone_mobile","sessionId","session_id","sessionid","token","ticket"];var B={name:"url",run:function(e){var n,r=O(e),o=(n=r||e.location,Object.assign(n,{get safeSearch(){return j(this.safeQuery)},get safeQuery(){var e=N((function(e){return Boolean(e)}),n.query);return R.forEach((function(t){t in e&&(e[t]="*")})),e}}));return r&&(o.frameurl=e.location.pathname),t({},o)}};function V(e){return"string"==typeof e?e:function(e,t){if(!t)return e;var n=Object.keys(t).reduce((function(e,n){var r=t[n];return void 0===r||e.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))),e}),[]).join("&");if(""===n)return e;var r=e.includes("?")?"&":"?";return"".concat(e).concat(r).concat(n)}(e.url,e.params)}function q(e){return Promise.all(e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))})))}var F="undefined"!=typeof window&&"undefined"!=typeof Request&&"keepalive"in new Request(""),W=function(e){return fetch(e,{mode:"no-cors",credentials:"include",keepalive:F}).catch((function(){}))};var H={iframeLoadingPromise:null},z=function(e){if(H.iframeLoadingPromise)return H.iframeLoadingPromise;var t=new Promise((function(t){var n;try{n=new URL(e).origin}catch(e){return void t(null)}var r={frameborder:0,border:0,width:1,height:1,id:"twtIframePixel",src:n+"/twa/ad-hoc/pixel-iframe/index.html",style:"position: fixed; left: -9999px; bottom: -9999px",sandbox:"allow-scripts"},o=document.createElement("iframe");Object.keys(r).forEach((function(e){o.setAttribute(e,String(r[e]))})),document.body.appendChild(o),o.addEventListener("load",(function(){t(o)}))}));return H.iframeLoadingPromise=t,t},G={},Q={},J={};Object.defineProperty(J,"__esModule",{value:!0}),J.resolvePageUrl=function(e){return e.hostname+e.pathname};var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.resolveReferrer=function(e){var t=e.referrer,n=e.locationHostname,r="";t&&t.hostname!==n&&(r=t.hostname);return r};var $,X,Y={},Z=function(e){return null==e},ee=function(e){return!!e&&Array.isArray(e)},te=function(e){return"string"==typeof e||e instanceof String},ne=M,re=function(e){switch(!0){case Z(e):return!0;case te(e):return""===e;case ee(e):return 0===e.length;case ne(e):return 0===Object.keys(e).length}return!1},oe={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.DataConsentBit=ie.CookieCategoryBit=void 0,function(e){e[e.Essential=1]="Essential",e[e.Functionality=2]="Functionality",e[e.Statistics=4]="Statistics",e[e.Marketing=8]="Marketing"}($||(ie.CookieCategoryBit=$={})),function(e){e[e.PersonalDataProcessing=16]="PersonalDataProcessing"}(X||(ie.DataConsentBit=X={})),Object.defineProperty(oe,"__esModule",{value:!0}),oe.consentCategories=oe.UserConsentAllowAll=oe.STRING_DATA_LIMIT=oe.SIXTY_DAYS=oe.internalMarkers=oe.positionPattern=void 0;var ae=ie;oe.positionPattern=/^\d+(0|s|t)\d+$/,oe.internalMarkers=["internal_source"],oe.SIXTY_DAYS=5184e3,oe.STRING_DATA_LIMIT=255,oe.UserConsentAllowAll=0xfffffffffffff,oe.consentCategories={Essential:ae.CookieCategoryBit.Essential,Functionality:ae.CookieCategoryBit.Functionality,Statistics:ae.CookieCategoryBit.Statistics,Marketing:ae.CookieCategoryBit.Marketing,PersonalDataProcessing:ae.DataConsentBit.PersonalDataProcessing};var se={};Object.defineProperty(se,"__esModule",{value:!0}),se.isExternalNavigation=function(e,t,n){void 0===n&&(n=[]);if(e===t)return!1;return[e,t].some((function(e){return n.every((function(t){return e!==t&&!e.endsWith(".".concat(t))}))}))};var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.isString=function(e){return"string"==typeof e};var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.pick=function(e,t){for(var n={},r=0,o=e;o.length>r;r++){var i=o[r];i in t&&(n[i]=t[i])}return n};var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.safeSessionStorage=le.safeLocalStorage=le.SafeStorage=void 0;var de=function(){function e(e){this.clear=this.getSafeVersionOfMethod("clear",void 0),this.key=this.getSafeVersionOfMethod("key",null),this.setItem=this.getSafeVersionOfMethod("setItem",void 0),this.getItem=this.getSafeVersionOfMethod("getItem",null),this.removeItem=this.getSafeVersionOfMethod("removeItem",void 0),this.storageType=e}return Object.defineProperty(e.prototype,"length",{get:function(){try{return this.storage.length}catch(e){}return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){if(!this.storageImpl){var e={local:localStorage,session:sessionStorage};this.storageImpl=e[this.storageType]}return this.storageImpl},enumerable:!1,configurable:!0}),e.prototype.getSafeVersionOfMethod=function(e,t){var n=this;return function(){for(var r,o=[],i=0;arguments.length>i;i++)o[i]=arguments[i];try{return(r=n.storage)[e].apply(r,o)}catch(e){}return t}},e}();le.SafeStorage=de,le.safeLocalStorage=new de("local"),le.safeSessionStorage=new de("session");var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.parseQuery=function(e,t,n){void 0===t&&(t="&");void 0===n&&(n="=");for(var r={},o=e.split(t),i=0,a=o;a.length>i;i++){var s=String(a[i]).split(n),c=s[0],u=s.slice(1);if(c){var l=u.join(n);try{l=decodeURIComponent(l)}catch(e){}r[decodeURIComponent(c)]=l}}return r},fe.removeQueryParams=function(e){return e.split("?")[0]};var pe={};Object.defineProperty(pe,"__esModule",{value:!0}),pe.contextCookies=pe.utmCookies=void 0;var ve=oe.SIXTY_DAYS,me=ie.CookieCategoryBit.Marketing|ie.CookieCategoryBit.Statistics;pe.utmCookies={utmSource:{name:"utm_source",category:me,expires:ve,subdomains:!0},utmContent:{name:"utm_content",category:me,expires:ve,subdomains:!0},utmCampaign:{name:"utm_campaign",category:me,expires:ve,subdomains:!0},utmMedium:{name:"utm_medium",category:me,expires:ve,subdomains:!0},utmTerm:{name:"utm_term",category:me,expires:ve,subdomains:!0},utmDateSet:{name:"utm_date_set",category:me,expires:ve,subdomains:!0},sid:{name:"sid",category:me,expires:ve,subdomains:!0},wm:{name:"wm",category:me,expires:ve,subdomains:!0},visitorNewOrReturn:{name:"s_nr",category:me,expires:31536e3,subdomains:!0}},pe.contextCookies={ctxSource:{name:"ctx_source",category:me,expires:ve,subdomains:!0},ctxPosition:{name:"ctx_position",category:me,expires:ve,subdomains:!0},ctxBlock:{name:"ctx_block",category:me,expires:ve,subdomains:!0}};var ge={},he=L,ye=function(e){void 0===e&&(e={});for(var t=he(e),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=[t[o],e[t[o]]];return r},be=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ge,"__esModule",{value:!0}),ge.truncateValuesAndMark=function(e,t){var n=(0,we.default)(t).map((function(t){var n=t[0],r=t[1];return"string"!=typeof r?[n,r]:[n,Ce(r,n in e?e[n]:e.default)]}));return(0,ke.default)(n)};var we=be(ye),ke=be((function(e){void 0===e&&(e=[]);for(var t={},n=0;e.length>n;n++)t[e[n][0]]=e[n][1];return t})),Se=oe;function Ce(e,t){var n=e,r=".cut";n.length>Se.STRING_DATA_LIMIT&&(n=function(e,t){return e.slice(0,t)}(n,Se.STRING_DATA_LIMIT-r.length));encodeURIComponent(n).length>t&&(n=function(e,t){var n=0,r=e.length+1;for(;r>n+1;){var o=Math.floor((n+r)/2);encodeURIComponent(e.slice(0,o)).length>t?r=o:n=o}return e.slice(0,n)}(n,t-r.length));return n===e?e:"".concat(n).concat(r)}var _e={};!function(e){var t,n=A&&A.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.cookiesLimits=e.utmCookiesLimits=void 0;var r=pe;e.utmCookiesLimits=((t={})[r.utmCookies.utmSource.name]=255,t.session_utm_source=255,t[r.utmCookies.utmTerm.name]=600,t[r.utmCookies.utmContent.name]=600,t[r.utmCookies.utmCampaign.name]=255,t[r.utmCookies.utmMedium.name]=255,t[r.utmCookies.sid.name]=140,t[r.utmCookies.wm.name]=100,t),e.cookiesLimits=n(n({},e.utmCookiesLimits),{default:72})}(_e),function(e){var t=A&&A.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;r>n;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.contextMarkersCookies=e.utmMarkersCookies=void 0,e.resolveUtmMarkers=function(n){var m,g,h=n.cookies,y=n.location,b=n.referrer,w=n.parseUrl,k=n.internalDomains,S=e.utmMarkersCookies.map((function(e){return e.name})),C=e.contextMarkersCookies.map((function(e){return e.name})),_=y.query.parent_url,P=_?w(_):void 0,I=y.query.utm_source||!P?y.query:P.query,O=y.hash.replace("#",""),j=O?(0,l.parseQuery)(O):{},A=(0,c.pick)(i.internalMarkers,I),x=(0,c.pick)(S,I),E=(0,c.pick)(S,j),M=(0,o.default)(x)?E:x;function T(e,t){for(var n=0,r=e;r.length>n;n++){var o=r[n],i=t[o.name];i?h.set(o,i):h.remove(o.name,!0)}}function L(e){return(0,c.pick)(e,h.getAll())}function D(){return t({internal_source:""},A)}var U=!1,N=!1;(function(){var e;if(M.utm_source)return m=t(t({collectionMethod:"get",cookieDate:Date.now(),utm_source:"",session_utm_source:M.utm_source||""},D()),M),g=function(){var e=I[r.position];if(!(0,s.isString)(e))return{};var t,n=i.positionPattern.test(e),o={};n?(t=e.split(/\D/),o.ctx_position=t.length>1?t[1]:"",o.ctx_block=t[0]+e.replace(/\d/g,"")):(o.ctx_position=e,o.ctx_block=I[r.block]);return o.ctx_source=I[r.source]||"",o}(),void(U=!0);if(m=function(){var e=L(S),n=Number(h.get("utm_date_set"))||null,r=u.safeSessionStorage.getItem(v)||"",o=null;e.utm_source&&(o="cookie");return t(t({collectionMethod:o,cookieDate:n,utm_source:"",session_utm_source:r},D()),e)}(),b&&(0,a.isExternalNavigation)(y.hostname,b,k)){var n,o=null===(e=m.utm_source)||void 0===e?void 0:e.includes(".");if(!m.utm_source||o)return m=t({utm_source:n=b,session_utm_source:n,collectionMethod:"referrer",cookieDate:Date.now()},D()),g={},void(U=!0);m.session_utm_source||(m.session_utm_source=b,U=!0,N=!0)}})(),m=(0,f.truncateValuesAndMark)(p.cookiesLimits,m),g=(0,f.truncateValuesAndMark)(p.cookiesLimits,null!=g?g:{}),U&&function(t,n,r){void 0===r&&(r=!1),r||(h.set(d.utmCookies.utmDateSet,t.cookieDate||Date.now()),T(e.utmMarkersCookies,t),T(e.contextMarkersCookies,n||{})),t.session_utm_source&&u.safeSessionStorage.setItem(v,t.session_utm_source)}(m,g,N);g&&(g=L(C));return t(t({},g),{utmMarkers:m})};var r,o=n(re),i=oe,a=se,s=ce,c=ue,u=le,l=fe,d=pe,f=ge,p=_e;!function(e){e.source="source",e.position="position",e.block="block"}(r||(r={}));var v="session_utm_source";e.utmMarkersCookies=[d.utmCookies.utmSource,d.utmCookies.utmContent,d.utmCookies.utmCampaign,d.utmCookies.utmMedium,d.utmCookies.utmTerm,d.utmCookies.sid,d.utmCookies.wm],e.contextMarkersCookies=[d.contextCookies.ctxPosition,d.contextCookies.ctxBlock,d.contextCookies.ctxSource]}(Y);var Pe,Ie={};Pe=Ie,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.Xhr=Pe.n=Pe.w=Pe.d=Pe.g=void 0,Pe.g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==A?A:void 0,Pe.d=Pe.g.document,Pe.w=Pe.g.window,Pe.n=Pe.g.navigator,Pe.Xhr=Pe.g.XMLHttpRequest;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.checkCookieLimit=function(e,t,n){var r=encodeURIComponent(n),o=e[t]||e.default;if(r.length>o)throw new Error("ECookieTooLarge: cookie ".concat(t," exceeds maximum length of ").concat(o," bytes"))};var je={};Object.defineProperty(je,"__esModule",{value:!0}),je.makeCookiesPubl=function(e,t){var n={},r=function(t,n){e.set(t.name,n,t.expires,t.subdomains)};return t.on("update",(function(){for(var e=0,o=Object.keys(n);o.length>e;e++){var i=o[e],a=n[i],s=a.cookie,c=a.value;t.isAllowed(s.category)&&(r(s,c),delete n[i])}})),{get:function(t){return e.get(t)},getAll:function(){return e.getAll()},set:function(e,o){var i=t.isAllowed(e.category);return i?r(e,o):n[e.name]={cookie:e,value:o},i},remove:function(t,r){delete n[t],e.remove(t,r)}}};var Ae={},xe=x(_),Ee=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.makeUserConsentVault=function(e){void 0===e&&(e={});var t=e.defaults,n=void 0===t?Te.UserConsentAllowAll:t,r=e.alwaysEnabled,o=void 0===r?Le.CookieCategoryBit.Essential:r,i=n,a=(0,Me.default)();return Object.assign(a,{once:function(e,t){var n=function(){a.off(e,n),t()};a.on(e,n)},isAllowed:function(e){return(this.getAllowedMask()&e)===e},resetAllTo:function(e){i=e,a.emit("update")},update:function(e,t){void 0===t&&(t="keep"),"enable"===t?i|=Te.UserConsentAllowAll:"disable"===t&&(i=0);for(var n=0,r=Object.keys(e);r.length>n;n++){var o=Number(r[n]);e[o]?i|=o:i&=~o}a.emit("update")},getAllowedMask:function(){return(null!=i?i:n)|o},categories:Te.consentCategories})};var Me=Ee(xe),Te=oe,Le=ie;var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.extractDomain=function(e){if(t=e,Ue.test(t)||Ne.test(t))return e;var t;return 0>e.indexOf("localhost")?".".concat(e.split(".").slice(-2).join(".")):"localhost"};var Ue=/^(?:::(?:ffff:(0:)?)?)?(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,Ne=/^([0-9a-fA-F]{1,4}:){1,4}:(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/;function Re(){for(var e=[],t=0;arguments.length>t;t++)e[t]=arguments[t];return 0===e.length?function(e){return e}:1===e.length?e[0]:e.reduce((function(e,t){return function(){for(var n=[],r=0;arguments.length>r;r++)n[r]=arguments[r];return e(t.apply(void 0,n))}}))}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DataConsentBit=e.CookieCategoryBit=e.isExternalNavigation=e.removeQueryParams=e.parseQuery=e.extractDomain=e.makeUserConsentVault=e.makeCookiesPubl=e.checkCookieLimit=e.Xhr=e.d=e.n=e.w=e.g=e.cookiesLimits=e.utmCookiesLimits=e.internalMarkers=e.consentCategories=e.utmCookies=e.contextCookies=e.contextMarkersCookies=e.utmMarkersCookies=e.resolveUtmMarkers=e.resolveReferrer=e.resolvePageUrl=void 0;var t=J;Object.defineProperty(e,"resolvePageUrl",{enumerable:!0,get:function(){return t.resolvePageUrl}});var n=K;Object.defineProperty(e,"resolveReferrer",{enumerable:!0,get:function(){return n.resolveReferrer}});var r=Y;Object.defineProperty(e,"resolveUtmMarkers",{enumerable:!0,get:function(){return r.resolveUtmMarkers}}),Object.defineProperty(e,"utmMarkersCookies",{enumerable:!0,get:function(){return r.utmMarkersCookies}}),Object.defineProperty(e,"contextMarkersCookies",{enumerable:!0,get:function(){return r.contextMarkersCookies}});var o=pe;Object.defineProperty(e,"contextCookies",{enumerable:!0,get:function(){return o.contextCookies}}),Object.defineProperty(e,"utmCookies",{enumerable:!0,get:function(){return o.utmCookies}});var i=oe;Object.defineProperty(e,"consentCategories",{enumerable:!0,get:function(){return i.consentCategories}}),Object.defineProperty(e,"internalMarkers",{enumerable:!0,get:function(){return i.internalMarkers}});var a=_e;Object.defineProperty(e,"utmCookiesLimits",{enumerable:!0,get:function(){return a.utmCookiesLimits}}),Object.defineProperty(e,"cookiesLimits",{enumerable:!0,get:function(){return a.cookiesLimits}});var s=Ie;Object.defineProperty(e,"g",{enumerable:!0,get:function(){return s.g}}),Object.defineProperty(e,"w",{enumerable:!0,get:function(){return s.w}}),Object.defineProperty(e,"n",{enumerable:!0,get:function(){return s.n}}),Object.defineProperty(e,"d",{enumerable:!0,get:function(){return s.d}}),Object.defineProperty(e,"Xhr",{enumerable:!0,get:function(){return s.Xhr}});var c=Oe;Object.defineProperty(e,"checkCookieLimit",{enumerable:!0,get:function(){return c.checkCookieLimit}});var u=je;Object.defineProperty(e,"makeCookiesPubl",{enumerable:!0,get:function(){return u.makeCookiesPubl}});var l=Ae;Object.defineProperty(e,"makeUserConsentVault",{enumerable:!0,get:function(){return l.makeUserConsentVault}});var d=De;Object.defineProperty(e,"extractDomain",{enumerable:!0,get:function(){return d.extractDomain}});var f=fe;Object.defineProperty(e,"parseQuery",{enumerable:!0,get:function(){return f.parseQuery}}),Object.defineProperty(e,"removeQueryParams",{enumerable:!0,get:function(){return f.removeQueryParams}});var p=se;Object.defineProperty(e,"isExternalNavigation",{enumerable:!0,get:function(){return p.isExternalNavigation}});var v=ie;Object.defineProperty(e,"CookieCategoryBit",{enumerable:!0,get:function(){return v.CookieCategoryBit}}),Object.defineProperty(e,"DataConsentBit",{enumerable:!0,get:function(){return v.DataConsentBit}})}(Q),function(e){var t=A&&A.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=A&&A.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Q,e)}(G);var Be=function(e){return Object(e)===e&&Object.getPrototypeOf(e)===Object.prototype},Ve=function(){},qe="log function is now deprecated, use logger object instead";function Fe(e){return{warn:e,debug:e,error:e,info:e,log:e}}var We=Fe(Ve);var He,ze,Ge=function(){function e(e){this.clear=this.getSafeVersionOfMethod("clear",void 0),this.key=this.getSafeVersionOfMethod("key",null),this.setItem=this.getSafeVersionOfMethod("setItem",void 0),this.getItem=this.getSafeVersionOfMethod("getItem",null),this.removeItem=this.getSafeVersionOfMethod("removeItem",void 0),this.storageType=e}return Object.defineProperty(e.prototype,"length",{get:function(){try{return this.storage.length}catch(e){}return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){if(!this.storageImpl){var e={local:localStorage,session:sessionStorage};this.storageImpl=e[this.storageType]}return this.storageImpl},enumerable:!1,configurable:!0}),e.prototype.getSafeVersionOfMethod=function(e,t){var n=this;return function(){for(var r,o=[],i=0;arguments.length>i;i++)o[i]=arguments[i];try{return(r=n.storage)[e].apply(r,o)}catch(e){}return t}},e}(),Qe=new Ge("local"),Je=new Ge("session"),Ke=E(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var n=t,r=0;e.length>r;r++){if(null==n)return;n=n[e[r]]}return n})),$e="twt_wuid_visit_storage",Xe=function(){function e(e){this.tracking=e,this._storage=null}return Object.defineProperty(e.prototype,"storage",{get:function(){var e,t=this.currentWuidVisitId;return t?(null===(e=this._storage)||void 0===e?void 0:e.visitId)===t?this._storage:this.parseStorage():null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentWuidVisitId",{get:function(){return this.tracking.state.wuidVisitId},enumerable:!1,configurable:!0}),e.prototype.createEmptyStorage=function(){var e=this.currentWuidVisitId;if(!e)return null;var t={visitId:e,items:{}};return Qe.setItem($e,JSON.stringify(t)),t},e.prototype.parseStorage=function(){var e=JSON.parse(Qe.getItem($e)||"{}");return function(e){return"object"==typeof e&&"visitId"in e&&"object"==typeof e.items}(e)&&e.visitId===this.currentWuidVisitId?e:this.createEmptyStorage()},e.prototype.getElement=function(e){var t;return null===(t=this.storage)||void 0===t?void 0:t.items[e]},e.prototype.setElement=function(e,t){var n=this.storage;n&&(n.items[e]=t.toString(),Qe.setItem($e,JSON.stringify(n)))},e}();function Ye(e){var t;return(t={})[He.WuidVisit]=new Xe(e),t}function Ze(e,t,n){var r,o,i=e._prot.context;switch(n.source){case ze.State:for(var a=0,s="string"==typeof n.path?[n.path]:n.path;s.length>a;a++){if(void 0!==(o=Ke(s[a].split("."),e.state)))break}break;case ze.Cookie:o=i.cookies.get(n.name);break;case ze.Static:o=n.value;break;case ze.Code:var c=n.persistance;if(c){var u=t[c.type].getElement(c.key);if(u){o="string"!==n.type?null===(r=n.persistance)||void 0===r?void 0:r.parse(u):u;break}}(o=n.code({tracking:e,context:i,collect:function(n){return Ze(e,t,n)}}))&&c&&t[c.type].setElement(c.key,function(e){return Array.isArray(e)?e.join(","):String(e)}(o))}return o}function et(e,t,n){var r=(n||{}).itemMapper,o=void 0===r?function(e){return e}:r,i=Ye(e);return Object.keys(t).reduce((function(n,r){var a=t[r];if(a.source===ze.Never)return n;var s=Ze(e,i,a);return void 0===s||a.requiredValues&&!a.requiredValues.every((function(e){return e in n}))||(n[r]=o(s)),n}),{})}!function(e){e[e.WuidVisit=0]="WuidVisit"}(He||(He={})),function(e){e.State="state",e.Cookie="cookie",e.Code="code",e.Static="static",e.Never="never"}(ze||(ze={}));var tt=t(t({wuid:{name:"__P__wuid",category:G.CookieCategoryBit.Essential,expires:I,subdomains:!0},wuidLC:{name:"__P__wuid_last_update_time",category:G.CookieCategoryBit.Statistics,expires:I,subdomains:!0},wuidVisitId:{name:"__P__wuid_visit_id",category:G.CookieCategoryBit.Statistics,expires:63072e3,subdomains:!0},wuidVisitPersistence:{name:"__P__wuid_visit_persistence",category:G.CookieCategoryBit.Statistics,expires:1800,subdomains:!0},dspId:{name:"dsp_click_id",category:G.CookieCategoryBit.Marketing,expires:5184e3,subdomains:!0},tcpaId:{name:"tcpa_click_id",category:G.CookieCategoryBit.Marketing,subdomains:!0,expires:"session"},pageLanding:{name:"pageLanding",category:G.CookieCategoryBit.Statistics,subdomains:!0,expires:"session"},yclid:{name:"yclid",category:G.CookieCategoryBit.Marketing,subdomains:!0,expires:86400},statistDeviceId:{name:"stDeIdU",category:G.CookieCategoryBit.Statistics,expires:I,subdomains:!0}},G.utmCookies),G.contextCookies),nt="__utma",rt="userType",ot="psid",it="dmp.id";function at(){try{return window.orientation?90===Math.abs(Number(window.orientation)):"landscape"===screen.orientation.type.split("-")[0]}catch(e){}return!0}var st={name:"mobileOrientation",run:function(){return at()?"landscape":"portrait"},observe:function(e,t){window.addEventListener("orientationchange",t)}},ct=E(3,(function(e,t,n){void 0===n&&(n=[]);for(var r=n.length,o=0;r>o;o++)t=e(t,n[o],o,n);return t}));var ut=/^[0-9a-f]{32}$/,lt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dt(e,t){var n;if((n="cookies"===t.from?e.cookies.get(tt.wuid.name):e.location.query.wuid)&&function(e){return ut.test(e)||lt.test(e)}(n))return n}function ft(){var e=new Uint8Array(16);return crypto.getRandomValues(e),ct((function(e,t){return e+(n=t.toString(16),void 0===(o="0")&&(o="0"),(r=2)>n.length?new Array(r-n.length+1).join(o)+n:n);var n,r,o}),"",e)}function pt(e,t){return function(e,t,n,r){var o=Number(e.cookies.get(t.name)),i=Date.now();return!isFinite(Number(o))||i>o+n?r().then((function(){return e.cookies.set(t,i)})):Promise.resolve()}(e,tt.wuidLC,864e5,(function(){return function(e,t){var n=e.get("tapi"),r=e.get("logger"),o=["wuid=".concat(encodeURIComponent(t))],i=e.cookies.get(nt);return i&&o.push("ga_utma=".concat(encodeURIComponent(i))),n(e,"webuser?".concat(o.join("&"))).catch((function(e){return r.warn(e,"Wuid provider fetch error")}))}(e,t)}))}var vt=function(e){var t=(void 0===e?{}:e).sendWebuserRequest;return{name:"wuid",run:function(e){var n,r=dt(e,{from:"query"}),o=dt(e,{from:"cookies"});r?(n=r,o&&!("true"===e.location.query.iswebview)||e.cookies.set(tt.wuid,n)):n=o;return n||(n=ft(),e.cookies.set(tt.wuid,n)),t&&pt(e,n),n}}}({sendWebuserRequest:!0}),mt=["ANONYMOUS","AUTHENTICATED","APPLICANT","CANDIDATE","REGISTERED","CLIENT","EMPLOYEE","ADMINISTRATOR","GOD"],gt=mt.indexOf("REGISTERED"),ht="Not Logged In",yt={name:"userInfo",stateKey:["userId","userStatus"],run:function(e,t){void 0===t&&(t={});var n=t.cookieName,r=void 0===n?ot:n,o=t.anonymousId,i=ht,a={userId:void 0===o?"1111":o,userStatus:i},s=e.get("config"),c=e.cookies.get(r);return s.disableUserInfo?Promise.resolve({}):c?e.get("tapi")(e,"session_status?sessionid=".concat(encodeURIComponent(c))).then((function(e){var t=e.payload;return"OK"===e.resultCode?{userId:t.userId,userStatus:mt.indexOf(t.accessLevel)<gt?i:"Logged In"}:a})).catch((function(){return a})):Promise.resolve(a)}};function bt(){return window.matchMedia("(display-mode: standalone)").matches?"standalone":(window.matchMedia("(display-mode: browser)"),"browser")}var wt={hid:{type:"string",source:ze.State,path:"hid"},productCategory:{type:"string",source:ze.State,path:"productCategory"},productName:{type:"string",source:ze.State,path:"productName"},appName:{type:"string",source:ze.State,path:"appName"},wuid:{type:"string",source:ze.Code,code:function(e){var t=e.context,n=dt(t,{from:"query"}),r=dt(t,{from:"cookies"});return n||r}},userType:{type:"int",source:ze.Code,code:function(e){return{Visitor:0,"Client-Light":10,Applicant:20,"Client-Heavy":30}[e.context.cookies.get(rt)||"Visitor"]||0}},userIsNew:{type:"boolean",source:ze.Code,code:function(e){return"new"===e.tracking.state.nr},nullable:!1},wuidVisitId:{type:"string",source:ze.State,path:"wuidVisitId"},wuidVisitNum:{type:"int",source:ze.State,path:"wuidVisitNum"},userLoggedIn:{type:"boolean",source:ze.Code,code:function(e){var t=e.tracking;return t.state.userStatus!==ht&&!!t.state.userStatus},nullable:!1},portalUserId:{type:"string",source:ze.State,path:"userId"},visitorIsNew:{type:"boolean",source:ze.Code,code:function(e){var t=e.context,n=(new Date).getTime(),r=t.cookies.get(tt.visitorNewOrReturn.name);if(!r)return t.cookies.set(tt.visitorNewOrReturn,n+"-New"),!0;var o=r.split("-");return 18e5>n-Number(o[0])&&"New"===o[1]?(t.cookies.set(tt.visitorNewOrReturn,n+"-New"),!0):(t.cookies.set(tt.visitorNewOrReturn,n+"-Repeat"),!1)},nullable:!1},pageUrl:{type:"string",source:ze.Code,code:function(e){return G.resolvePageUrl(e.tracking.state.url)},nullable:!1},parentUrlFlag:{type:"boolean",source:ze.Code,code:function(e){var t;return!!(null===(t=e.tracking.state.url)||void 0===t?void 0:t.frameurl)},nullable:!1},queryParams:{type:"string",source:ze.Code,code:function(e){var t,n=null===(t=e.tracking.state.url)||void 0===t?void 0:t.safeSearch;if("string"==typeof n){var r=n.replace(/(?:\?|&)((?:utm_source|utm_term|utm_content|utm_medium|utm_campaign))(?:=|&?)([\w+,.%-]+)/g,""),o=!r.length||"?"!==r.charAt(0)&&"&"!==r.charAt(0)?0:1;return r.substring(o,o+255)}}},queryParamsFull:{type:"string",source:ze.State,path:"url.safeSearch"},previousPageUrl:{type:"string",source:ze.State,path:"previousPage"},frameUrl:{type:"string",source:ze.Code,code:function(e){var t,n=e.context;if(null===(t=e.tracking.state.url)||void 0===t?void 0:t.frameurl)return n.location.hostname+n.location.pathname}},referrer:{type:"string",source:ze.Code,code:function(){return document.referrer}},pageDomain:{type:"string",source:ze.State,path:"url.hostname"},pagePath:{type:"string",source:ze.State,path:"url.pathname"},lowCardinalityPagePath:{type:"string",source:ze.Code,code:function(e){var t,n=(null===(t=e.tracking.state.url)||void 0===t?void 0:t.pathname)||e.context.location.pathname,r=n.split("/");return-1!==n.indexOf("travel/flights")?r.slice(0,4).join("/"):-1!==n.indexOf("/invest/")||-1!==n.indexOf("/collectmoney/")?r.slice(0,3).join("/"):-1!==n.indexOf("/rm/")?"/rm/id":r.map((function(e){return e.replace(/^(id)?[0-9]{3,}$/,"id")})).join("/")},nullable:!1},pageLanding:{type:"string",source:ze.State,path:"pageLanding"},documentUrl:{type:"string",source:ze.Code,code:function(e){var t=e.context;return t.location.hostname+t.location.pathname}},documentTitle:{type:"string",source:ze.Code,code:function(){return document.title}},documentPath:{type:"string",source:ze.Code,code:function(e){return e.context.location.pathname}},queryUtmSource:{type:"string",source:ze.State,path:"url.safeQuery.utm_source"},queryVariation:{type:"string",source:ze.State,path:"url.safeQuery.variation"},queryDcoCampaign:{type:"string",source:ze.State,path:"url.safeQuery.dco_campaign"},utmSource:{type:"string",source:ze.State,path:"utmMarkers.utm_source"},utmContent:{type:"string",source:ze.Code,code:function(e){var t,n=null===(t=e.tracking.state.utmMarkers)||void 0===t?void 0:t.utm_content;if("string"==typeof n)return n.substring(0,255)}},utmTerm:{type:"string",source:ze.State,path:"utmMarkers.utm_term"},utmMedium:{type:"string",source:ze.State,path:"utmMarkers.utm_medium"},utmCampaign:{type:"string",source:ze.State,path:"utmMarkers.utm_campaign"},sessionUtmSource:{type:"string",source:ze.State,path:"sessionUtmMarkers.utm_source"},sessionUtmMedium:{type:"string",source:ze.State,path:"sessionUtmMarkers.utm_medium"},sessionUtmCampaign:{type:"string",source:ze.State,path:"sessionUtmMarkers.utm_campaign"},sessionMarketingChannel:{type:"string",source:ze.State,path:"sessionMarketingChannel"},internalSource:{type:"string",source:ze.State,path:"url.safeQuery.internal_source"},utmReferrer:{type:"string",source:ze.State,path:"url.safeQuery.utm_referrer"},webMaster:{type:"string",source:ze.State,path:"utmMarkers.wm"},wmSid:{type:"string",source:ze.State,path:"utmMarkers.sid"},gaId:{type:"string",source:ze.Code,code:function(e){var t;return null===(t=e.context.cookies.get("_ga"))||void 0===t?void 0:t.split(".").slice(1).join(".")}},dcoGeneralId:{type:"string",source:ze.State,path:"personalizedLandingMetrics.state.dcoGeneralId"},dcoGeneralMenuId:{type:"string",source:ze.Code,code:function(e){var t=e.tracking;if(Array.isArray(t.state.dcoTracking)){var n=t.state.dcoTracking.find((function(e){return e&&"routesMenu"===e.dcoAppliedEntity&&"string"==typeof e.dcoPlacementUrl&&e.dcoPlacementUrl.includes("boxyNavigation")}));if(n)return n.dcoGeneralId}}},urlBeforeDcoRedirect:{type:"string",source:ze.State,path:"dco.beforeRedirectPageUrl"},dcoId:{type:"string",source:ze.Cookie,name:"dco.id"},dcoSelectedWith:{type:"string",source:ze.State,path:"personalizedLandingMetrics.state.dcoSelectedWith"},dcoAppliedStatus:{type:"string",source:ze.State,path:"personalizedLandingMetrics.enrichmentTechInfo.dcoAppliedStatus"},dcoResponseStatus:{type:"string",source:ze.State,path:"personalizedLandingMetrics.techInfo.response-status"},dcoResponseTime:{type:"double",source:ze.Code,code:function(e){var t,n,r=null===(n=null===(t=e.tracking.state.personalizedLandingMetrics)||void 0===t?void 0:t.techInfo)||void 0===n?void 0:n["response-time"];return isFinite(Number(r))?Number(r):void 0}},dcoGeneralIdBeforeRedirect:{type:"string",source:ze.State,path:"personalizedLandingMetrics.dcoVariablesBeforeRedirect.dcoGeneralId"},homeDcoGeneralIds:{type:"string[]",source:ze.State,path:"homeDcoGeneralIds",nullable:!0},mobileOrientation:{type:"int",source:ze.Code,code:function(){return at()?0:1},nullable:!1},screenWidth:{type:"int",source:ze.Code,code:function(){return window.screen.width},nullable:!1},screenHeight:{type:"int",source:ze.Code,code:function(){return window.screen.height},nullable:!1},screenSize:{type:"string",source:ze.Code,code:function(){return"".concat(window.screen.width," x ").concat(window.screen.height)}},viewportHeight:{type:"int",source:ze.Code,code:function(){return document.documentElement.clientHeight}},viewportWidth:{type:"int",source:ze.Code,code:function(){return document.documentElement.clientWidth}},devicePixelRatio:{type:"double",source:ze.Code,code:function(){return window.devicePixelRatio}},remoteAddress:{type:"string",source:ze.State,path:"remoteAddress"},layoutMedia:{type:"string",source:ze.State,path:"layoutMedia"},uaParserType:{type:"string",source:ze.State,path:"uaParserType"},deviceType:{type:"string",source:ze.Code,code:function(e){var t=e.tracking;if(t.state.hdRequestInfo)return t.state.hdRequestInfo.ismobile?"Mobile":t.state.hdRequestInfo.istablet?"Tablet":t.state.hdRequestInfo.isconsole?"Console":"Desktop"}},deviceVendor:{type:"string",source:ze.State,path:"hdRequestInfo.vendor"},deviceModel:{type:"string",source:ze.State,path:"hdRequestInfo.model"},deviceWidth:{type:"int",source:ze.State,path:"hdRequestInfo.width"},deviceHeight:{type:"int",source:ze.State,path:"hdRequestInfo.height"},deviceDisplaySize:{type:"double",source:ze.State,path:"hdRequestInfo.displaysize"},adblockFlag:{type:"boolean",source:ze.Code,code:function(e){return"no"!==e.tracking.state.adblock}},dspClickId:{type:"string",source:ze.State,path:"dspClickId"},dmpId:{type:"string",source:ze.State,path:"dmpId"},dmpSid:{type:"string",source:ze.Cookie,name:"dmp.sid"},webTrackingConst:{type:"string",source:ze.Static,value:"web-tracking"},errorType:{type:"string",source:ze.State,path:"errorType"},pageErrorCode:{type:"int",source:ze.Code,code:function(e){var t=e.tracking;return isFinite(Number(t.state.pageErrorCode))?Number(t.state.pageErrorCode):void 0}},dcoCampaign:{type:"string",source:ze.State,path:"personalizedLandingMetrics.state.dcoCampaignId"},searchParams:{type:"string",source:ze.State,path:"url.safeSearch"},hashParams:{type:"string",source:ze.State,path:"url.hash"},wuidVisitLandingPage:{type:"string",source:ze.Code,code:function(e){var t=e.context;return t.location.origin+t.location.pathname},persistance:{type:He.WuidVisit,key:"pageLanding"}},isPwa:{type:"boolean",source:ze.Code,code:function(){return"standalone"===bt()}},userId:{type:"string",source:ze.State,path:"userIdAwaited"}},kt={utmContentCid:{type:"string",source:ze.Code,code:function(e){var t,n=(0,e.collect)(wt.utmContent);return null===(t=null==n?void 0:n.split("|cid|")[1])||void 0===t?void 0:t.split("|")[0]}}},St=t(t({},wt),kt),Ct=function(){};function _t(e,t,n){var a;Array.isArray(t)||(n=t,t=[]);var s=Object.assign({},P,n);e.bind("config",s);var c=G.makeUserConsentVault({defaults:s.ucDefaults,alwaysEnabled:s.ucAlwaysEnabled});e.bind("consentVault",c);var u=function(e){var t=e.get("config"),n=e.getOr("log"),r=t.log,o=e.getOr("logger"),i=t.logger;n&&n(qe),r&&r(qe);var a=i||r||o||n;return"object"==typeof a?a:Fe("function"==typeof a?a:Ve)}(e);e.bind("logger",u);var l="u"!==(typeof window)[0],f={};l&&(s.recreateTracking?window[s.global]&&window[s.global]._clearAllListeners():f=window[s.global]?window[s.global]:f,window[s.global]=f,f.localStorage=Qe,f.sessionStorage=Je,f._scriptSrc=(null===(a=document.currentScript)||void 0===a?void 0:a.getAttribute("src"))||void 0);var p=[],m=e.emitter||C();Object.assign(f,m);var g={};f.on=function(e,t){if(e&&"event:"===e.substring(0,6)&&l){var n=e.substring(6),r=function(e){e instanceof CustomEvent&&t(e.detail)},o=g[n]||(g[n]=new Map);o.set(t,r),p.push((function(){document.body.removeEventListener(n,r),o.delete(t)})),document.body.addEventListener(n,r)}else p.push((function(){return m.off(e,t)})),m.on(e,t)},f.off=function(e,t){if("event:"===e.substring(0,6)&&l){var n=e.substring(6),r=g[n],o=null==r?void 0:r.get(t);o&&document.body.removeEventListener(n,o)}else m.off(e,t)},f._clearAllListeners=function(){return p.forEach((function(e){return e()})),f},f.state=Object.assign({},f.state,s.initialState);var h=[],b=!1;function w(e){b=!0,h.push(e)}function _(t,n,r){void 0===r&&(r={}),f.emit("event",t,n),e.getOr("event",Ct)(t,n);var o=[r.legacy?"[LEGACY]":r.fromEventea?"[EVENTEA]":"","Dispatched event:"].filter((function(e){return!!e})).join(" ");u.info(o,t,n)}var I=!1,O=[];f.addEventsHandler=function(e){return O.push(e),f},f.addEventsHandler((function e(t,n){var r=this&&this.isSendContext?this:{};!l||document.body||I||(w(new Promise((function(e){document.addEventListener("DOMContentLoaded",e)}))),I=!0),!1===b?_(t,n,r):Promise.all(h).then((function(r){b=r.length!==h.length,e(t,n)}))}));var j,A=function(e){var t=f.state;return t!==e&&(f.state=e,f.emit("change",e,t)),f},x=(j=[],{run:function(e,t){for(var n=[],r=2;arguments.length>r;r++)n[r-2]=arguments[r];var o=j.map((function(t){return t(e)}));return Re.apply(void 0,o)(t).apply(void 0,n)},add:function(e){j.push(e)}});f.use=function(t){var n="plugin"in t?t.plugin:t;try{n({config:s,tracking:f,context:e,update:A,providersPipeline:x,addEventsBlocker:w})}catch(e){u.error(e,"Failed to initialize plugin ".concat(t.name))}return f},f.event=function(e,t){return O.forEach((function(n){return n(e,t)})),f},f.addPixel=function(e){return function(t){return document.createElement("img").src=V(t),e}}(f),f.addIframePixel=function(e){return function(t){return r(void 0,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,z(e._scriptSrc||"")];case 1:return n=o.sent(),r={type:"TTM_PIXEL_MESSAGE",src:V(t)},null===(i=null==n?void 0:n.contentWindow)||void 0===i||i.postMessage(r,"*"),[3,3];case 2:return o.sent(),[3,3];case 3:return[2,e]}}))}))}}(f),f.addPixels=function(e){return function(t,n){void 0===n&&(n={});var r=n.timeout,o=void 0===r?3e3:r,i=n.completeEvent,a=void 0===i?"pixelRequestsCompleted":i,s=t.map(V),c=s.map(W),u=!1;return F?Promise.resolve(e.event(a,{timeout:u,urls:s})):Promise.race([q(c),new Promise((function(e){return setTimeout((function(){u=!0,e(null)}),o)}))]).then((function(){return e.event(a,{timeout:u,urls:s})}))}}(f),f.utils={getConsentVault:function(){return c}},f.addUtil=function(t){var n=t.name,r=t.init;try{f.utils[n]=r({tracking:f,context:e}),f.emit("util-provided:".concat(n),f.utils[n])}catch(e){u.error(e,"Failed to initialize util ".concat(n))}return f},f.callUtil=function(e){for(var t=[],n=1;arguments.length>n;n++)t[n-1]=arguments[n];var r=new Promise((function(e,t){return setTimeout((function(){return t(new Error("Timeout has been reached"))}),s.utilTimeout)})),o=new Promise((function(n){var r;e in f.utils?n((r=f.utils)[e].apply(r,t)):f.on("util-provided:".concat(e),(function(e){n(e.apply(void 0,t))}))}));return Promise.race([o,r]).catch((function(t){u.error(t,'Calling tracking utility "'.concat(e,'" has been failed'))}))},f.extend=function(e){u.info("Tracking extend:",e);var t=Object.keys(e).reduce((function(t,n){return v(t,n.split("."),e[n])}),f.state);return A(t)},f.extendDeep=function(e){u.info("Tracking extendDeep:",e);var t=Object.keys(e).reduce((function(t,n){return k(t,n.split("."),(function(e,t){return Be(e)&&Be(t)?function(){for(var e=arguments,t=arguments.length,n=0,r=arguments[0];++n<t;)r=S(r,e[n]);return r}(e,t):t}),e[n])}),f.state);return A(t)},f.remove=function(){for(var e=[],t=0;arguments.length>t;t++)e[t]=arguments[t];u.info("Tracking remove:",e.join(", "));var n=y.apply(void 0,i([f.state],e.map((function(e){return e.split(".")})),!1));return A(n)};f.updateLocation=function(){var t=function(t){var n,r,o=B.run(e);return o.href!==(null===(n=t.url)||void 0===n?void 0:n.href)?(null===(r=t.url)||void 0===r?void 0:r.href)?v(t,"url",o,"previousPage",G.removeQueryParams(t.url.href)):v(t,"url",o):t}(f.state);return t!==f.state&&(A(t),f.emit("newLocation")),f},f.update=A;var E=s.providers||{},M=function(t,n){if(void 0===n&&(n=!1),t.needsConsent&&!c.isAllowed(t.needsConsent))return c.once("update",(function(){M(t,n)})),Promise.resolve();var r,o=t.stateKey||t.name,i=E[t.name];if(f.emit("provider-run",t.name),n){var a=void 0;if(o instanceof Array){var s=o.reduce((function(e,t){return void 0!==d(f.state,t)&&(e[t]=d(f.state,t)),e}),{});re(s)||(a=s)}else a=d(f.state,o.split("."));if(void 0!==a)return f.emit("provider-resolved",t.name,a),Promise.resolve()}try{r=Promise.resolve(x.run(t,t.run,e,i))}catch(e){r=Promise.reject(e)}return r.then((function(e){!function(e,t){var n;f.extend("string"==typeof e?((n={})[e]=t,n):t)}(o,e),f.emit("provider-resolved",t.name,e)})).catch((function(e){if(!e||"ESkipApply"!==e.code)throw f.emit("provider-error",t.name,e),u.error(e,"Provider ".concat(t.name," error")),e}))},T=function(t){var n=t.map((function(t){return"client"===e.env&&t.observe&&t.observe(e,(function(){M(t,!1)})),M(t,!0)}));return n.length?q(n):Promise.resolve()};f.ready=Promise.resolve().then((function(){return T(t)}));var L=Ye(f);return f._prot={collectDataElements:function(e,t){return et(f,e,t)},collectDataElement:function(e){return Ze(f,L,e)},context:e,dataPool:St},f.waitFor=function(e){return e in f.state?Promise.resolve(f.state[e]):new Promise((function(t){var n=function(r){e in r&&(t(r[e]),f.off("change",n))};f.on("change",n)}))},f.fullfill=T,f._version="5.114.1",l&&_("tracking-created",f),f}var Pt=function(){function e(e){void 0===e&&(e={}),this.services={},this._env="u"===(typeof window)[0]?"server":"client";for(var t=0,n=Object.keys(e);n.length>t;t++){var r=n[t];this.bind(r,e[r])}}return Object.defineProperty(e.prototype,"env",{get:function(){return this._env},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.get("location")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cookies",{get:function(){if(this._cookiesPubl)return this._cookiesPubl;var e=this.services.cookies;if(!e)throw new Error("No cookies service");return this._cookiesPubl=G.makeCookiesPubl(e,this.get("consentVault")),this._cookiesPubl},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=this.services[e];if(void 0!==t)return t;throw new Error("No service ".concat(e))},e.prototype.getOr=function(e,t){var n=this.services[e];return void 0!==n?n:t},e.prototype.bind=function(e,t){this.services[e]=t},e}();var It={tapi:function(e,n,r){void 0===r&&(r={});var o=e.get("request"),i=e.get("config");return i.api?o("".concat(i.api).concat(n),t({},r)).then((function(e){return e.json()})):Promise.reject("config.api is not configured")},configApi:function(e,n,r){void 0===r&&(r={});var o=e.get("config").configApi;return e.get("request")("".concat(o).concat(n),t({},r)).then((function(e){return e.json()}))}};var Ot=function e(t){var n=Math.random().toString(36).slice(2);return 10>n.length?e():n},jt=function(e){var n,r=e.url,o=e.payload,i=e.timeout,a=e.cbname,s=void 0===a?"callback":a,c="cb".concat(Ot()),u=j(t(((n={})[s]=c,n),o));return new Promise((function(e,t){var n=document.createElement("script"),o=!1;n.addEventListener("error",(function(e){o||(t(e),o=!0)})),window[c]=function(t){delete window[c],document.head.removeChild(n),o||(e(t),o=!0)},n.src=r+u,document.head.appendChild(n),i&&setTimeout((function(){o||(o=!0,t(new Error("Timeout")))}),i)}))},At=function(t){function n(e){var n=t.call(this,"Not success status code of request: ".concat(e.status," ").concat(e.statusText))||this;return n.statusCode=e.status,n.statusText=e.statusText,n.url=e.url,n}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,t),n}(Error);function xt(e){if(200>e.status||e.status>=400)throw new At(e);return e}var Et=function(e,r){void 0===r&&(r={});var o=r.headers,i=r.timeout,a=void 0===i?1500:i,s=r.body,c=r.method,u=void 0===c?"GET":c,l=n(r,["headers","timeout","body","method"]),d={},f={method:u,headers:d},p=function(e){if("AbortController"in window){var t=new AbortController;return setTimeout((function(){t.abort()}),e),t.signal}}(a);return p&&(f.signal=p),void 0!==s&&("string"==typeof s?f.body=s:(f.body=JSON.stringify(s),d["Content-Type"]="application/json")),Object.assign(f.headers,o),fetch(e,t(t({},f),l)).then(xt).catch((function(t){throw t instanceof Error&&((null==p?void 0:p.aborted)&&(t.message="Request time exceeded ".concat(a,"ms")),Object.assign(t,{url:e,method:u})),t}))},Mt={},Tt={},Lt={},Dt=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.resolvePreviousPage=function(e){var t=e.referrer,n=e.location,r=e.internalDomains,o=1===(0,Ut.default)(["performance","navigation","type"],Bt.w)?n:t;if(!o)return;if((0,Nt.isExternalNavigation)(n.hostname,o.hostname,r))return;return(0,Rt.removeQueryParams)(o.href)};var Ut=Dt(Ke),Nt=se,Rt=fe,Bt=Ie;var Vt={},qt=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.cookieStorage=Vt.CookieStorage=void 0;var Ft=qt(ye),Wt=Ie,Ht=Oe,zt=_e,Gt=De,Qt=function(){function e(e,t){this.limits=e,this.logger=t,this.isCookieAvailable=null,this.hasSamesiteNoneSupport=null,this.localState=Object.create(null)}return e.prototype.get=function(e){return this.checkCookieAvailability()?this.getCookie(e):this.getLocalState(e)},e.prototype.getAll=function(){return this.checkCookieAvailability()?this.getAllCookies():this.getAllLocalState()},e.prototype.set=function(e,t,n,r){this.checkCookieAvailability()&&this.setCookie(e,t,n,r),this.setLocalState(e,t)},e.prototype.remove=function(e,t){this.checkCookieAvailability()?this.removeCookie(e,t):this.removeLocalState(e)},e.prototype.checkCookieAvailability=function(){if(null!=this.isCookieAvailable)return this.isCookieAvailable;if(null==Wt.d.cookie)return this.isCookieAvailable=!1,this.isCookieAvailable;var e="test_cookie_sqJPwCiceI";Wt.d.cookie="".concat(e,"=true");var t=this.getCookie(e);return this.isCookieAvailable="true"===t,Wt.d.cookie="".concat(e,"=; expires=").concat(new Date(0).toUTCString()),this.isCookieAvailable},e.prototype.checkSamesiteNoneSupport=function(){if(null!=this.hasSamesiteNoneSupport)return this.hasSamesiteNoneSupport;if(!this.checkCookieAvailability())return this.hasSamesiteNoneSupport=!1,this.hasSamesiteNoneSupport;var e="test_cookie_yIKsyPp4Fh";Wt.d.cookie="".concat(e,"=true; samesite=none; secure");var t=this.getCookie(e);return this.hasSamesiteNoneSupport="true"===t,Wt.d.cookie="".concat(e,"=; expires=").concat(new Date(0).toUTCString()),this.hasSamesiteNoneSupport},e.prototype.getCookie=function(e){var t=this.getRawCookie(e);return t?decodeURIComponent(t):null},e.prototype.getAllCookies=function(){var e=this.getAllRawCookies();return(0,Ft.default)(e).reduce((function(e,t){return e[t[0]]=decodeURIComponent(t[1]),e}),{})},e.prototype.setCookie=function(e,t,n,r){var o;void 0===n&&(n="session"),void 0===r&&(r=!1);try{(0,Ht.checkCookieLimit)(this.limits,e,String(t))}catch(e){return void(null===(o=this.logger)||void 0===o||o.error(e))}var i=[];if(i.push("".concat(e,"=").concat(encodeURIComponent(t)),"path=/","domain=".concat(r?(0,Gt.extractDomain)(Wt.w.location.hostname):Wt.w.location.hostname)),"session"!==n){var a=0===n?new Date(0):new Date(Date.now()+1e3*n);i.push("expires=".concat(a.toUTCString()))}this.checkSamesiteNoneSupport()&&i.push("samesite=none","secure"),Wt.d.cookie=i.join("; ")},e.prototype.removeCookie=function(e,t){null!==this.getCookie(e)&&this.setCookie(e,"",0,t)},e.prototype.getLocalState=function(e){return this.localState[e]||null},e.prototype.getAllLocalState=function(){return this.localState},e.prototype.setLocalState=function(e,t){return this.localState[e]=t.toString(),t},e.prototype.removeLocalState=function(e){e in this.localState&&delete this.localState[e]},e.prototype.getRawCookie=function(e){return Wt.d.cookie.split("; ").reduce((function(t,n){var r=n.split("=");return r[0]===e?r[1]:t}),"")||null},e.prototype.getAllRawCookies=function(){return Wt.d.cookie.split("; ").reduce((function(e,t){var n=t.split("="),r=n[0];return r?(e[r]=n[1],e):e}),{})},e}();Vt.CookieStorage=Qt,Vt.cookieStorage=new Qt(zt.cookiesLimits);var Jt={},Kt=A&&A.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.safeCookieStorage=Jt.SafeCookieStorage=void 0;var $t=_e,Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Kt(t,e),t.prototype.get=function(t){try{return e.prototype.get.call(this,t)}catch(n){return e.prototype.getRawCookie.call(this,t)}},t.prototype.getAll=function(){try{return e.prototype.getAll.call(this)}catch(t){return e.prototype.getAllRawCookies.call(this)}},t}(Vt.CookieStorage);Jt.SafeCookieStorage=Xt,Jt.safeCookieStorage=new Xt($t.cookiesLimits);var Yt={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.locationWithQuery=function(e){void 0===e&&(e=tn.d.location);var t={get query(){return(0,en.parseQuery)(e.search.slice(1))},get pathname(){return"/"!==e.pathname.charAt(0)?"/".concat(e.pathname):e.pathname}};return["hash","host","hostname","href","port","protocol","search","origin"].forEach((function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){"origin"!==n&&(e[n]=t)},enumerable:!0})})),t};var en=fe,tn=Ie;Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.parseUrl=function(e){var t=rn.d.createElement("a");return t.href=e,(0,nn.locationWithQuery)(t)};var nn=Zt,rn=Ie;var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.referrer=function(){return sn.d.referrer?(0,an.parseUrl)(sn.d.referrer):void 0};var an=Yt,sn=Ie;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.locationWithQuery=e.referrer=e.parseUrl=e.SafeCookieStorage=e.CookieStorage=e.cookieStorage=e.resolvePreviousPage=void 0;var t=Lt;Object.defineProperty(e,"resolvePreviousPage",{enumerable:!0,get:function(){return t.resolvePreviousPage}});var n=Vt;Object.defineProperty(e,"cookieStorage",{enumerable:!0,get:function(){return n.cookieStorage}}),Object.defineProperty(e,"CookieStorage",{enumerable:!0,get:function(){return n.CookieStorage}});var r=Jt;Object.defineProperty(e,"SafeCookieStorage",{enumerable:!0,get:function(){return r.SafeCookieStorage}});var o=Yt;Object.defineProperty(e,"parseUrl",{enumerable:!0,get:function(){return o.parseUrl}});var i=on;Object.defineProperty(e,"referrer",{enumerable:!0,get:function(){return i.referrer}});var a=Zt;Object.defineProperty(e,"locationWithQuery",{enumerable:!0,get:function(){return a.locationWithQuery}})}(Tt),function(e){var t=A&&A.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=A&&A.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Tt,e)}(Mt);var cn=function(){try{var e=new CustomEvent("a",{detail:{b:"c"}});return"a"===e.type&&"c"===e.detail.b}catch(e){}return!1}()?function(e,t){return new CustomEvent(e,t)}:function(e,t){var n=t.bubbles,r=void 0!==n&&n,o=t.cancelable,i=void 0!==o&&o,a=t.detail,s=document.createEvent("CustomEvent");return s.initCustomEvent(e,r,i,a),s};function un(e,t,n){void 0===n&&(n=document.body),n.dispatchEvent(cn(e,{detail:t,bubbles:!0}))}function ln(e,t){var n=e.get("request"),r=e.get("config").frontLogApi;return n("".concat(r,"collect"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),keepalive:!0})}function dn(e,t){return r(this,void 0,void 0,(function(){var n,r,i,a,s,c,u,l,d,f,p;return o(this,(function(o){switch(o.label){case 0:if(n=t.configName,i=void 0===(r=t.maxRetries)?3:r,s=void 0===(a=t.timeout)?1e4:a,c=e.get("request"),!(u=e.get("config").cdnUrl))throw new Error("cdnUrl is not provided, getRemoteConfig cannot be used");l="".concat(u,"/configs/prod/").concat(n,".json"),f=0,o.label=1;case 1:if(i<=f)return[3,6];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,c(l,{timeout:s}).then((function(e){return e.json()}))];case 3:return[2,o.sent()];case 4:return p=o.sent(),d=p,[3,5];case 5:return f++,[3,1];case 6:throw d}}))}))}var fn,pn=function(){function e(){var e=this;this.send=function(t){e.__addEventToStore(["send",t])},this.sendOnce=function(t){return e.__addEventToStore(["sendOnce",t]),!0},this.data=function(t){e.__addEventToStore(["data",t])},window&&!window._evnteq&&(window._evnteq=[])}return e.prototype.__addEventToStore=function(){for(var e,t=[],n=0;arguments.length>n;n++)t[n]=arguments[n];(null===window||void 0===window?void 0:window._evnteq)&&(e=window._evnteq).push.apply(e,t)},e}(),vn=t(t(((fn={})[tt.pageLanding.name]=225,fn),G.utmCookiesLimits),{default:G.cookiesLimits.default}),mn={enrichedStatistClient:void 0};function gn(){if("undefined"!=typeof window&&window.twtConfig&&window.twtConfig.statistClient){if(!mn.enrichedStatistClient){var e=window.twtConfig.statistClient.fork({enrich:function(e){var t,n;return e.project.startsWith("eventea.projects.")&&(null===(n=null===(t=null===window||void 0===window?void 0:window.tracking)||void 0===t?void 0:t.getEventeaEnrichment)||void 0===n?void 0:n.call(t))||{}}});mn.enrichedStatistClient=e}return mn.enrichedStatistClient}}function hn(){var e=-1!==(Qe.getItem("debug")||"").indexOf("Twt:info:tracking")?console:We;return t(t({},It),{logger:e,jsonp:jt,parseUrl:Mt.parseUrl,request:Et,location:Mt.locationWithQuery(),cookies:new Mt.SafeCookieStorage(vn,e),referrer:Mt.referrer(),event:un,collectLog:ln,remoteConfig:dn,DO_NOT_USE_eventea:new pn,statistClient:gn()})}var yn={name:"utmMarkers",stateKey:["utmMarkers","ctx_position","ctx_block","ctx_source"],run:function(e){var t=G.resolveReferrer({referrer:e.getOr("referrer"),locationHostname:e.location.hostname});return G.resolveUtmMarkers({cookies:e.cookies,location:e.location,referrer:t,parseUrl:e.get("parseUrl"),internalDomains:e.get("config").internalDomains})}},bn={name:"dmpId",run:function(e){var t=e.cookies.get(it);return Promise.resolve(t&&"no dmp_id"!==t?t:"")}},wn=E(2,(function(e,t){var n;function r(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return t.apply(r,o)}),e)}return r.cancel=function(){return clearTimeout(n)},r})),kn=wn;function Sn(e){return Object.keys(e)}var Cn,_n={desktopLarge:"(min-width: 1600px)",desktopMedium:"(min-width: 1360px)",desktopSmall:"(min-width: 1024px)",tabletLarge:"(min-width: 768px)",tabletSmall:"(min-width: 600px)",mobile:"(min-width: 599x)"},Pn=Sn(_n),In={name:"layoutMedia",run:function(){var e="mobile";try{for(var t=0,n=Pn;n.length>t;t++){var r=n[t];if(matchMedia(_n[r]).matches){e=r;break}}}catch(e){}return e},observe:function(e,t){addEventListener("resize",kn(300,t))}},On=function(e){return Math.round(e)/1e3},jn=function(e){return function(t){return e.test(t)}},An=jn(/\.js$/),xn=jn(/\.css$/),En=jn(/\.(?:svg|png|jpeg|webp|jpg)$/),Mn=jn(/\.(?:woff|eot|woff2|ttf)/);!function(e){e.html="html",e.js="js",e.css="css",e.img="img",e.font="font",e.other="other"}(Cn||(Cn={}));var Tn=function(e,t){if(e.getEntriesByType)return e.getEntriesByType(t)},Ln=function(e){var t=Tn(e,"paint");return t&&t[0]?t[0].startTime:0},Dn=function(e,t){return e&&e[t]||0},Un=function(e,t){return{duration:Dn(e,"duration")+On(t.duration),transferSize:Dn(e,"transferSize")+t.transferSize,encodedBodySize:Dn(e,"encodedBodySize")+t.encodedBodySize}},Nn=function(e){var t={},n=Tn(e,"resource");if(n&&n.length>0){var r={};n.forEach((function(e){var n=function(e){switch(!0){case xn(e):return Cn.css;case An(e):return Cn.js;case En(e):return Cn.img;case Mn(e):return Cn.font;default:return Cn.other}}(e.name.split("?",1)[0]);Cn[n]&&(r[n]||(r[n]=0),r[n]++,t[n]=Un(t[n],e),t[n].count=r[n])}))}var o=Tn(e,"navigation");return o&&o.length>0&&(t[Cn.html]=Un({},o[0])),t};var Rn=function(e){return e.getEntries?e.getEntriesByType("resource").sort((function(e,t){var n=e.duration,r=t.duration;return n>r?1:n===r?0:-1})).reduce((function(e,t){var n,r=function(e){var t,n=e.name,r=e.duration;return{name:n=n.split("?",1)[0],duration:(t=r,Math.round(t)/1e3)}}(t),o=r.name,i=r.duration,a=function(e){return/\.js$/.test(e)?"js":/\.css$/.test(e)?"css":/\.(?:svg|png|jpeg)$/.test(e)?"img":/\.(?:woff|eot|woff2|ttf)/.test(e)?"font":"other"}(o);return e[a]?e[a][o]=i:e[a]=((n={})[o]=i,n),e}),{}):{}},Bn=function(){try{var e=window.performance,n=function(){var e;try{if(!(e=window.performance).timing||!e.timing.loadEventEnd)throw 0===e.timing.loadEventEnd&&console.error("Library used at browser initialization page. Reed docs"),new Error("Not implemented timing api")}catch(e){return{}}var t=e.timing,n=t.requestStart,r=t.responseStart,o=t.domComplete,i=t.loadEventEnd,a=t.domInteractive,s=t.navigationStart,c=[{key:"connection",start:s,end:n},{key:"backend",start:n,end:r},{key:"pageDownload",start:r,end:t.responseEnd},{key:"first-paint",start:0,end:Ln(e)},{key:"domInteractive",start:s,end:a},{key:"domComplete",start:s,end:o},{key:"pageLoadTime",start:s,end:i}],u={};return c.forEach((function(e){var t=On(e.end-e.start);u[e.key]=t>0||2e3>t?t:void 0})),u.download=Nn(e),u}(),r=function(e){var t=e;if(!t.download)return{};for(var n={sizeTransferred:0,sizeResources:0},r=0,o=Sn(t.download);o.length>r;r++){var i=o[r];Object.prototype.hasOwnProperty.call(t.download,i)&&(n.sizeTransferred+=t.download[i].transferSize,n.sizeResources+=t.download[i].encodedBodySize)}return n}(n);return t({navigationStart:e.timing.navigationStart,timezone:-1*(new Date).getTimezoneOffset()/60,timings:n,requests:Rn(e)},r)}catch(e){return{}}};var Vn,qn={name:"pageSpeed",run:function(e){return new Promise((function(e){"complete"===document.readyState?e():window.addEventListener("load",(function(){return e()}))})).then((function(){return void 0===(e=0)&&(e=0),new Promise((function(n){setTimeout((function(){return n(t)}),e)}));var e,t})).then((function(){var e=Bn(),r=e.requests,o=e.timings,i=n(e,["requests","timings"]);return t(t(t({},i),o),{requests:r,timings:o})}))}},Fn={name:"adblock",run:function(e,t){void 0===t&&(t={});var n=null;return t.fakeDivId?n=document.getElementById(t.fakeDivId):((n=document.createElement("div")).setAttribute("class","ads ad adsbox ad-placement carbon-ads"),n.setAttribute("style","height: 1px;width: 1px;position: absolute;left: -9999px;top: -9999px"),document.body.appendChild(n)),new Promise((function(e){setTimeout((function(){e(n&&0===n.offsetHeight?"yes":"no")}),20)}))}},Wn={name:"userType",run:function(e){return e.cookies.get(rt)||"Visitor"}},Hn={name:"pageLanding",run:function(e){var t=e.cookies.get(tt.pageLanding.name);t&&"/"===t[0]&&(t=e.location.origin+t);var n=t||e.location.origin+e.location.pathname;return e.cookies.set(tt.pageLanding,n),n}},zn={name:"referrer",run:function(e){return G.resolveReferrer({referrer:e.getOr("referrer"),locationHostname:e.location.hostname})}},Gn={name:"previousPage",run:function(e){return Mt.resolvePreviousPage({referrer:e.getOr("referrer"),location:e.location,internalDomains:e.get("config").internalDomains})}},Qn={name:"dspClickId",run:function(e){var t=O(e),n=t&&t.query[tt.dspId.name]||e.location.query[tt.dspId.name],r=e.cookies.get(tt.dspId.name),o=n||r||"no dsp_click_id";return e.cookies.set(tt.dspId,o),o}},Jn={name:"tcpaClickId",run:function(e){var n=O(e),r=(null==n?void 0:n.query[tt.tcpaId.name])||e.location.query[tt.tcpaId.name];if(r){var o=Number(e.location.query.cookie_exp),i=Number.isFinite(o)?60*o*60:"session";return e.cookies.set(t(t({},tt.tcpaId),{expires:i}),r),r}var a=e.cookies.get(tt.tcpaId.name);if(a)return a}},Kn={name:"yclid",run:function(e){var t=O(e),n=(null==t?void 0:t.query[tt.yclid.name])||e.location.query[tt.yclid.name];if(n)return e.cookies.set(tt.yclid,n),n;var r=e.cookies.get(tt.yclid.name);return r||void 0}};function $n(e,t){for(var n={},r=0,o=e;o.length>r;r++){var i=o[r];i in t&&(n[i]=t[i])}return n}!function(e){e.PaidSearch="Paid Search",e.Target="Target",e.Display="Display",e.Native="Native",e.Bloggers="Bloggers",e.Affiliates="Affiliates",e.JobSearchSite="Job Search Site",e.SMS="SMS",e.Email="Email",e.OrganicSearch="Organic Search",e.SMM="SMM",e.MemberGetAMember="Member Get a Member",e.Messengers="Messengers",e.Referral="Referral",e.Direct="Direct",e.Unsorted="Unsorted"}(Vn||(Vn={}));var Xn,Yn=["utm_source","utm_content","utm_campaign","utm_medium","utm_term"];function Zn(e){var n,r,o,i,a=e.location,s=e.referrer,c=e.internalDomains,u=a.query.parent_url,l=u?(0,e.parseUrl)(u):void 0,d=a.query.utm_source||!l?a.query:l.query,f=a.hash.replace("#",""),p=f?G.parseQuery(f):{},v=$n(G.internalMarkers,d),m=$n(Yn,d),g=$n(Yn,p),h=re(m)?g:m;function y(){return t({internal_source:""},v)}function b(e){!function(e,t){for(var n=0,r=e;r.length>n;n++){var o=r[n],i=t[o];i?Je.setItem(o,i.toString()):Je.removeItem(o)}}(Yn,e)}if(h.utm_source)b(r=t(t({collectionMethod:Xn.GetParams,utm_source:""},y()),h));else{o=Yn.reduce((function(e,t){var n=Je.getItem(t);return n&&(e[t]=n),e}),{}),i=null,o.utm_source&&(i=Xn.Storage);var w=null===(n=(r=t(t({collectionMethod:i,utm_source:""},y()),o)).utm_source)||void 0===n?void 0:n.includes(".");""!==s&&G.isExternalNavigation(a.hostname,s,c)&&(r.utm_source&&!w||b(r=t({utm_source:s,collectionMethod:Xn.Referrer},y())))}var k=function(e){var t=e.utm_source,n=e.utm_medium,r=void 0===n?"":n;return r.startsWith("ctx")||r.startsWith("context")||t.includes("yabs.yandex")?Vn.PaidSearch:r.startsWith("trg")||r.startsWith("target")?Vn.Target:r.startsWith("dsp")||r.startsWith("display")||r.startsWith("vdo")?Vn.Display:r.startsWith("ntv")?Vn.Native:r.startsWith("blg")||r.startsWith("ins")?Vn.Bloggers:r.startsWith("aft")||r.startsWith("affiliate")?Vn.Affiliates:t.startsWith("vac")?Vn.JobSearchSite:r.includes("sms")||t.includes("sms")?Vn.SMS:r.startsWith("mln")||r.startsWith("email")?Vn.Email:!r&&["yandex.","google.","com.google","mail.ru","bing.","rambler.","duckduckgo.","yahoo."].some((function(e){return t.includes(e)}))?Vn.OrganicSearch:["vk.com","instagram.com",".facebook.","com.twitter","linkedin.com","twitter.com","livejournal.com","reddit.com","youtube.com"].some((function(e){return t.includes(e)}))||"ok.ru"===t||"vk.com"===t||r.startsWith("smm.")||r.startsWith("social")?Vn.SMM:t.includes("mgm_")||t.includes("baf_")?Vn.MemberGetAMember:"t.co"===t||"t.me"===t?Vn.Messengers:t.includes(".")&&!r?Vn.Referral:t||r?Vn.Unsorted:Vn.Direct}(r);return{sessionUtmMarkers:r,sessionMarketingChannel:k}}!function(e){e.Storage="storage",e.GetParams="get",e.Referrer="referrer"}(Xn||(Xn={}));var er,tr={name:"sessionUtmMarkers",stateKey:["sessionUtmMarkers","sessionMarketingChannel"],run:function(e){var t=G.resolveReferrer({referrer:e.getOr("referrer"),locationHostname:e.location.hostname});return Zn({location:e.location,referrer:t,parseUrl:e.get("parseUrl"),internalDomains:e.get("config").internalDomains})}},nr={name:"wuidVisit",stateKey:["wuidVisitId","wuidVisitNum"],observe:function(e,t){var n,r,o=["mousemove","click","keypress"],i=function(){n=setTimeout((function(){n=void 0;var e=function(){for(var n=0,a=o;a.length>n;n++){document.removeEventListener(a[n],e)}r=void 0,t(),i()};r=e;for(var a=0,s=o;s.length>a;a++){document.addEventListener(s[a],e)}}),3e4)};return i(),function(){if(r)for(var e=0,t=o;t.length>e;e++){document.removeEventListener(t[e],r)}n&&clearTimeout(n)}},run:function(e){var t=e.cookies.get(tt.wuid.name);if(!t)return e.cookies.remove(tt.wuidVisitId.name),e.cookies.remove(tt.wuidVisitPersistence.name),{wuidVisitId:"",wuidVisitNum:0,nr:"new"};var n=e.cookies.get(tt.wuidVisitId.name),r=e.cookies.get(tt.wuidVisitPersistence.name),o=(n||"").split(":"),i=o[0],a=o[2],s=o[3],c=1;if("v1"===i&&s===t){var u=Number(o[1])||1/0;isFinite(u)&&(c=r?u:u+1)}for(var l="".concat(c);7>l.length;)l="0".concat(l);var d=Date.now();if("v1"===i&&s===t){var f=Number(a)||1/0;isFinite(f)&&r&&(d=f)}var p=["v1",l,d,t].join(":");return e.cookies.set(tt.wuidVisitId,p),e.cookies.set(tt.wuidVisitPersistence,d),{wuidVisitId:p,wuidVisitNum:c,nr:1===c?"new":"return"}}};!function(e){e.Mobile="Mobile",e.Tablet="Tablet",e.Desktop="Desktop"}(er||(er={}));var rr={name:"deviceInfo",stateKey:["deviceScreen","deviceType"],run:function(){var e=window.screen;return{deviceScreen:{width:e.width,height:e.height,pixelRatio:window.devicePixelRatio},deviceType:!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)?er.Desktop:600>window.screen.width?er.Mobile:er.Tablet}}},or=[Qn,Jn,yt,yn,B,Wn,Hn,zn,bn,In,qn,Fn,st,vt,nr,Gn,Kn,tr,rr],ir={},ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.tBankInternalDomains=void 0,ar.tBankInternalDomains=["tinkoff.ru","tinkoffinsurance.ru","dolyame.ru","tbank.ru"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tBankInternalDomains=void 0;var t=ar;Object.defineProperty(e,"tBankInternalDomains",{enumerable:!0,get:function(){return t.tBankInternalDomains}})}(ir);var sr={enrichTimeout:1500,disablePageLoad:!1,disableSpaUpdateLocation:!1,internalDomains:ir.tBankInternalDomains};function cr(e){var t=e.tracking,n=performance.timing.navigationStart;t.on("newLocation",(function(){n=+new Date,t.remove("timing")}));for(var r=function(e){t.on("event:".concat(e),(function(){var r;n&&t.extend(((r={})["timing.".concat(e)]=+new Date-n,r))}))},o=0,i=["pageLoad"];i.length>o;o++){r(i[o])}}var ur={timings:{formOnReading:["pageLoad","formFirstInteraction"],timeOnVerification:["formSubmit","formMobileVerified"]},stepsStartEvent:"formFirstInteraction",stepsEndEvent:"formSubmit"};function lr(e){void 0===e&&(e={});var t=Object.assign({},ur,e),n=t.timings,r=t.stepsStartEvent,o=t.stepsEndEvent;return function(e){var t=e.tracking,i=e.context.get("logger"),a={};t.on("newLocation",(function(){t.remove("stepDurations")})),Object.keys(n).forEach((function(e){var r=n[e];t.on("event:".concat(r[0]),(function(){a[e]=Date.now()})),t.on("event:".concat(r[1]),(function(){var n,r=Date.now(),o=a[e];o&&r>=o&&t.extend(((n={})["stepDurations.".concat(e)]=Math.round((r-o)/1e3),n))}))})),function(e,t,n,r){var o,i={};function a(e){void 0!==e&&(o=e,i[e]=Date.now())}function s(t){var n;if(void 0!==t){var r=i[t],o="timeOnStep".concat(t),a=Date.now();r&&a>=r&&e.extend(((n={})["stepDurations.".concat(o)]=Math.round((a-r)/1e3),n))}}e.on("event:".concat(n),(function(){return a(1)})),e.on("change",(function(e,n){e.step!==n.step&&e.step>1&&(o&&e.step>o+1&&t.error(new Error("Steps has been skipped in step durations plugin: from ".concat(o," to ").concat(e.step))),s(o),a(e.step))})),e.on("event:".concat(r),(function(){return s(o)})),e.on("newLocation",(function(){return o=void 0}))}(t,i,r,o)}}var dr=function(){var e=document.body,t=document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);return{viewport:document.documentElement.clientHeight,height:n,scrollTop:window.pageYOffset||document.documentElement.scrollTop}},fr=E(2,(function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))})),pr=fr,vr={scrollEventName:"pageScroll",eventDelay:300},mr={viewport:"ta_viewport_previous",scroll:"ta_scroll_previous",height:"ta_height_previous"},gr={viewport:"previousViewport",scroll:"previousScroll",height:"previousHeight"};function hr(e,t){try{sessionStorage.setItem(mr[e],t.toString())}catch(e){return}}function yr(e){for(var t=0,n=Sn(e);n.length>t;t++){var r=n[t],o=e[r];void 0!==o&&hr(r,o)}}function br(){return["viewport","scroll","height"].reduce((function(e,t){var n=function(e){try{var t=sessionStorage.getItem(mr[e])||"",n=parseInt(t,10);return isNaN(n)?void 0:n}catch(e){return}}(t);return void 0!==n&&(e[gr[t]]=n),e}),{})}function wr(e){return e.length>0?e[0].toUpperCase()+e.slice(1):e}function kr(e,t){return d(e,t.split("."))}function Sr(e,t,n){return Object.keys(t).every((function(r){return function(e,t){return t.split("|").some((function(t){return void 0!==kr(e,t)}))}(e,r)||t[r]&&Date.now()-n>=t[r]}))}function Cr(e){var n,r=e.timeouts,o=void 0===r?{}:r,i=e.readyEvent,a=e.readyEventPayload,s=e.action,c=e.beforeEvent,u=e.tracked,l=e.blocked,d=e.resetOnSPATransition,f=void 0!==d&&d,p=void 0!==u&&u,v=void 0!==l&&l,m=Date.now(),g=!1,h=t({},a),y=function(){if(!n)throw new Error("plugin isn't bound");var e=s||n.event;if(!g&&!v&&!p&&function(){if(!n)throw new Error("plugin isn't bound");return Sr(n.state,o,m)}()){g=!0;var t=[];c&&un(c,{waitFor:function(e){t.push(e)}},document),t.length>0?Promise.all(t).then((function(){n.emit("private".concat(wr(i))),e(i,h)})):(n.emit("private".concat(wr(i))),e(i,h))}},b=Object.keys(o),w=function(){m=Date.now(),p=!1,g=!1,y(),g||k()},k=function(){b.forEach((function(e){var t=o[e];isFinite(t)&&t&&setTimeout(y,t+1)}))};return{name:"data-observer",trySend:y,setTracked:function(e){p=e,g=e},setBlocked:function(e){v=e,n&&!v&&y()},plugin:function(e){n=e.tracking,k(),setTimeout(y),n.on("event:".concat(i),(function(){if(p=!0,Qe.getItem("twt:tracking:do")){console.group("do:".concat(i));for(var e=0,t=b;t.length>e;e++)for(var r=0,o=t[e].split("|");o.length>r;r++){var a=o[r],s=kr(n.state,a);console.log(a,": ".concat(typeof s),"=",s)}console.groupEnd()}})),n.on("change",y),n.on("do:".concat(i,":invalidate"),y),f&&n.on("newLocation",w)}}}var _r={"eventea.projects.pwa":"pwa"},Pr={"eventea.projects.pwa":{"events.pageLoad":"pageLoad","events.exitLink":"exitLink","fingerprint.webToAppSet":"fingerprint.webToAppSet"}};function Ir(e,t,n){var r,o=t.project,i=t.event,a=t.payload,s=(null==n?void 0:n.patchedEventea)?n.patchedEventea:e.get("DO_NOT_USE_eventea"),c=e.getOr("statistClient");c?c.send(o,i,a):s.send({project:_r[o],event:null===(r=Pr[o])||void 0===r?void 0:r[i],payload:a})}var Or,jr={adblock:1e3};function Ar(e){var t;return function(){return void 0===t&&(t=function(){try{var t="__storage_test__",n=e===Or.SessionStorage?sessionStorage:localStorage;return n.setItem(t,t),n.removeItem(t),!0}catch(e){return!1}}()),t}}!function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(Or||(Or={}));var xr=Ar(Or.LocalStorage);Ar(Or.SessionStorage);var Er="_expire";function Mr(e){var t=Object.create(null),n=function(n,r){return t[n]||(t[n]=function(e,t){var n=t.key;if(!n)throw new Error("options.key is empty");return function(){for(var r=[],o=0;arguments.length>o;o++)r[o]=arguments[o];if(!xr())return e.apply(void 0,r);var i="".concat(n).concat(Er),a=Number(localStorage.getItem(i)),s=localStorage.getItem(n);if(!isNaN(a)&&Date.now()<a&&s)return JSON.parse(s);localStorage.removeItem(i);var c=e.apply(void 0,r);return Promise.resolve(c).then((function(e){localStorage.setItem(n,JSON.stringify(e)),t.age&&localStorage.setItem(i,(Date.now()+1e3*t.age).toString())})),c}}(r,e.providers[n])),t[n]};return function(t){t.providersPipeline.add((function(t){var r=t.name;return function(t){return function(){for(var o=[],i=0;arguments.length>i;i++)o[i]=arguments[i];var a=r in e.providers?n(r,t):t;return a.apply(void 0,o)}}}))}}function Tr(e){var t=e.tracking;t.on("event:track-data",(function(e){t.extend(e)}))}function Lr(){}function Dr(e){e.tracking.addUtil({name:"addDspPixel",init:function(){return Lr}})}var Ur=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(){for(var e=t.length-1,n=t[e].apply(t,arguments),r=e-1;r>=0;r--)n=t[r](n);return n}},Nr=E,Rr="dco_general_ids",Br=["personalizedLandingMetrics","state","dcoGeneralId"];function Vr(e){var t=[];try{t=(Qe.getItem(Rr)||"").split(";").filter((function(e){return""!==e})).map((function(e){var t=e.split(","),n=t[0],r=Number(t[1]);if(!isFinite(r))throw new Error("Failed to parse timestamp of id");return{id:n,timestamp:r}}))}catch(t){e.error(t,"allDcoGeneralIds plugin couldn't receive id")}return t}var qr=function(e){return Qe.setItem(Rr,function(e){return e.map((function(e){var t=e.timestamp;return"".concat(e.id,",").concat(t)})).join(";")}(e)),e};function Fr(e){var t=(new Date).getTime()-6048e5;return e.filter((function(e){return e.timestamp>=t}))}function Wr(e){return e.sort((function(e,t){return t.timestamp-e.timestamp}))}var Hr=function(e){return Nr(e.length,e)}((function(e,t){var n;e.extend(((n={}).allDcoGeneralIds=t.map((function(e){return e.id})).join(";"),n))})),zr=function(e){var t,n=e.tracking,r=e.context.get("logger"),o=Ke(Br,n.state);Ur(Hr(n),qr,Wr,Fr,(t=o,function(e){var n,r=(n=t)?n.split("-")[0]:void 0;if(!r)return e;var o=e.filter((function(e){return e.id!==r}));return i(i([],o,!0),[{id:r,timestamp:Date.now()}],!1)}))(Vr(r))},Gr="home_dco_general_ids",Qr=["personalizedLandingMetrics","state","dcoGeneralId"];var Jr=function(e){var t=e.tracking,n=function(e){var t=[];try{t=(Je.getItem(Gr)||"").split(";").filter((function(e){return""!==e}))}catch(t){e.error(t,"homeDcoGeneralIds plugin couldn't receive id")}return t}(e.context.get("logger")),r=function(e,t){var n,r=Ke(Qr,e.state),o=e.state.appName,a=(n=r)?n.split("-")[0]:void 0;if(!a||"pfphome"!==o)return t;var s=t.filter((function(e){return e!==a}));return i([a],s,!0)}(t,n);!function(e){Je.setItem(Gr,e.join(";"))}(r),function(e,t){var n;e.extend(((n={}).homeDcoGeneralIds=t,n))}(t,r)};function Kr(e){var t=e.tracking;t.extend({firstPage:1}),t.on("newLocation",(function(){t.extend({firstPage:0})}))}var $r=E(2,(function(e,t){void 0===t&&(t=[]);for(var n=0;t.length>n;n++)if(e(t[n],n,t))return t[n]})),Xr=E(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var n={},r=0;e.length>r;r++){var o=e[r];o in t&&(n[o]=t[o])}return n}));function Yr(e,n){var r,o=n.get("request"),i=n.get("logger");return function(a,s){void 0===s&&(s={});var c=n.get("config").partnersApi,u=function(e,n){var r=n.get("location"),o=r.pathname,i="".concat(r.hostname).concat(o),a=Xr(["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],e.state.utmMarkers||{});return t({click_id:e.state.tcpaClickId||"",request_id:e.state.hid||"",product_name:e.state.productName||"",product_category:e.state.productCategory||"",absolute_url:i},a)}(e,n),l=t(t({},u),s),d=function(e,t){var n=[],r=[];Sn(e).forEach((function(o){var i=e[o];if(i||n.push(o),t&&t[o]!==i){var a=t[o];a!==i&&r.push({key:o,previousValue:a,currentValue:i})}}));var o={errorsCount:n.length+r.length};return n.length&&(o.emptyValuesKeys=n),r.length&&(o.differentValuesKeys=r.map((function(e){return e.key})),o.differentValues=r),o}(l,r);if(r=l,l.click_id){d.errorsCount>0&&function(e,n,r,o){var i=n.location,a=i.origin,s=i.pathname;n.get("logger").warn("tcpa-pixels params errors",o),n.get("collectLog")(n,t({level:"WARN",page:"".concat(a).concat(s),component:"tcpa-pixels",eventName:r,appName:e.state.appName||"unknown"},o)).catch((function(){}))}(e,n,a,d);var f,p,v,m,g,h=t(t({},l),{event_date:(f=new Date,p=function(e){return 10>e?"0".concat(e):e},v=f.getTimezoneOffset(),m=0>v?"+":"-",g=Math.abs(v),f.getFullYear()+"-"+p(f.getMonth()+1)+"-"+p(f.getDate())+"T"+p(f.getHours())+":"+p(f.getMinutes())+":"+p(f.getSeconds())+m+p(g/60)+":"+p(g%60)),event_id:a});return o("".concat(c,"postbacks"),{method:"POST",body:h}).catch((function(e){i.error(e,"tcpa-pixels request error")}))}}}var Zr=function(e){var t=e.tracking,n=["formAutosave","formSubmit","formCompleted"],r=Yr(t,e.context);t.on("event",(function(e){var t,o=e;1===(null===(t=e.match(/\./g))||void 0===t?void 0:t.length)&&(o=e.split(".")[1]);var i=$r((function(e){return e===o}),n);i&&r(i)})),t.on("event:resultScreenShown",(function(){"pfpmvno"===t.state.appName&&r("formSubmit")})),t._tempMvnoFunnelEvent=!0,t.addUtil({name:"tcpaSendEvent",init:function(){return r}})};function eo(e,t){return void 0===t&&(t={}),new Promise((function(n,r){var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src=e,Object.assign(i,t),o.appendChild(i),i.onload=function(){return n(i)},i.onerror=function(){return r(new Error("Error when loading ".concat(e," script")))}}))}function to(e,t,n){return r(this,void 0,void 0,(function(){var r,i,a,s;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=e.account,i=e.container,a="".concat(n,"/twa/ttm/").concat(r,"/publications/").concat(i,"/index.js"),t.data({},"hit"),[4,eo(a,{crossOrigin:"anonymous"})];case 1:return o.sent(),[3,3];case 2:return s=o.sent(),t.error(s,"loading-error"),[3,3];case 3:return[2]}}))}))}function no(e){try{return JSON.stringify(e)}catch(e){return"Stringify error while log try - payload error"}}function ro(e){return e instanceof Error?{message:e.message,name:e.name,stack:e.stack}:e}var oo=function(e,t){var n=this;this.account=e,this.container=t,this.sendDataProbability=.01,this.sendErrorProbability=1,this.tinkoffLoggerUrl="https://www.tbank.ru/api/front/log/collect",this.errorsLimit=20,this.errorsByTypes={},this.sendLog=function(e,t,r){var o;if(Math.random()<=e)return fetch(n.tinkoffLoggerUrl,{method:"POST",keepalive:!0,headers:{"Content-type":"application/json"},body:no({system:"ttm",appName:"ttm",component:"ttm-twt-loader",from:"browser",level:t,ttmInfo:{account:n.account,container:n.container,buildId:"none",twtVersion:null===(o=window.tracking)||void 0===o?void 0:o._version,session:n.session},ttmData:r})}).catch((function(){return null}))},this.setTTMConfig=function(e){n.account=e.account,n.container=e.container},this.error=function(e,t){var r;n.errorsByTypes[t]||(n.errorsByTypes[t]=0),n.errorsByTypes[t]+=1,n.errorsByTypes[t]===n.errorsLimit&&n.sendLog(1,"info",{type:"error-limit-exceeded",data:no({type:t,errorLimit:n.errorsLimit})}),n.errorsLimit>n.errorsByTypes[t]&&n.sendLog(n.sendErrorProbability,"error",{type:t,message:(r=e,r&&"object"==typeof r&&"message"in r?r.message:null),data:no(ro(e))})},this.data=function(e,t){n.sendLog(n.sendDataProbability,"info",{type:t,data:no(ro(e))})},this.session="twt-".concat(Date.now(),"-").concat(Math.round(1e5*Math.random()))},io=["supreme"];var ao={"eventea.projects.boxy":{"events.blockClick":"blockClick","events.blockImpressionIn":"blockImpressionIn","events.menuItemHover":"menuItemHover"},"eventea.projects.businessSecrets":{"events.viewBanner":"viewBanner","events.clickRecommendation":"clickRecommendation","events.eventSubscription":"eventSubscription","events.clickBanner":"clickBanner","events.clickTestBlock":"clickTestBlock","view.registrationFromEdu":"view.registrationFromEdu","events.subscriptionFormSubmit":"subscriptionFormSubmit","click.search":"click.search","events.clickHeaderButton":"clickHeaderButton","events.pageLoad":"pageLoad","click.startStudying":"click.startStudying","events.clickDocumentDownload":"clickDocumentDownload","events.viewTestBlock":"viewTestBlock","events.viewRecommendation":"viewRecommendation"},"eventea.projects.dolyamemedia":{"events.pageLoad":"pageLoad"},"eventea.projects.edu":{"events.emailSubmit":"emailSubmit","events.bsCourseSignup":"bs_CourseSignup"},"eventea.projects.formBuilder":{"events.formFieldSubmit":"formFieldSubmit","events.formAppointmentSlotsAvailable":"formAppointmentSlotsAvailable","events.formAppointmentSubmit":"formAppointmentSubmit"},"eventea.projects.growth":{"events.pageLoad":"pageLoad"},"eventea.projects.invest":{"events.trackingOnboardingSubscribeTap":"trackingOnboardingSubscribeTap"},"eventea.projects.investpublic":{"events.invest.formCompleted":"invest.formCompleted","events.invest.resultScreenShown":"invest.resultScreenShown","invest.internetBankCookieAuth":"invest.internetBankCookieAuth","events.invest.formESignClick":"invest.formESignClick","events.invest.credentialsSubmit":"invest.credentialsSubmit","events.invest.formFirstInteraction":"invest.formFirstInteraction","events.invest.formPassportFirstInteraction":"invest.formPassportFirstInteraction","events.invest.formESignSubmit":"invest.formESignSubmit"},"eventea.projects.pfpAcquiring":{"events.formAutosave":"formAutosave","events.formApplicationStatus":"formApplicationStatus","events.formCompleted":"formCompleted"},"eventea.projects.pfpJobs":{"events.clickBtnRespond":"clickBtnRespond","events.clickBtnRegistered":"clickBtnRegistered"},"eventea.projects.pwa":{"events.paymentSuccess":"paymentSuccess","events.kasko.formSubmit":"kasko.formSubmit","events.formAutosave":"formAutosave","events.sme.formRkoPhone":"sme.formRkoPhone","events.formFirstInteraction":"formFirstInteraction","events.formApplicationStatus":"formApplicationStatus","events.insurance.formSubmit":"insurance.formSubmit","events.resultScreenShown":"resultScreenShown","events.sme.formCallBack":"sme.formCallBack","events.formFirstFieldSubmit":"formFirstFieldSubmit","events.formStep3":"formStep3","events.kasko.formAutosave":"kasko.formAutosave","events.meetupRegister.formSubmit":"meetupRegister.formSubmit","events.vacancies.formSubmit":"vacancies.formSubmit","events.formCompleted":"formCompleted","events.miniKasko.formSubmit":"miniKasko.formSubmit","events.fintech.formSubmit":"fintech.formSubmit","events.formShowMobileVerification":"formShowMobileVerification","events.formAutosaveFio":"formAutosaveFio","events.formStep2":"formStep2","events.formMobileVerified":"formMobileVerified","events.insurance.formAutosave":"insurance.formAutosave","events.formStep4":"formStep4","events.formSubmit":"formSubmit","events.pageLoad":"pageLoad","events.exitLink":"exitLink"},"eventea.projects.pwaBlog":{"events.blogwebFeedbackCommentSent":"blogwebFeedbackCommentSent","events.blogwebCutClicked":"blogwebCutClicked","events.blogwebShareClicked":"blogwebShareClicked","events.blogwebSliderClicked":"blogwebSliderClicked","events.blogwebPageLoaded":"blogwebPageLoaded","events.blogwebBlockImpressionIn":"blogwebBlockImpressionIn","events.blogwebFeedbackValueSent":"blogwebFeedbackValueSent","events.blogwebLinkClicked":"blogwebLinkClicked","events.blogwebVideoPlayed":"blogwebVideoPlayed"},"eventea.projects.pwaBnpl":{"events.partnerTap":"partnerTap","events.formAutosave":"formAutosave","events.heroButtonClick":"heroButtonClick","events.cardClick":"cardClick"},"eventea.projects.pwaCredit":{"events.formStep2Hide":"formStep2Hide","events.formStep3Hide":"formStep3Hide"},"eventea.projects.pwaDeposit":{"events.formAppDuplicatesResponse":"formAppDuplicatesResponse","events.subscrSubmitSuccess":"subscrSubmitSuccess","events.subscrSubmitFailure":"subscrSubmitFailure"},"eventea.projects.pwaHelp":{"events.helpwebFeedbackCommentSent":"helpwebFeedbackCommentSent","events.helpwebPageLoaded":"helpwebPageLoaded","events.helpwebFeedbackValueSent":"helpwebFeedbackValueSent","events.helpwebBlockImpressionIn":"helpwebBlockImpressionIn","events.helpwebVideoPlayed":"helpwebVideoPlayed","events.helpwebCutClicked":"helpwebCutClicked","events.helpwebLinkClicked":"helpwebLinkClicked","events.helpwebImageZoomed":"helpwebImageZoomed"},"eventea.projects.pwaInsMortgage":{"events.formSubmit":"formSubmit","events.formPhoneConfirmation":"formPhoneConfirmation"},"eventea.projects.pwaInsurance":{"events.formTravelRegion":"formTravelRegion","events.paymentSuccess":"paymentSuccess"},"eventea.projects.pwaKasko":{"events.formTimerDeal":"formTimerDeal","events.shortAppCar":"shortAppCar","events.formPhoneConfirmation":"formPhoneConfirmation"},"eventea.projects.pwaMutual":{"events.formFriendShare":"formFriendShare"},"eventea.projects.pwaOsago":{"events.timerDealFinish":"timerDealFinish","events.formTimerDeal":"formTimerDeal","events.formSravniChooseCompany":"formSravniChooseCompany","events.shortAppCar":"shortAppCar","events.formBadSelection":"formBadSelection","events.formPhoneConfirmation":"formPhoneConfirmation"},"eventea.projects.pwaPremium":{"events.resultScreenShown":"resultScreenShown"},"eventea.projects.pwaSme":{"events.partnerTap":"partnerTap"},"eventea.projects.review":{"events.pageLoad":"pageLoad"},"eventea.projects.specialProjects":{"events.specAuth":"specAuth","events.specAction9":"specAction9","events.specAction15":"specAction15","events.specAction19":"specAction19","events.specAction6":"specAction6","events.specAction5":"specAction5","events.specAction20":"events.specAction20","events.specAction16":"specAction16","events.specAction7":"specAction7","events.specAction11":"specAction11","events.specAction4":"specAction4","events.specAction21":"events.specAction21","events.specAction17":"specAction17","events.specAction12":"specAction12","events.specAction18":"specAction18","events.specAction2":"specAction2","events.specAction10":"specAction10","events.specAction1":"specAction1","events.specAction14":"specAction14","events.specAction3":"specAction3","events.specAction8":"specAction8"},"eventea.projects.stageTjournal":{"events.pageLoad":"pageLoad"},"eventea.projects.tcbBnpl":{"events.formBnplSubmit":"formBnplSubmit","events.formBnplStepPaymentStatus":"formBnplStepPaymentStatus","events.formBnplPaymentSubmit":"formBnplPaymentSubmit","events.formBnplCompleted":"formBnplCompleted","events.formBnplStep2":"formBnplStep2"},"eventea.projects.tcbOnline":{"events.pageLoad":"pageLoad"},"eventea.projects.tcbPlatform":{"events.bannerShown":"bannerShown","events.pageLoad":"pageLoad"},"eventea.projects.tj":{"events.anyLinkClicked":"events.anyLinkClicked"},"eventea.projects.tjournal":{"events.bannerClicked":"bannerClicked","events.bannerShown":"bannerShown","events.articleFooterShown":"articleFooterShown","events.pageLoad":"pageLoad"},"eventea.projects.tjuchebnik":{"events.registerOnCourse":"registerOnCourse","events.pageLoad":"pageLoad"}},so=window,co=function(e){e&&(so.ttm=so.ttm||[],so.ttm.push(e))},uo=function(e){var t,n,r;if("event"!==e.type)return null;var o=null===(t=ao[e.message.project])||void 0===t?void 0:t[e.message.name];return!o||(null===(n=e.message.parameters)||void 0===n?void 0:n.eventea)||(null===(r=e.message.parameters)||void 0===r?void 0:r.ttmStatistIgnore)?null:{event:o,data:e.message.parameters,statistMessage:e}};function lo(e){var t=e.defaultTTMConfig,n=e.bundleType;return function(e){var r,o=e.tracking,i=e.config,a=new oo("none","none");try{var s,c=i.ttm||function(){var e,t=(Mt.parseUrl((null===(e=document.currentScript)||void 0===e?void 0:e.getAttribute("src"))||"").query.ttm||"").split("_"),n=t[0],r=void 0===n?"":n,o=t[1],i=void 0===o?"":o;return r&&i?{account:r,container:i}:void 0}()||t;if(!function(e){if(!e||"object"!=typeof e)return!1;var t=e.account,n=e.container;return"string"==typeof t&&"string"==typeof n&&!!t&&!!n}(c)||!function(e){var t;return!Qe.getItem("_twt_ttm_disabled_")&&!io.includes(null===(t=e.state)||void 0===t?void 0:t.appName)}(o))return;try{s=new URL((null===(r=document.currentScript)||void 0===r?void 0:r.getAttribute("src"))||"").origin}catch(e){s="https://cdn.tbank.ru"}a.setTTMConfig(c),function(e,t){e.addEventsHandler((function(e,n){try{co({event:e,data:n})}catch(e){t.error(e,"runtime-error")}}))}(o,a),function(e,t){"platform"===t&&so.__eventea&&!so.__eventeaStatistSignedPayload||(so.statistQueue=so.statistQueue||[],so.statistQueue.push(["getMessagesHistory",function(t){try{t.forEach((function(e){co(uo(e))}))}catch(t){e.error(t,"runtime-error")}}]),so.statistQueue.push(["onMessage",function(t){try{co(uo(t))}catch(t){e.error(t,"runtime-error")}}]))}(a,n),"complete"===document.readyState?to(c,a,s):window.addEventListener("load",(function(){return to(c,a,s)}))}catch(e){a.error(e,"runtime-error")}}}var fo=["hid","productCategory","productName","appName","wuid","userId","userType","userIsNew","pageUrl","parentUrlFlag","queryParams","previousPageUrl","frameUrl","referrer","utmSource","utmMedium","utmCampaign","utmContent","utmTerm","sessionUtmSource","sessionUtmMedium","sessionUtmCampaign","internalSource","dcoGeneralId","dcoGeneralMenuId","urlBeforeDcoRedirect","mobileOrientation","screenWidth","screenHeight","viewportWidth","viewportHeight","adblockFlag","userLoggedIn","wuidVisitId","wuidVisitNum","dcoId","homeDcoGeneralIds","portalUserId","wuidVisitLandingPage","dcoCampaign","hashParams","searchParams","isPwa"];function po(e){var t=e.tracking,n=fo.reduce((function(e,t){return e[t]=St[t],e}),{});t.getEventeaEnrichment=function(){return et(t,n)}}var vo=function(e){try{return JSON.stringify(e)}catch(e){return"stringify-error"}},mo=function(e){var t=e.sendProbability,n=e.level,r=e.details,o=e.logData;if(Math.random()<=t)return fetch("https://www.tbank.ru/api/front/log/collect",{method:"POST",keepalive:!0,headers:{"Content-type":"application/json"},body:vo({system:"twt",appName:"twt",component:"twt-fingerprint",from:"browser",level:n,details:r,logData:o})}).catch((function(){return null}))},go=function(e,n){var r;return mo({sendProbability:.01,level:"info",details:t(t({},e),{twtVersion:(null===(r=null===window||void 0===window?void 0:window.tracking)||void 0===r?void 0:r._version)||"none"}),logData:{data:vo(n)}})},ho=function(e,n){var r,o,i=n;try{var a=(o=n)instanceof Error?{message:o.message,name:o.name,stack:o.stack}:o;i={message:a&&"object"==typeof a&&"message"in a&&a.message||"",error:vo(a)}}catch(e){}return mo({sendProbability:1,level:"error",details:t(t({},e),{twtVersion:(null===(r=null===window||void 0===window?void 0:window.tracking)||void 0===r?void 0:r._version)||"none"}),logData:i})},yo="web_to_app",bo="web_to_app_created_at",wo="web_to_app_model",ko="web_to_app_ip",So="web_to_app_bot";function Co(e){return r(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return t=(new TextEncoder).encode(e),[4,window.crypto.subtle.digest("SHA-256",t)];case 1:return n=o.sent(),r=Array.from(new Uint8Array(n)),[2,r.map((function(e){return e.toString(16).padStart(2,"0")})).join("")]}}))}))}function _o(e){return r(this,void 0,void 0,(function(){var t,n,r,i,a,s,c;return o(this,(function(o){switch(o.label){case 0:return Je.setItem(bo,Date.now().toString()),e?(t=e.model,s=(a=Je).setItem,c=[yo],[4,Co((i=(r=e.bot)?"bot":t)+(n=e.ip))]):(Je.setItem(yo,""),Je.setItem(wo,""),Je.setItem(ko,""),Je.setItem(So,""),[2]);case 1:return s.apply(a,c.concat([o.sent()])),Je.setItem(wo,i),Je.setItem(ko,n),Je.setItem(So,r?"true":"false"),[2]}}))}))}function Po(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,fetch("https://api.tbank.ru/v1/get_ip",{method:"GET"}).then((function(e){return e.ok?e.json():null})).then((function(e){return e&&"OK"===e.resultCode&&e.payload&&e.payload.yourIp?e.payload.yourIp:null})).catch((function(e){return ho({type:"getClientIpError"},e),null}))]}))}))}function Io(){return r(this,void 0,void 0,(function(){var e,t,n,r,i,a,s;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,14,,16]),e=function(e){try{return/android/gi.test(e)?"Android":/iphone/gi.test(e)?"iPhone":"Other"}catch(e){return"Other"}}(navigator.userAgent),c=navigator.userAgent,t=["yandex.com/bots","bot.htm"].some((function(e){return c.indexOf(e)>=0})),-1!==["Android","iPhone"].indexOf(e)?[3,2]:[4,_o(null)];case 1:return o.sent(),[2];case 2:return go({type:"webToAppStart"}),[4,Po()];case 3:return(n=o.sent())?[3,5]:[4,_o(null)];case 4:return o.sent(),[2];case 5:return"iPhone"!==e?[3,7]:[4,_o({model:"iPhone",ip:n,bot:t})];case 6:return o.sent(),[2];case 7:if("Android"!==e)return[3,13];if(r=navigator,i=function(e){try{var t=e.match(/\(([^)]+)\)/);if(t&&t[1]){var n=t[1].split(";").map((function(e){return e.trim()}));if(n.length>=3){var r=n[2],o=r.indexOf("Build");if(-1!==o&&(r=r.substring(0,o).trim()),r)return r}}}catch(e){ho({type:"parseAndroidModelError"},e)}return"Android"}(navigator.userAgent),!r.userAgentData||"function"!=typeof r.userAgentData.getHighEntropyValues)return[3,11];o.label=8;case 8:return o.trys.push([8,10,,11]),[4,r.userAgentData.getHighEntropyValues(["model"])];case 9:return a=o.sent(),i=a.model||i,[3,11];case 10:return o.sent(),[3,11];case 11:return[4,_o({model:i,ip:n,bot:t})];case 12:return o.sent(),[2];case 13:return[3,16];case 14:return s=o.sent(),[4,_o(null)];case 15:return o.sent(),ho({type:"setWebToAppError"},s),[3,16];case 16:return[2]}var c}))}))}function Oo(e){var t=this,n=e.context;try{var i=Date.now(),a=Je.getItem(bo),s=Je.getItem(yo);if(!a||i-Number(a)>18e5||!s){r(t,void 0,void 0,(function(){var e,t,r,i,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Io()];case 1:return o.sent(),e=Je.getItem(yo),t=Je.getItem(wo)||"",r=Je.getItem(ko)||"",i=Je.getItem(So)||"",e&&Ir(n,{project:"eventea.projects.pwa",event:"fingerprint.webToAppSet",payload:{webToApp:e,model:t,ip:r,bot:"true"===i}}),[3,3];case 2:return a=o.sent(),ho({type:"webToAppPluginError"},a),[3,3];case 3:return[2]}}))}))}}catch(e){ho({type:"webToAppPluginInstallationError"},e)}}var jo=function(){var e;try{if(!((null===(e=document.currentScript)||void 0===e?void 0:e.getAttribute("src"))||"").includes("cdn-tinkoff.ru"))return;if(Math.random()>.001)return;fetch("https://www.tbank.ru/api/front/log/collect",{method:"POST",keepalive:!0,headers:{"Content-type":"application/json"},body:JSON.stringify({system:"twt",appName:"twt",component:"twt-cdn-monitoring",from:"browser",level:"info",legacyCdn:!0})}).catch((function(){return null}))}catch(e){}};var Ao=function(e){var t,n;return Array.isArray(null===(t=null===window||void 0===window?void 0:window._evnteq)||void 0===t?void 0:t.queue)?e.get("DO_NOT_USE_eventea"):"function"==typeof(null===(n=null===window||void 0===window?void 0:window.__eventea)||void 0===n?void 0:n.send)?null===window||void 0===window?void 0:window.__eventea:e.get("DO_NOT_USE_eventea")},xo=function(e){var t=e.context;document.body.addEventListener("click",(function(e){if(e.target){var n=function(e){if(e instanceof Element)for(var t=e;t&&t!=document.body;){if(t instanceof HTMLAnchorElement)return t;t=t.parentElement}return null}(e.target);if(n){var r=t.get("location");if(n.hostname&&r.hostname!==n.hostname){var o=n.href.split("?")[1]||"";Ir(t,{project:"eventea.projects.pwa",event:"events.exitLink",payload:{hostname:n.hostname,path:n.pathname,query:o}},{patchedEventea:Ao(t)})}}}}))},Eo=0;function Mo(e){var t,n=e.context;if("supreme"===(null===(t=e.tracking.state)||void 0===t?void 0:t.appName)){var r="pwaStandaloneApp"===n.location.query.utm_source;r&&Je.setItem("wasPwaParam","1");var o=0;try{o="1"===window.sessionStorage.getItem("wasPwaParam")?1:0}catch(e){o=-1}var i=-1;void 0!==window.navigator.standalone&&(i=window.navigator.standalone?1:0);var a=Hn.run(n);!function(e,t){var n=e.get("config").statistApi;if(n){var r=vt.run(e),o=new XMLHttpRequest;o.open("POST","".concat(n,"/gateway/v1/event"),!0),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify({project:t.project,name:t.name,parameters:t.parameters,clientParameters:{deviceId:r,client:"web-tracking",clientVersion:"5.114.1"},eventParameters:{clientEventTimestamp:Date.now(),clientUploadTimestamp:Date.now(),sequence:++Eo}}))}}(n,{project:"eventea.projects.supreme",name:"supreme.pageHit",parameters:{displayMode:bt(),isPwaParamInUrl:r,wasPwaParamInUrl:o,navigatorStandalone:i,pageLanding:a}}),function(e){function t(e,t){e.send({project:"application-health",event:"pageHide",payload:{trigger:t}})}window.addEventListener("pagehide",(function(){t(e,"pageHide")})),window.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t(e,"visibilitychange")}))}(n.get("DO_NOT_USE_eventea"))}}var To=function(){};function Lo(e){try{return JSON.stringify(e)}catch(e){return"Stringify error while log try - payload error"}}function Do(e){var n,r,o=e.tracking;try{if("undefined"==typeof window)return;if(n=window.matchMedia("(display-mode: standalone)").matches,r=window.navigator.standalone,!n&&!r)return;var i=0,a=setInterval((function(){var e,n,r,s,c;try{i++;var u=null===(s=null===(r=null===(n=null===(e=window.contextExternal)||void 0===e?void 0:e.getState)||void 0===n?void 0:n.call(e))||void 0===r?void 0:r.session)||void 0===s?void 0:s.ssoId;if(u){var l=o.state,d=window.location.origin;(c={ssoId:u,wuid:l.wuid,origin:d,appName:l.appName},fetch("https://www.tinkoff.ru/api/front/redirects/log/collect/",{method:"POST",keepalive:!0,headers:{"Content-type":"application/json"},body:Lo(t({system:"twt",from:"browser",level:"info",event:"sso-id-hit"},c))}).catch((function(){return null}))).catch(To),clearInterval(a)}20>i||clearInterval(a)}catch(e){clearInterval(a)}}),100)}catch(e){To()}}var Uo=[{url:"https://mddc.tbank.ru",certType:"mddc"},{url:"https://le.tbank.ru",certType:"Lets Encrypt"},{url:"https://hrc.tbank.ru",certType:"Harica"}];function No(e){return r(this,arguments,void 0,(function(e){var t,n,i,a,s=this,c=e.context;return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=c.get("DO_NOT_USE_eventea"),"undefined"==typeof window?[2]:["/","/mybank","/mybank/","/invest","/invest/"].includes(window.location.pathname)?window.navigator.userAgent.toLowerCase().includes("bot")?[2]:(n=[],i=function(e,t){return Promise.race([fetch(e),new Promise((function(e,n){return setTimeout((function(){return n(new Error("Timeout"))}),t)}))])},a=function(e){return r(s,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i(e.url,1e4).then((function(e){return e?e.status:null})).catch((function(e){return null}))];case 1:return 200===t.sent()&&n.push(e.certType),[2]}}))}))},[4,Promise.all(Uo.map(a))]):[2];case 1:return e.sent(),t.send({project:"general-web",event:"certs.certInstalled",payload:{certTypes:n}}),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))}var Ro=function(e,t){try{return new Proxy(t,{get:function(e,t){return t in e?e[t]:"unknown"}})}catch(e){return t}},Bo=function(e){var t,n,r,o,i,a,s,c,u,l,d=e.tracking,f=rr.run(e.context),p=f.deviceScreen,v=f.deviceType,m=d.state.userAgent;if(d.state.hdEnrichData||d.extend({hdEnrichData:Ro(0,{__fallback:!0,pxratio:p.pixelRatio,w:p.width,h:p.height,connectiontype:"CONNECTION_UNKNOWN",devicetype:v,os:(null===(t=null==m?void 0:m.os)||void 0===t?void 0:t.name)||"unknown",browser:(null===(n=null==m?void 0:m.browser)||void 0===n?void 0:n.name)||"unknown",make:(null===(r=null==m?void 0:m.device)||void 0===r?void 0:r.vendor)||"Generic",model:(null===(o=null==m?void 0:m.device)||void 0===o?void 0:o.model)||"unknown",geo:{},isp:{},ppi:0,benchmarkmin:0,benchmarkmax:0,formfactor:"Varies",virtual:!1,displaycssscreensizes:["".concat(p.width,"x").concat(p.height)],displaysize:"unknown",ip:"unkown"})}),!d.state.hdRequestInfo){var g=d.state.userAgent;d.extend({hdRequestInfo:Ro(0,{__fallback:!0,os:(null===(i=null==g?void 0:g.os)||void 0===i?void 0:i.name)||"unknown",osversion:(null===(a=null==g?void 0:g.os)||void 0===a?void 0:a.version)||"unknown",ismobile:"Mobile"===v,istablet:"Tablet"===v,isconsole:!1,width:(null===screen||void 0===screen?void 0:screen.width)||"unknown",height:(null===screen||void 0===screen?void 0:screen.height)||"unknown",vendor:(null===(s=null==g?void 0:g.device)||void 0===s?void 0:s.vendor)||"unknown",model:(null===(c=null==g?void 0:g.device)||void 0===c?void 0:c.model)||"unknown",browser:(null===(u=null==g?void 0:g.browser)||void 0===u?void 0:u.name)||"unknown",browserversion:(null===(l=null==g?void 0:g.browser)||void 0===l?void 0:l.version)||"unknown",displaysize:"unknown"})})}},Vo=function(e){var t=e.context,n=vt.run(t),r=t.cookies.get(tt.statistDeviceId.name);n&&r!==n&&t.cookies.set(tt.statistDeviceId,n)},qo={name:"fbq",init:function(e){return e.context.get("logger").info("fbq util has been replaced with empty function. Calls like tracking.callUtil('fbq', ...) will be ignored"),function(){}}};function Fo(){for(var e=[],t=0;arguments.length>t;t++)e[t]=arguments[t];var n=window.dataLayer||(window.dataLayer=[]);n.push(e)}var Wo={name:"adwPageloadPixel",init:function(e){var t=e.context.get("logger"),n=function(e){return void 0===e&&(e=!1),function(t){return e?Promise.resolve(!0):eo(t,{crossOrigin:"anonymous"}).then((function(){return e=!0,!1}))}}(document.querySelectorAll('script[src^="https://www.googletagmanager.com/gtag/js?id="]').length>0);return function(e){var r="AW-"+e;return n("https://www.googletagmanager.com/gtag/js?id="+r).then((function(e){e||Fo("js",new Date),Fo("config",r)})).catch((function(e){t.error(e,"Cannot load gtag script in adwPageloadPixel util")}))}}};var Ho,zo,Go={name:"makeEventeaHandler",init:function(e){var t=e.tracking,n=function(e){!function(e,t){var n=t.event,r=t.config,o=void 0===r?{}:r,i=t.payload,a=n,s=void 0===i?{}:i;"pushTrack"===o.type&&(a=o.type,s.pageAction?s._event=n:s.pageAction=n),e.event.call({isSendContext:!0,fromEventea:!0},a,s)}(t,e)};return function(){return n}}},Qo={name:"makeEventeaDataHandler",init:function(e){var t=e.tracking,n=function(e){!function(e,t){var n=t.payload;e.extend(void 0===n?{}:n)}(t,e)};return function(){return n}}},Jo={name:"tramSendEvent",init:function(e){var t=e.tracking;return function(e,n,r){return t.event(e,n),t}}},Ko={name:"tramExtendData",init:function(e){var t=e.tracking;return function(e,n){return t.extend(e),t}}},$o={name:"tramPostData",init:function(){return function(e,t){}}};function Xo(e){var t="tiktokIframeLoaded",n=e.getOr(t);if(n)return n;var r=new Promise((function(t,n){var r=e.get("config").cdnUrl;if(!r)throw new Error("cdnUrl is not specified");for(var o={src:"".concat(r,"modules/tiktok-iframe/v1/index.html"),width:"1",height:"1",frameborder:"0",border:"0",style:"position: fixed; left: -9999px; bottom: -9999px;"},i=document.createElement("iframe"),a=0,s=Sn(o);s.length>a;a++){var c=s[a];i.setAttribute(c,o[c])}i.onerror=function(){return n(new Error("failed to load tiktok iframe"))},i.onload=function(){return t(i)},document.body.appendChild(i)}));return e.bind(t,r),r}function Yo(e,t,n){return r(this,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return r=e.get("logger"),[4,Xo(e)];case 1:return i=o.sent(),[2,new Promise((function(e,o){var a,s=t+Date.now().toString(),c=function(t){var n=t.data;n.id===s&&(n.result===zo.Succeeded?(r.info("tiktok iframe successful response for message",t.data),e(t.data)):(r.warn("tiktok iframe bad response for message",t.data),o(new Error(t.data.reason))),window.removeEventListener("message",c))},u={id:s,type:t,data:n};r.info("message to tiktok iframe has been sent",u),window.addEventListener("message",c),null===(a=i.contentWindow)||void 0===a||a.postMessage(u,"*")}))]}}))}))}!function(e){e.Init="tiktokInit",e.Track="tiktokTrack"}(Ho||(Ho={})),function(e){e.Succeeded="succeeded",e.Failed="failed"}(zo||(zo={}));var Zo={name:"ttq",init:function(e){var t=this,n=e.context;return function(){for(var e=[],i=0;arguments.length>i;i++)e[i]=arguments[i];return r(t,void 0,void 0,(function(){var t;return o(this,(function(r){switch(t=e[1],e[0]){case"init":return[2,Yo(n,Ho.Init,{pixelId:t})];case"track":return[2,Yo(n,Ho.Track,{pixelId:t,event:e[2]})]}return[2]}))}))}}},ei=t(t(t({},{api:"https://www.tinkoff.ru/api/v1/",configApi:"https://config.tinkoff.ru/",papiBase:"https://www.tinkoff.ru/",enrichApi:"https://enrichment.tinkoff.ru/",frontLogApi:"/api/front/log/",cdnUrl:"https://cdn.tbank.ru/twa/",resourceApi:"https://cdn.tbank.ru/",partnersApi:"https://partners.tinkoff.ru/",statistApi:"https://api-statist.tinkoff.ru"}),sr),Object.assign({},window.twtConfig,window.twtDebugConfig));window.__twt_isActive||(_t(new Pt(hn()),or,ei).use((function(e){var n=e.context,r=n.location.query.parent_url;if(r){var o=n.get("parseUrl"),i=o(decodeURIComponent(r)),a=t(t({},function(e,t){var n=e.query,r=t.query;if(["utm_source","utm_medium","utm_campaign"].some((function(e){return!!n[e]})))return{};for(var o={},i=0,a=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"];a.length>i;i++){var s=a[i],c=r[s];"string"==typeof c&&(o[s]=c)}return o}(n.location,i)),function(e,t){var n,r=t.query;return e.query.rb_clickid||!r.rb_clickid?{}:((n={}).rb_clickid=r.rb_clickid,n)}(n.location,i));if(Object.keys(a).length>0){var s=o(n.location.href),c=t(t({},s.query),a);s.search=ct((function(e,t){var n=c[t];return void 0!==n&&e.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n))),e}),[],Object.keys(c)).join("&"),window.history.replaceState(window.history.state,"",s.href)}}})).use(No).use(Mo).use((function(e){e.tracking.extend({userIdAwaited:"platform"})})).use((function(e){var t=e.tracking;document.addEventListener("beforePageLoad",(function(e){e.detail.waitFor(new Promise((function(e){var n=setTimeout(e,700);t.waitFor("userId").then(e).then((function(){return clearTimeout(n)}))})))}))})).use(lo({defaultTTMConfig:{account:"tinkoff-pwa",container:"main"},bundleType:"platform"})).use(po).use(jo).use(Tr).use(cr).use(Oo).use(lr()).use(function(e){var r=pr(vr,e),o=r.eventDelay,i=r.scrollEventName;return function(e){var r=e.tracking,a={viewport:0,height:0,scroll:0};function s(){var e=dr(),r=e.scrollTop,o=n(e,["scrollTop"]);return a=t(t({},o),{scroll:Math.max(a.scroll,r)})}function c(){a={viewport:0,height:0,scroll:0};var e=dr().scrollTop;r.extend(t(t({scrollOnPage:e},s()),br()))}c(),window.addEventListener("scroll",kn(o,(function(){var e=s();r.extend(e).event(i,e)}))),window.addEventListener("beforeunload",(function(){yr(a)})),r.on("newLocation",(function(){yr(a),c()}))}}()).use(Mr({providers:{device:{key:"dpDeviceData",age:12096e5}}})).use(function(e){void 0===e&&(e={});var n,r,o=e.timeouts,i=void 0===o?jr:o,a=e.waitFor,s=e.tracked,c=e.useEventea,u=e.eventPayload,l=!!a,d=Cr({readyEvent:"pageLoad",readyEventPayload:t(t({},void 0===u?{}:u),{initiator:"web-tracking"}),action:function(e,t){if(!n)throw new Error("action call: Plugin pageLoad isn't bound");if(c){var o=n.state.tcpaClickId;o&&(t.tcpaClickId=o),t.ttmStatistIgnore=!0,Ir(r,{project:"eventea.projects.pwa",event:"events.pageLoad",payload:t})}n.event("pageLoad",t)},beforeEvent:"beforePageLoad",timeouts:i,tracked:s,resetOnSPATransition:!0,blocked:l});return a&&a.then((function(){d.setBlocked(!1)})),function(e){return n=e.tracking,r=e.context,d.plugin(e)}}(t({timeouts:{adblock:500},useEventea:!0},d(ei,["plugins","pageLoad"])))).use(Dr).use(Kr).use(zr).use(Jr).use(Zr).use(xo).use(Bo).use(Vo).use(Do).addUtil(Go).addUtil(Qo).addUtil(Jo).addUtil(Ko).addUtil($o).addUtil(qo).addUtil(Wo).addUtil(Zo),window.__twt_isActive=!0)}();
