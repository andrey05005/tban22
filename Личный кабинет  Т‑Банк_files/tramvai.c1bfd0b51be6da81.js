(self.wsp=self.wsp||[]).push([["tramvai"],{19328:function(e){e.exports={crossAppNavigateLoader:"aXQBdD"}},80211:function(e,t,n){"use strict";n.d(t,{e:function(){return l},w:function(){return c}});var r=n(65641),o=n(35207),i=n(59999),a=n(32431),u=n(16842),s=n(67584),c=(0,i.V3)("isDiChildContainer"),l=function(e){function t(t,n){var o;return(o=e.call(this,void 0,n)||this).root=t,o.register({provide:u.Z,useValue:(0,r.Z)(o),scope:s.s.REQUEST}),o.register({provide:c,useValue:!0}),o}(0,o.Z)(t,e);var n=t.prototype;return n.getRecord=function(t){return e.prototype.getRecord.call(this,t)||this.root.getRecord(t)},n.getValue=function(e){return this.recordValues.has(e)?this.recordValues.get(e):e.scope!==s.s.SINGLETON&&e.factory?a.L:this.root.getValue(e)},n.hydrateDeps=function(t){return t.scope===s.s.REQUEST?e.prototype.hydrateDeps.call(this,t):e.prototype.hydrateDeps.call(this.root,t)},n.hydrate=function(t,n,r){return t.scope===s.s.REQUEST?e.prototype.hydrate.call(this,t,n,r):e.prototype.hydrate.call(this.root,t,n,r)},t}(a.W)},32431:function(e,t,n){"use strict";n.d(t,{W:function(){return d},L:function(){return s}});var r=n(67584),o=function(e,t){var n=new Error(e);return Object.assign(n,Object.assign({},t,{stack:t.stack?n.stack+"\n---- caused by: ----\n"+t.stack:n.stack}))},i=n(16842),a=n(59999);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s="__NOT_YET__MARKER",c="__CIRCULAR__MARKER";function l(e){return e.isModernToken?e.name:Symbol.for(e.toString())}function f(e,t,n,r,o,i){return{factory:e,resolvedDeps:t,scope:n,multi:r?[]:void 0,stack:o,staticValue:i}}var d=function(){function e(e,t){var n=this;this.records=new Map,this.recordValues=new Map,e&&e.forEach((function(e){return n.register(e)})),this.fallback=t,this.register({provide:i.Z,useValue:this,scope:r.s.SINGLETON})}var t=e.prototype;return t.get=function(e){var t,n,i,u=!1,s=!1;"string"==typeof e?i=e:"token"in e?(i=e.token,u=e.optional,s=(null===(t=i.options)||void 0===t?void 0:t.multi)||!1):i=e,i=l(i);var c=this.getRecord(i);return!c&&(null===(n=this.fallback)||void 0===n?void 0:n.getRecord(i))?this.fallback.get(e):!c&&u?s?[]:null:(function(e,t){if(void 0===e){var n=(0,a.HY)(t);throw o('Token not found "'+n+'"',{type:r.D.NOT_FOUND})}}(c,i),this.hydrate(c,i,u))},t.getOfDeps=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=this.get(e[n]));return t},t.getRecord=function(e){return this.records.get(e)},t.has=function(e){return!!this.getRecord(l(e))},t.borrowToken=function(e,t){var n=l(t);if(!this.getRecord(n)){var r=e.getRecord(n);if(r){if(r.multi)for(var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.multi,!0);!(o=i()).done;){var a=o.value;this.recordValues.set(a,s)}this.records.set(n,r),this.recordValues.set(r,s)}}},t.getValue=function(e){return this.recordValues.get(e)},t.register=function(e){return function(e){if("string"!=typeof e.provide){var t=e.provide.options;if(!e.provide.isModernToken&&t&&t.multi&&!e.multi)throw o("Token "+e.provide.toString()+" require multi providers",{type:r.D.REQUIRE_MULTI,stack:e.__stack})}}(e),this.processProvider(e)},t.processProvider=function(e){var t,n=l(e.provide),i=function(e){var t,n,o,i=null!==(t=e.provide.isModernToken&&e.provide.options.scope)&&void 0!==t?t:r.s.REQUEST,a=!1;return"useFactory"in e?(n=function(t){return e.useFactory(t)},"deps"in e&&(o=e.deps),e.scope?i=e.scope:e.provide.isModernToken&&e.provide.options.scope&&(i=e.provide.options.scope)):"useClass"in e?(n=function(t){return new e.useClass(t)},"deps"in e&&(o=e.deps),e.scope?i=e.scope:e.provide.isModernToken&&e.provide.options.scope&&(i=e.provide.options.scope)):(n=function(){return e.useValue},a=!0,e.scope?i=e.scope:e.provide.isModernToken&&e.provide.options.scope&&(i=e.provide.options.scope)),f(n,o,i,!1,e.__stack,a)}(e),u=function(e){return"useValue"in e?e.useValue:s}(e);if(e.provide.isModernToken&&(null===(t=e.provide.options)||void 0===t?void 0:t.multi)||e.multi){var c=this.getRecord(n);if(c){if(void 0===c.multi)throw o("Mixed multi-provider for "+(0,a.HY)(n),{type:r.D.MIXED_MULTI,stack:e.__stack})}else c=f(void 0,{},e.scope||e.provide.isModernToken&&e.provide.options.scope||r.s.REQUEST,!0,e.__stack),this.records.set(n,c),this.recordValues.set(c,s);c.multi.push(i)}else this.records.set(n,i);this.recordValues.set(i,u)},t.hydrateDeps=function(e){return this.getOfDeps(e.resolvedDeps)},t.hydrate=function(e,t,n){var i=this,u=this.getValue(e);if(function(e,t,n){if(n===c){var i=(0,a.HY)(t);throw o('Circular dep for "'+i+'"',{type:r.D.CIRCULAR_DEP,stack:e.stack})}}(e,t,u),u!==s)return u;if(e.multi){this.recordValues.set(e,c);try{u=e.multi.map((function(e){return i.hydrate(e,t,!1)}))}catch(t){throw this.recordValues.set(e,s),t}}else{this.recordValues.set(e,c);try{u=e.factory(this.hydrateDeps(e))}catch(o){if(this.recordValues.set(e,s),n&&o.type===r.D.NOT_FOUND)return null;!function(e,t){var n=(0,a.HY)(e);throw t.__extendedWithStack?t.message+=" < "+n:(t.__extendedWithStack=!0,t.message=t.message+' at "'+n+'"'),Object.hasOwnProperty.call(t,"stack")&&"string"==typeof t.stack&&(t.stack=t.stack.replace(/^.+\n/,t.name+": "+t.message+"\n")),t}(t,Object.assign(o,{stack:!e.stack||/---- caused by: ----/g.test(o.stack)?o.stack:o.stack+"\n---- caused by: ----\n"+(e.stack||"")}))}}return this.recordValues.set(e,u),u},e}()},67584:function(e,t,n){"use strict";n.d(t,{D:function(){return o},s:function(){return r}});var r={REQUEST:"request",SINGLETON:"singleton"},o={NOT_FOUND:"NotFound",CIRCULAR_DEP:"CircularDep",REQUIRE_MULTI:"RequireMulti",MIXED_MULTI:"MixedMulti",WRONG_FORMAT:"WrongFormat"}},40186:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(80211);function o(e,t){var n=new r.e(e);return t&&t.forEach((function(e){n.register(e)})),n}},95738:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(32431);function o(e){return new r.W(e)}},59999:function(e,t,n){"use strict";function r(e){return e.toString().replace(/^Symbol\((.+)\)$/,"$1")}n.d(t,{HY:function(){return r},V3:function(){return i},jt:function(){return a}});var o=function(){function e(e,t){void 0===t&&(t={}),this.isToken=!0,this.isModernToken=!0,this.name=e?Symbol.for(e):Symbol("token"),this.options=t}return e.prototype.toString=function(){return r(this.name)},e}();function i(e,t){return new o(e,t)}function a(e){return{token:e,optional:!0}}},15617:function(e,t,n){"use strict";n.r(t),n.d(t,{ChildContainer:function(){return o.e},Container:function(){return r.W},DI_TOKEN:function(){return v.Z},INVALID_MODULE_ERROR:function(){return c.I},IS_DI_CHILD_CONTAINER_TOKEN:function(){return o.w},MODULE_PARAMETERS:function(){return s.e},Module:function(){return s.Y},Scope:function(){return p.s},createChildContainer:function(){return f.H},createContainer:function(){return i.f},createToken:function(){return d.V3},declareModule:function(){return g.J},getModuleParameters:function(){return a.s},initContainer:function(){return l},isExtendedModule:function(){return u.W},optional:function(){return d.jt},provide:function(){return h.J},walkOfModules:function(){return c.l}});var r=n(32431),o=n(80211),i=n(95738),a=n(54499),u=n(56245),s=n(80283),c=n(50561),l=function(e){var t=void 0===e?{}:e,n=t.modules,r=void 0===n?[]:n,o=t.initialProviders,l=void 0===o?[]:o,f=t.providers,d=void 0===f?[]:f,p=(0,i.f)(),v=new Set,h=function(e){e.forEach((function(e){p.register(e)}))};return h(l),(0,c.l)(r).forEach((function(e){var t=(0,a.s)(e);v.add((0,u.W)(e)?e.mainModule:e),h(t.providers)})),h(d),v.forEach((function(e){new e(function(e){var t=e[s.e].deps;if(t)return p.getOfDeps(t)}(e))})),p},f=n(40186),d=n(59999),p=n(67584),v=n(16842),h=n(97570),g=n(66598)},66598:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r="_module_parameters_";function o(e){var t,n=e.name,o=e.providers,i=void 0===o?[]:o,a=e.imports,u=void 0===a?[]:a,s=e.extend,c=void 0===s?{}:s,l=function(){},f={},d=function(){var e=c[p];f[p]=function(){return{mainModule:l,providers:e.apply(void 0,arguments)}}};for(var p in c)d();return Object.assign(l,((t={})[r]={name:n,id:n+"-"+Math.random(),providers:i,imports:u},t),f),l}},54499:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(80283),o=n(56245),i=function(e){var t;if((0,o.W)(e)){var n=e.mainModule[r.e];(t=Object.assign({},n)).providers=t.providers.concat(e.providers||[]);var i=t.imports||[];t.imports=i.concat(e.imports||[])}else t=e[r.e];return t}},56245:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(e){return!!e.mainModule}},80283:function(e,t,n){"use strict";n.d(t,{Y:function(){return o},e:function(){return r}});var r="_module_parameters_";function o(e){var t=e.providers,n=e.imports,o=e.deps,i=void 0===o?{}:o;return function(e){var o;return Object.assign(e,((o={})[r]={providers:t,deps:i,imports:n,name:e.name,id:e.name+"-"+Math.random()},o))}}},50561:function(e,t,n){"use strict";n.d(t,{I:function(){return a},l:function(){return u}});var r=n(80283),o=function e(t){return!1!==Boolean(t)&&(r.e in t||"mainModule"in t&&e(t.mainModule))},i=n(54499),a="An invalid module was passed in the list of modules",u=function(e){var t=[],n=new Set,r=new Set,u=function e(u){if(!o(u))throw new Error(a);var s=(0,i.s)(u);n.has(s.id)||(n.add(s.id),r.add(s.name),s.imports&&s.imports.forEach((function(t){e(t)})),t.push(u))};return e.forEach((function(e){u(e)})),t}},97570:function(e,t,n){"use strict";function r(e){return e}n.d(t,{J:function(){return r}})},16842:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=(0,n(59999).V3)("di")},46478:function(e,t,n){"use strict";n.d(t,{LG:function(){return o},lV:function(){return i}});var r=n(35207);(function(e){function t(n){var r;return(r=e.call(this,n)||this).isSilent=!0,r.name=t.errorName,r}return(0,r.Z)(t,e),t}((0,n(26566).Z)(Error))).errorName="SilentError";var o=function(e){return!!e.isSilent},i=function(e){return e.isSilent=!0,e}},19608:function(e,t,n){"use strict";n.d(t,{W:function(){return s},y:function(){return c}});var r=n(33926),o=n(65641),i=n(35207),a=n(26566),u=["message"],s=function(e){function t(n){var i,a=n.message,s=void 0===a?"Block Error":a,c=(0,r.Z)(n,u);return(i=e.call(this,s)||this).name=t.errorName,Object.assign((0,o.Z)(i),c),i}return(0,i.Z)(t,e),t}((0,a.Z)(Error));s.errorName="BlockError";var c=function(e){return e.name===s.errorName}},48945:function(e,t,n){"use strict";n.r(t),n.d(t,{BrowserReporter:function(){return S},LEVELS:function(){return f},LEVEL_NAMES:function(){return d},RemoteReporter:function(){return j},createLoggerFactory:function(){return b},default:function(){return A},formatJson:function(){return F},logger:function(){return A}});var r=n(58903),o=n(52723),i=n(94905),a=n.n(i),u=n(49103),s=n.n(u),c=n(5103),l=n.n(c),f={trace:50,debug:40,info:30,warn:20,error:10,fatal:0,silent:-1/0},d={50:"trace",40:"debug",30:"info",20:"warn",10:"error",0:"fatal"};function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return h(t,void 0!==n&&n<r?n:r)}return e(t,n)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){return new RegExp("^"+e.replace(/\*/g,".*?")+"$")},m=function(){function e(t){var n=this;if(void 0===t&&(t={name:""}),this.name=a()(t.name),this.key=t.key||this.name,e.instances[this.key])return e.instances[this.key];this.beforeReporters=t.beforeReporters||[],this.reporters=t.reporters||[],this.filters=t.filters||[],this.extensions=t.extensions||[],this.defaults=t.defaults||{},t.level&&this.setLevel(f[t.level]),t.enabled&&this.setLevel(f.trace),this.checkEnabled(),e.instances[this.key]=this,s()((function(e,t){n[t]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n.log(e,r)}}),f)}e.save=function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,{level:e.level,enabledName:this.enabledName,enabledLevel:this.enabledLevel})},e.load=function(t){e.level=t.level,e.enabledName=t.enabledName,e.enabledLevel=t.enabledLevel},e.setLevel=function(t){var n;e.level=null!==(n=f[t])&&void 0!==n?n:e.level,e.save()},e.setOnChange=function(t){e.onChange=t},e.enable=function(t,n){var r=n?[f[t],n]:[f.trace,t],i=v(o.Z,r,2),a=i[0],u=i[1];e.enabledName.push(u),e.enabledLevel.push(a),e.save();var c=g(u);s()((function(e){var t=e.name;c.test(t)&&e.setLevel(a)}),e.instances)},e.disable=function(t,n){var r=n?[f[t],n]:[f.silent,t],i=v(o.Z,r,2),a=i[0],u=i[1],c=e.enabledName.indexOf(u);c>-1?(e.enabledName.splice(c,1),e.enabledLevel.splice(c,1)):(e.enabledName.push(u),e.enabledLevel.push(a)),e.save();var l=g(u);s()((function(e){var t=e.name;l.test(t)&&e.setLevel(a)}),e.instances)},e.clear=function(){e.level=f.silent,e.enabledName=[],e.enabledLevel=[],e.save(),s()((function(e){e.setLevel(void 0)}),e.instances)},e.setGlobalReporters=function(t){var n=l()(t);s()((function(e){e.reporters=n}),e.instances)};var t=e.prototype;return t.child=function(t){var n="string"==typeof t?{name:t}:t,r=n.key||n.name,o=this.name?this.name+"."+n.name:n.name,i=this.key?this.key+"."+r:r;return new e(Object.assign({beforeReporters:this.beforeReporters,reporters:this.reporters,filters:this.filters,extensions:this.extensions,defaults:this.defaults},n,{name:o,key:i}))},t.addBeforeReporter=function(e){this.reporters=this.reporters.concat(e)},t.setBeforeReporters=function(e){this.reporters=l()(e)},t.addReporter=function(e){this.reporters=this.reporters.concat(e)},t.setReporters=function(e){this.reporters=l()(e)},t.addFilter=function(e){this.filters=this.filters.concat(e)},t.setFilters=function(e){this.filters=l()(e)},t.addExtension=function(e){this.extensions=this.extensions.concat(e)},t.setExtensions=function(e){this.extensions=l()(e)},t.setLevel=function(e){this.level=e},t.checkEnabled=function(){for(var t=e.enabledName.length-1;t>=0;t--){var n=e.enabledName[t];if(g(n).test(this.name))return void this.setLevel(e.enabledLevel[t])}},t.createLogObj=function(e,t){return Object.assign({date:new Date},this.defaults,{name:this.name,type:d[e],level:e,args:t})},t.log=function(t,n){var r,o;o||(o=this.createLogObj(t,n));for(var i,a=p(this.filters,!0);!(i=a()).done;)if(!1===i.value.filter(o))return!1;for(var u,s=p(this.extensions,!0);!(u=s()).done;)o=u.value.extend(o);for(var c,l=t>(null!==(r=this.level)&&void 0!==r?r:e.level),f=p(this.reporters,!0);!(c=f()).done;){var d=c.value;l?d.emitLevels&&d.log(o):d.log(o)}return!0},e}();m.level=f.silent,m.instances={},m.enabledName=[],m.enabledLevel=[];var y=["addBeforeReporter","setBeforeReporters","addReporter","setReporters","addFilter","setFilters","addExtension","setExtensions"].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,Object.keys(f))),b=function(e){var t=new m(e);return Object.assign((function(e){return t.child(e)}),y.reduce((function(e,n){return t[n]&&(e[n]=t[n].bind(t)),e}),{}),{setLevel:m.setLevel,setGlobalReporters:m.setGlobalReporters,enable:m.enable,disable:m.disable,clear:m.clear})};function E(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var w,k,S=function(){function e(){this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c00046",10:"#c0392b",20:"#f39c12",30:"#00BCD4"}}return e.prototype.log=function(e){var t=e.level<20?console.error:20===e.level?console.warn:console.log,n="\n      background: "+(this.levelColorMap[e.level]||this.defaultColor)+";\n      border-radius: 0.5em;\n      color: white;\n      font-weight: bold;\n      padding: 2px 0.5em;\n    ",o="%c"+[e.name,e.type].filter(Boolean).join(":");"string"==typeof e.args[0]?t.call.apply(t,[console,o+"%c "+e.args[0],n,""].concat(E(r.Z,e.args.slice(1)))):t.call.apply(t,[console,o,n].concat(E(r.Z,e.args)))},e}(),R="_t_logger";f.error;try{w=window.localStorage,k=JSON.parse(w.getItem(R))}catch(e){}k||(k=function(){try{return function(e){if(e){var t=e.split(",");return{level:f.silent,enabledLevel:Array(t.length).fill(f.trace),enabledName:t}}}(window.localStorage.getItem("debug"))}catch(e){}}()),m.setOnChange((function(e){try{w.setItem(R,JSON.stringify(e))}catch(e){}})),k&&m.load(k);var A=b({name:"",reporters:[new S]});window.logger=A;var C=n(64805),_=n.n(C),N=n(67826),T=n.n(N),O=n(4216),x=n.n(O),I=n(34770),M=n.n(I),L=n(42282),P=n.n(L),V=n(7349),D=function(e){return x()(e)&&(e=new Error(e)),Object.defineProperties(e,{message:{configurable:!0,enumerable:!0,writable:!0},stack:{configurable:!0,enumerable:!0},cause:{configurable:!0,enumerable:!0,writable:!0}}),"cause"in e&&"object"==typeof e.cause&&Object.defineProperties(e.cause,{message:{configurable:!0,enumerable:!0,writable:!0},stack:{configurable:!0,enumerable:!0}}),Object.assign({},e,{body:(0,V.K)(e.body),code:"string"==typeof e.code?e.code:(0,V.K)(e.code)})},F=function(e){var t,n,r=null,o=e.args;o[0]instanceof Error?(n=D(o[0]),t=x()(o[1])?o[1]:o[0].message):M()(o[0])&&!P()(o[0])?(n=(r=o[0]).error&&D(r.error),o[0].message?t=o[0].message:x()(o[1])&&(t=o[1])):t=o[0];var i=o.slice(t===o[1]?2:1).map((function(e){return e instanceof Error?{error:D(e)}:e}));return Object.assign({},e,{args:i.length?i:void 0},r,{error:n,message:t})},j=function(){function e(e){var t=e.requestCount,n=e.makeRequest,r=e.emitLevels;this.reqCount=0,this.queue=[],this.requestCount=t||1,this.makeRequest=n,this.emitLevels=r||{fatal:!0}}var t=e.prototype;return t.checkQueue=function(){this.queue.length&&this.reqCount<this.requestCount&&this.sendRequest()},t.sendRequest=function(){var e=this,t=this.queue.shift();this.reqCount++,this.makeRequest(F(t)).catch(_()).then((function(){e.reqCount--,e.checkQueue()}))},t.remote=function(e){this.queue.push(e),this.checkQueue()},t.log=function(e){var t=e.type,n=e.remote;null==n?this.emitLevels[t]&&this.remote(e):(!0===n||T()(["emitLevels",t],!0,n))&&this.remote(Object.assign({},e,{remote:void 0}))},e}()},51786:function(e,t,n){"use strict";n.d(t,{F3:function(){return u},Qj:function(){return a}});var r=n(29376),o=n(58626),i=n(31565),a=function(e,t){var n=(0,o.HS)(e),i=(0,o.HS)(t);return!(n||!i)||!(n&&!i)&&(0,r.lw)(e,t)},u=function(e,t){var n,a=null===(n=t.campaign)||void 0===n?void 0:n.id;return a?(0,o.ZE)(e,a):(0,r.kV)((0,i.Mr)(e,o.MU),t.accessLevel)}},29376:function(e,t,n){"use strict";n.d(t,{$d:function(){return d},C5:function(){return w},Me:function(){return g},QO:function(){return E},TF:function(){return b},kV:function(){return m},lw:function(){return A},mm:function(){return S},o2:function(){return k},t1:function(){return h}});var r=n(63472),o=n.n(r),i=n(38507),a=n.n(i),u=n(8958),s=n.n(u),c=n(67826),l=n.n(c),f=n(31565),d="CORE",p=["ANONYMOUS","AUTHENTICATED","APPLICANT","CANDIDATE","REGISTERED","CLIENT","EMPLOYEE"],v={0:"ANONYMOUS",5:"AUTHENTICATED",20:"APPLICANT",30:"CANDIDATE",35:"REGISTERED",40:"CLIENT",50:"EMPLOYEE"},h=(0,f.cG)(d,p),g=function(){var e;return Object.assign({},(0,f.n5)(h),((e={})[h.ANONYMOUS]=!0,e))},m=function(e,t){if(t===h.ANONYMOUS)return(0,f.ac)(e,d,g());var n=!0,r=p.reduce((function(e,r){return e[r]=n,r===t&&(n=!1),e}),{});return(0,f.ac)(e,d,r)},y=a()(d,{}),b=s()([d,h.AUTHENTICATED],o()),E=l()([d,h.REGISTERED],!0),w=l()([d,h.CLIENT],!0),k=function(e){var t=y(e);return!!t[h.REGISTERED]&&!t[h.CLIENT]},S=function(e){var t;return void 0===e&&(e=0),m(((t={})[d]={},t),v[e])},R=p.length;function A(e,t){var n=y(e),r=y(t);if(n===r)return!1;for(var o=R-1;o>=0;o--){var i=p[o];if(!n[i]&&r[i])return!0}return!1}},58626:function(e,t,n){"use strict";n.d(t,{HS:function(){return v},MU:function(){return f},ZE:function(){return p}});var r=n(96105),o=n.n(r),i=n(6073),a=n.n(i),u=n(38507),s=n.n(u),c=n(31565),l=n(29376),f="DYNAMIC",d=s()(f,{}),p=function(e,t){var n,r,o=(0,c.ac)(e,l.$d,(0,c.n5)(l.t1)),i=((n={})[l.t1.CLIENT+"_"+t]=!0,n),u=d(e);return a()((function(e,t){return e===u[t]}),i)?o:Object.assign({},o,((r={})[f]=i,r))},v=function(e){return o()(Boolean,d(e))}},14479:function(e,t,n){"use strict";n.d(t,{CE:function(){return k},Ft:function(){return A},G$:function(){return w},gK:function(){return S},kq:function(){return C},sc:function(){return R}});var r=n(63119),o=n.n(r),i=n(62491),a=n.n(i),u=n(56257),s=n.n(u),c=n(98799),l=n.n(c),f=n(38507),d=n.n(f),p=n(33057),v=n.n(p),h=n(7605),g=n.n(h),m=n(68989),y=n.n(m),b=n(55500),E=n.n(b),w=o()(a()((function(e){return!!e})),s()(","),v()(["config","requiredRoles"],"")),k=v()(["config","accessLevel"],0),S=v()(["config","authenticateFailureRedirectUrl"],""),R=v()(["config","failureRedirectWithQueryParams"],!1);function A(e,t){void 0===t&&(t=[]);var n=E()(e);return l()((function(t){return l()((function(n){var r;return!!(null===(r=e[n])||void 0===r?void 0:r[t])}),n)}),t)}function C(e,t){return 0===function(e,t){var n=[];return e===t||g()(y()(E()(e),E()(t))).forEach((function(r){var o=d()(r,{},e),i=d()(r,{},t);g()(y()(E()(o),E()(i))).forEach((function(e){(null==o?void 0:o[e])!==(null==i?void 0:i[e])&&n.push(e)}))})),n}(e,t).length}},31565:function(e,t,n){"use strict";n.d(t,{Mr:function(){return p},ac:function(){return f},cG:function(){return l},n5:function(){return v}});var r=n(65165),o=n.n(r),i=n(6073),a=n.n(i),u=n(38507),s=n.n(u),c=n(57801),l=function(e,t){return t.reduce((function(e,t){return e[t]=t,e}),Object.create(null))},f=function(e,t,n){var r,o,i=null!==(o=s()(t,{},e))&&void 0!==o?o:{};return a()((function(e,t){return e===i[t]}),n)?e:Object.assign({},e,((r={})[t]=Object.assign({},i,n),r))},d=n.n(c)()(o()),p=function(e,t){var n,r,o=null!==(r=s()(t,{},e))&&void 0!==r?r:{};return a()((function(e){return!1===e}),o)?e:Object.assign({},e,((n={})[t]=d(o),n))},v=function(e){return d(e)}},70872:function(e,t,n){"use strict";n.d(t,{Xn:function(){return i},_q:function(){return o},qs:function(){return a}});var r=n(44121),o=(0,r.createContext)(null),i=(0,r.createContext)(null),a=(0,r.createContext)(null)},54143:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(44121),o=n(70872),i=function(){return(0,r.useContext)(o.Xn)}},71541:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(44121),o=n(70872),i=function(){return(0,r.useContext)(o._q)}},81935:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(44121),o=n(70872),i=function(){return(0,r.useContext)(o.qs)}},26845:function(e,t,n){"use strict";n.d(t,{Rc:function(){return u},aS:function(){return o},q$:function(){return r},xA:function(){return a},xQ:function(){return i}});var r=":",o=/\*/,i=/<history-fallback>/,a=/:.+$/,u=/([^(?]+)(?:\((.+)\))?(\?)?/},5203:function(e,t,n){"use strict";n.d(t,{Qc:function(){return p},am:function(){return c},gY:function(){return v}});var r=n(52723),o=n(37093),i=n.n(o),a=n(26845),u=n(12836);function s(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var c=function(e){return e.split("/").slice(e.startsWith("/")?1:0,e.endsWith("/")?-1:1/0)},l=function(e){return a.xQ.test(e)},f=function(e){return a.aS.test(e)},d=function(e){return!!e.match(a.xA)},p=function(e){return l(e)?{type:1}:f(e)?{type:2}:d(e)?function(e){var t=e.split(a.q$),n=s(r.Z,t,3),o=n[0],i=void 0===o?"":o,u=n[1],c=n[2],l=void 0===c?"":c,f=a.Rc.exec(u);if(!f)throw new Error('parameters should satisfy pattern "prefix:paramName(regexp)\\?:postfix"');var d=s(r.Z,f,4),p=d[1],v=d[2],h=d[3];return{type:3,paramName:p,regexp:i||l||v?new RegExp("^"+i+"("+(v||".+")+")"+(h?"?":"")+l+"$"):void 0,optional:!!h&&!i&&!l}}(e):{type:0,value:e}},v=function(e,t){var n=c(e),o=i()((function(n){var o;if(l(n)||f(n))throw new Error("Pathname should be only a string with dynamic parameters, not a special string, got "+e);if(d(n)){var i=n.split(a.q$),u=s(r.Z,i,3),c=u[0],p=void 0===c?"":c,v=u[1],h=void 0===v?"":v,g=u[2],m=void 0===g?"":g,y=a.Rc.exec(h);if(!y)throw new Error('parameters should satisfy pattern "prefix:paramName(regexp)\\?:postfix"');var b=s(r.Z,y,4),E=b[1],w=b[2],k=b[3],S=null===(o=t[E])||void 0===o?void 0:o.toString();if(k&&!S)return"";if(!S)throw new Error("value for parameter for "+E+" should be defined in params");if(w&&!new RegExp(w).test(S))throw new Error("passed parameter for "+E+" should satisfy regxep: "+w+", got: "+S);return p+S+m||n}return n}),n).join("/");return(0,u.RZ)("/"+o,e.endsWith("/"))}},12836:function(e,t,n){"use strict";n.d(t,{EE:function(){return s},RZ:function(){return a},hx:function(){return l},ub:function(){return c},ym:function(){return u}});var r=n(58903),o=n(57702);function i(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var a=function(e,t){void 0===t&&(t=!1);var n=e.endsWith("/");return t?n||function(e){return/\/.+\.[^/]+$/.test(e)}(e)?e:e+"/":e.length>1&&n?e.slice(0,-1):e},u=function(e){var t=e.split("?"),n=i(o.Z,t),a=n[0],u=n.slice(1);return[a.replace(/\/+/g,"/").replace(/^(\w+):\//,"$1://")].concat(i(r.Z,u)).join("?")},s=function(e){return!e.host||e.host===window.location.host},c=function(e){return"string"==typeof e?{url:e}:e},l=function(e,t){return e.add(t),function(){e.delete(t)}}},78047:function(e,t,n){"use strict";n.d(t,{DB:function(){return g},DI:function(){return b},F_:function(){return p},Hz:function(){return h},Qc:function(){return v},WU:function(){return w},co:function(){return E},n2:function(){return d}});var r=n(52723),o=n(14033),i=n.n(o),a=n(49103),u=n.n(a),s=n(15434),c=n.n(s);var l=i()(/^(?:[a-z]+:)?\/\//i),f=function(e){return e.pathname+e.search+e.hash},d=function(e){var t=Object.create(null);e.searchParams.forEach((function(e,n){Object.prototype.hasOwnProperty.call(t,n)?Array.isArray(t[n])?t[n].push(e):t[n]=[t[n],e]:t[n]=e}));var n=e.toString(),r=f(e),o={href:r,origin:e.origin,protocol:e.protocol,username:e.username,password:e.password,port:e.port,pathname:e.pathname,path:r,search:e.search,hash:e.hash,query:t};return"localhost"!==e.host&&Object.assign(o,{href:e.href,host:e.host,hostname:e.hostname}),Object.defineProperty(o,"toString",{value:function(){return n},enumerable:!1}),o},p=function(e,t){return void 0===t&&(t=window.location.href),new URL(function(e){if(e.length<2)return!1;for(var t=0;t<e.length;t++)switch(e[t]){case"?":return!0;case"/":break;default:return!1}return!0}(e)?e.replace(/^\/+/,"/"):e,t)},v=function(e){return d(p(e))},h=function(e,t){var n=p(e.toString());return p(t,n)},g=function(e,t){var n=p(e),r=p(t,n);return l(e)?r.href:f(r)},m=/^(\/[^?\s]*)(\?[^\s]*)?(#[^s]*)?$/,y=function(e,t){u()((function(t,n){Array.isArray(t)?(e.delete(n),c()((function(t){return e.append(n,t)}),t)):void 0===t?e.delete(n):e.set(n,t)}),t)},b=function(e,t){var n=p(e.toString());return y(n.searchParams,t),d(n)},E=function(e,t){var n=t.path,o=t.query,i=t.port,a=t.username,u=t.password,s={hash:t.hash,host:t.host,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,search:t.search};if(n){var c=function(e){var t=m.exec(e);if(t){var n=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r.Z,t,4),o=(n[0],n[1]),i=n[2],a=void 0===i?"":i,u=n[3];return{pathname:o,search:a,hash:void 0===u?"":u}}}(n);c&&Object.assign(e,c)}for(var l in a&&(e.username=a),u&&(e.password=u),s){var f=s[l];void 0!==f&&(e[l]=f)}if(void 0!==i&&(e.port=i,"0"===e.port&&(e.port="http:"===e.protocol?"80":"443")),o){var d=new URLSearchParams(t.search);y(d,o),e.search=d.toString()}return e},w=function(e){var t=p("");return d(E(t,e)).href}},95967:function(e,t,n){"use strict";n.d(t,{H:function(){return w}});var r=n(33926),o=n(38507),i=n.n(o),a=n(63119),u=n.n(a),s=n(94905),c=n.n(s),l=n(56640),f=n(52723);function d(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var p=function(e){return void 0===e&&(e=""),e.toLowerCase()},v=function(e){return void 0===e&&(e="-1.-1.-1"),e.split(".").map(Number)},h=function(e){try{var t=p(e.browser.name),n=v(e.browser.version),r=d(f.Z,n,3),o=r[0],i=r[1],a=r[2],u=p(e.os.name),s=v(e.os.version),c=d(f.Z,s,2),l=c[0],h=c[1],g=p(e.engine.name),m=v(e.engine.version),y=d(f.Z,m,1)[0];return"ios"===u?12!==l:"safari"===t||"webkit"===t?!("mac os"===u&&10===l&&14===h):"ucbrowser"===t?12!==o?o>12:13!==i?i>13:a>=2:"chrome"===t||"chromium"===t?o<51||o>66:"blink"!==g&&"chromium"!==g||y<51||y>66}catch(e){return!0}},g=function(e){switch(e){case"Windows Phone":return"winphone";case"Android":return"android";case"iOS":return"ios";case"BlackBerry":case"RIM Tablet OS":return"blackberry"}},m=function(e,t){switch(!0){case"firefox"===e:return"firefox";case"safari"===e||"mobile safari"===e||"webkit"===t:return"safari";case"blink"===t||"chromium"===t:return"chrome"}return"other"},y=["ua"],b=u()(c(),i()("name","")),E=[[/developers\.google\.com\/\+\/web\/snippet/i],[l.UAParser.BROWSER.NAME,l.UAParser.BROWSER.VERSION,["type","bot"]],[/((?:\S+)bot(?:-[imagevdo]{5})?)\/([\w.]+)/i],[l.UAParser.BROWSER.NAME,l.UAParser.BROWSER.VERSION,["type","bot"]],[/[\s;(](adsbot[-\w]*?[\s;)])/i],[l.UAParser.BROWSER.NAME,[l.UAParser.BROWSER.VERSION,"unknown"],["type","bot"]],[/fxios\/([\w\\.-]+)/i],[[l.UAParser.BROWSER.NAME,"Firefox Focus"],l.UAParser.BROWSER.VERSION]],w=function(e){var t=new l.UAParser(e,{browser:E}).getResult(),n=(t.ua,(0,r.Z)(t,y)),o=n.browser,i=n.os,a=n.engine,u=b(o),s=b(a);return"opera mobi"===u&&(n.device.type="mobile"),Object.assign({},n,{mobileOS:g(i.name),sameSiteNoneCompatible:h(n),browser:Object.assign({},o,{browserEngine:m(u,s),name:u})})}},69543:function(e,t,n){"use strict";n.d(t,{X:function(){return y}});var r=n(80476),o=n(67826),i=n.n(o),a=n(63119),u=n.n(a),s=n(80283),c=n(97570),l=n(82571),f=n(10776),d=n(92946),p=n(95926),v=n(26335),h=n(41537),g=n(90191),m=n(83092),y=function(){};y=(0,r.__decorate)([(0,s.Y)({imports:[p.yi],providers:[(0,c.J)({provide:m.h,useFactory:function(e){var t=e.httpClientFactory,n=e.envManager,r=e.cookieManager,o=e.apiOriginService,a=u()((0,v.J)({cookieManager:r,sessionCookieName:"psid"}),(0,h.c)(o));return t({name:"bundles-api",baseUrl:n.get("BUNDLES_API"),method:"GET",requestType:"json",query:{appName:"web",appVersion:n.get("APP_VERSION"),platform:"web"},modifyRequest:a},{isResponseValid:function(e){return i()(["status"],"Ok",e)}})},deps:{httpClientFactory:d.iu,envManager:l.vC,cookieManager:f.T,apiOriginService:d.JS}}),(0,c.J)({provide:l.sQ,multi:!0,useValue:[{key:"BUNDLES_API",validator:g.CB}]})]})],y)},83092:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r=(0,n(59999).V3)("BUNDLES_API_SERVICE")},36523:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var r=n(80283),o=n(97570),i=(0,n(59999).V3)("_tramvai_error_interceptor_filter"),a=(0,r.Y)({imports:[],providers:[(0,o.J)({provide:i,useValue:function(e){return"Uncaught ReferenceError: processRandomSelector is not defined"===e.message||"ResizeObserver loop limit exceeded"===e.message||"ResizeObserver loop completed with undelivered notifications."===e.message}})]})((function(){}))},31812:function(e,t,n){"use strict";n.d(t,{L:function(){return v}});var r=n(80283),o=n(97570),i=n(29772),a=n(67584),u=n(48945),s=n(90191),c=n(83062),l=n(82342),f=n(82571),d=n(3566),p={filter:function(e){var t=e.remote,n=e.error;return null==t||!n||"ERR_HTTP_ERROR"!==n.code||!/NetworkError when attempting to fetch resource/.test(n.message)}},v=(0,r.Y)({imports:[],providers:[(0,o.J)({provide:l.J0,multi:!0,useFactory:function(e){var t,n,r,o,i,a,u,s,c=(n=(t=e).appInfo,r=t.envManager,o=t.wuid,i=n.appName,a=r.get("APP_VERSION"),u=r.get("APP_RELEASE"),s=r.get("FRONT_LOG_SYSTEM"),{extend:function(e){return Object.assign({},e,{component:"tramvai-"+i+"-"+(e.name||"unknown"),wuid:o,release:u,system:s,appVersion:a,appName:i,appType:"tramvai",from:"browser",userAgent:window.navigator.userAgent,href:window.location.href})}});return function(e){e.addFilter(p),e.addExtension(c)}},deps:{appInfo:i.Qo,envManager:f.vC,wuid:{token:d.$,optional:!0}}}),(0,o.J)({provide:l.DV,useFactory:function(e){var t=e.envManager.get("FRONT_LOG_API");return new u.RemoteReporter({requestCount:1/0,emitLevels:{error:!0,fatal:!0},makeRequest:function(e){return(0,c.g)({logApi:t,payload:e})}})},scope:a.s.SINGLETON,deps:{envManager:f.vC}}),(0,o.J)({provide:f.sQ,useValue:[{key:"FRONT_LOG_API",dehydrate:!0,validator:s.CB},{key:"FRONT_LOG_SYSTEM",dehydrate:!0,value:"client_logs"}],multi:!0})]})((function(){}))},55205:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});var r=(0,n(66598).J)({name:"TinkoffRetryModule",providers:[]})},48510:function(e,t,n){"use strict";n.d(t,{Jc:function(){return i},v5:function(){return o}});var r=n(59999),o=(0,r.V3)("RETRY_HOSTNAME_MAP"),i=(0,r.V3)("GET_RETRY_URL")},26215:function(e,t,n){"use strict";n.d(t,{iV:function(){return P}});var r,o=n(58903),i=n(80476),a=n(29772),u=n(97570),s=n(80283),c=n(80772),l=n(16842),f=n(437),d=n(82571),p=n(82342),v=n(49076),h=n(67570),g=n(21789),m=n(86499),y=n(19434),b=n(8751),E=n(24592),w={trace:!0,debug:!0,info:!0,warn:!0,error:!0,fatal:!0},k=(0,u.J)({provide:h.j5,useFactory:function(e){var t=e.logger,n=e.analytics,r=t({name:"eventea-logger",defaults:{remote:!0}}),o="hasNotFetchedYet";return n&&(null==n||n.waitFor("personalizedLandingMetrics").then((function(){var e=n.state.personalizedLandingMetrics,t=void 0===e?void 0:e;if(t){var i=t.state.dcoGeneralId,a=void 0===i?"":i;a&&(o=a)}else r.error("Unable to resolve personalizedLandingMetrics in analytics module.")})).catch((function(e){r.error({event:"eventea-dco-monitoring-error",error:e})}))),function(e){var t,n,i=e.event,a=e.payload,u=e.config,s=e.project,c=e.handlersData,l=(null==u?void 0:u.level)||u,f=null!==(t=null==u?void 0:u.samplingRate)&&void 0!==t?t:1;if("string"==typeof l&&w[l]&&l in r){if(0===(n=f)||1===n?n:Math.random()<=n){var d=c?Object.assign({},c,{statist:void 0}):c;r[l]({event:i,eventeaProject:s,payload:a,handlersData:d,dcoGeneralId:o})}}else r.error({event:"eventea-wrong-logs-config",originalEvent:i,originalLevel:l})}},deps:{logger:p.Fp,analytics:{token:E.t3,optional:!0}}}),S=n(18422),R=n(83964),A=(0,u.J)({provide:h.q2,useFactory:function(e){var t=e.analytics,n=e.logger,r=n({name:"eventea-logger-tracking",defaults:{remote:!0}});if(t){var o=t.callUtil("makeEventeaHandler"),i=!1;return function(e){i?(0,S.OR)(t,e):o.then((function(t){t(e)})).catch((function(e){i=!0,r.error({event:"Unable to resolve makeEventeaHandler. Fallback to twt-eventea-handler v"+R.i8,error:e})}))}}n.warn("There is no analytics module, EVENTEA_TRACKING_HANDLER WILL NOT WORK")},deps:{analytics:{token:E.t3,optional:!0},logger:p.Fp}}),C=(0,u.J)({provide:h.g3,useFactory:function(e){var t=e.analytics,n=e.logger,r=n({name:"eventea-logger-twt-data",defaults:{remote:!0}});if(t){var o=t.callUtil("makeEventeaDataHandler"),i=!1;return function(e){i?(0,S.x4)(t,e):o.then((function(t){t(e)})).catch((function(e){i=!0,r.error({event:"Unable to resolve makeEventeaDataHandler util. Fallback to twt-eventea-data-handler v"+R.i8,error:e})}))}}n.warn("There is no analytics module, EVENTEA_TWT_DATA_HANDLER WILL NOT WORK")},deps:{analytics:{token:E.t3,optional:!0},logger:p.Fp}}),_=n(37621),N=n(42353),T=n(58426),O=(0,N.y)("set routing map"),x=(0,T.L)("eventea",{routingMap:{}}).on(O,(function(e,t){return{routingMap:t}})),I=[{provide:_.Ym,multi:!0,useValue:[x]}];function M(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var L={routingMap:h.rF,errorHandlers:h.nM,projectHandlersList:{token:h.eW,multi:!0},envManager:d.vC,appInfo:a.Qo,defaultEventHandlers:{token:h.qq,multi:!0},defaultDataHandlers:{token:h.qJ,multi:!0},clientLoaderTimeout:h.lb,selectPreloadProjects:h.X9},P=r=function(){function e(){}return e.forRoot=function(e){var t=e.projects.map((function(e){var t=e.project,n=e.fallbackForServer;return(0,u.J)({provide:h.eW,multi:!0,useFactory:function(e){var r=e.logger;return n&&r("eventea-logger-module-forRoot").error(["You passed fallbackForServer to the client for project "+t+", this will bloat your client build.","See eventea documentation on how this can be avoided."].join("\n")),{project:t}},deps:{logger:p.Fp}})}));return{mainModule:r,providers:t}},e}();P=r=(0,i.__decorate)([(0,s.Y)({imports:[],providers:[].concat(M(o.Z,I),[(0,u.J)({provide:h.X9,useFactory:function(e){var t="true"===e.envManager.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING");return function(e){return t?e:[]}},deps:{envManager:d.vC}}),{provide:h.Bv,useFactory:function(e){var t,n=e.routingMap,r=e.errorHandlers,i=e.projectHandlersList,a=e.envManager,u=e.appInfo,s=e.defaultEventHandlers,c=e.defaultDataHandlers,l=e.clientLoaderTimeout,d=e.selectPreloadProjects,p=(t=Object.create(null),{useEvent:function(e){var n=e.project,r=e.event;t[n]||(t[n]=Object.create(null)),t[n][r]=!0},getUsedEvents:function(){return Object.keys(t).map((function(e){return{projectName:e,eventList:Object.keys(t[e])}}))}}),v=null==a?void 0:a.get("EVENTEA_PROJECTS"),h=(v&&v.match(/[a-zA-Z0-9\-\_]+/g)||[]).map((function(e){return{project:e}})),g=([].concat(M(o.Z,i),M(o.Z,h))||[]).reduce((function(e,t){return e[t.project]={eventHandlers:t.eventHandlers,dataHandlers:t.dataHandlers,routing:n[t.project]},e}),{}),m=s.reduce((function(e,t){var n,r=t.name,o=t.handler;return Object.assign({},e,((n={})[r]=o,n))}),{}),E=c.reduce((function(e,t){var n,r=t.name,o=t.handler;return Object.assign({},e,((n={})[r]=o,n))}),{}),w=d(Object.keys(g)),k=a.get("EVENTEA_BEER_URL")?new b.EventeaBeerClient({baseUrl:a.get("EVENTEA_BEER_URL")}):void 0,S=new y.ClientLoader({preloadProjects:w,handleRequestError:function(e){var t=e.project,n=e.status;k&&k.event({project:"eventea",event:"client-loader-error",payload:{projectName:t,status:n},handlersData:{appName:u.appName}})},baseUrl:null==a?void 0:a.get("EVENTEA_LOADER_URL"),timeout:l}),R=new f.Eventea({projectConfigurationMap:g,errorHandlers:r,beerBaseUrl:a.get("EVENTEA_BEER_URL"),handlersData:{appName:u.appName,appVersion:a.get("APP_VERSION"),appRelease:a.get("APP_RELEASE")},handleAnyEvent:function(e){p.useEvent(e)},defaultEventHandlers:m,defaultDataHandlers:E,routingClientLoader:S,batchingConfig:{batchingEnable:"true"===a.get("EVENTEA_CLIENT_BATCHING_ENABLE"),batchSize:Number(a.get("EVENTEA_CLIENT_BATCH_SIZE")),batchDelay:Number(a.get("EVENTEA_CLIENT_BATCH_DELAY"))},needBoxyBlocksProcessing:"true"===a.get("EVENTEA_CLIENT_BOXY_BLOCKS_PROCESSING_ENABLE"),fetchPriority:a.get("EVENTEA_CLIENT_FETCH_PRIORITY"),compressionEnabled:"true"===a.get("EVENTEA_IS_COMPRESSION_ENABLED")});return window.addEventListener("pagehide",(function(){var e=p.getUsedEvents();e.length&&e.forEach((function(e){var t=e.projectName,n=e.eventList;R.sendOnce({project:"eventea",event:"usage-stats",payload:{projectName:t,eventList:n}},t)}))})),window.__eventea=R,R},deps:L},{provide:h.rF,useFactory:function(e){return e.context.getState(x).routingMap},deps:{context:v.l}},{provide:h.nM,useFactory:function(e){var t=(0,e.logger)("eventea-error-handlers");return{handleMissedEvent:function(e){var n=e.event,r=e.project;t.error({event:"eventea-missed-event",project:r,eventName:n})},handleMissedEventHandler:function(e){var n=e.event,r=e.routeHandlerName,o=e.project;t.error({event:"eventea-missed-event-handler",eventName:n,project:o,routeHandlerName:r})},handleMissedProject:function(e){var n=e.event,r=e.project;t.error({event:"eventea-missed-project",project:r,eventName:n})},handleMissedRouting:function(e){var n=e.project;t.error({event:"eventea-missed-routing",project:n})},handleMissedDataHandler:function(e){var n=e.project,r=e.handlerName;t.error({event:"eventea-missed-data-handler",project:n,handlerName:r})},handleMissedDataProject:function(e){var n=e.project;t.error({event:"eventea-missed-data-project",project:n})},handleMissedRoutes:function(e){var n=e.project,r=e.event;t.error({event:"eventea-missed-routes",project:n,eventName:r})},handleDeprecatedEvent:function(e){var n=e.project,r=e.event;t.info({event:"eventea-deprecated-event",project:n,eventName:r})},handleEventHandlerError:function(e,n,r){var o=r.project,i=r.event;t.error({event:"eventea-handler-error",project:o,eventName:i,handlerName:n,error:e})}}},deps:{logger:p.Fp}},A,C,k,{provide:h.lb,useValue:5e3},(0,u.J)({provide:h.eW,multi:!0,useValue:{project:"eventea"}}),(0,u.J)({provide:h.Yw,useFactory:function(e){var t=e.statistClient,n=e.logger;if(t)return(0,m.I)({statistClient:t});n.warn("There is no statist event api client, EVENTEA_STATIST_HANDLER WILL NOT WORK")},deps:{statistClient:{token:g.se,optional:!0},logger:p.Fp}}),(0,u.J)({provide:h.qq,useFactory:function(e){return{name:"statist",handler:e.statistHandler}},deps:{statistHandler:h.Yw},multi:!0}),(0,u.J)({provide:h.qq,useFactory:function(e){return{name:"logs",handler:e.logsHandler}},deps:{logsHandler:h.j5},multi:!0}),(0,u.J)({provide:h.qq,useFactory:function(e){return{name:"tracking",handler:e.trackingHandler}},deps:{trackingHandler:h.q2},multi:!0}),(0,u.J)({provide:h.qJ,useFactory:function(e){return{name:"twt",handler:e.twtDataHandler}},deps:{twtDataHandler:h.g3},multi:!0}),(0,u.J)({provide:c.Bi.init,useFactory:function(e){var t=e.di;return function(){t.get(h.Bv)}},deps:{di:l.Z}})])})],P)},99270:function(e,t,n){"use strict";var r=n(15617),o=(r.createToken("microfronts mappings logger"),r.createToken("after mappings loaded",{multi:!0}),r.createToken("microfronts locker mapping loader"),r.createToken("microfronts locker mapping cache"),r.createToken("external mappings processor"));r.createToken("browserPersistingCacheToken"),r.createToken("browserPermanentCacheName"),t.I5=o},27338:function(e,t,n){"use strict";n.d(t,{r:function(){return de}});var r=n(58903),o=n(66598),i=n(97570),a=n(147),u=n.n(a),s=n(99454),c=n.n(s),l=n(82571),f=n(48510),d=[(0,i.J)({provide:f.v5,useFactory:function(e){var t={"www.cdn-tinkoff.ru":"fallback.cdn-tinkoff.ru/www","cdn.tbank.ru":"fallback.cdn-tinkoff.ru/acdn","unic-cdn-prod.cdn-tinkoff.ru":"fallback.cdn-tinkoff.ru/unic-cdn-prod"},n=e.envManager.get("RETRY_HOSTNAME_MAP"),r=function(e){return e.endsWith("/")?e.slice(0,-1):e};return void 0!==n?c()(t,u()(n.split(",").map((function(e){return e.split("=")})).map((function(e){return e.map(r)})))):t},deps:{envManager:l.vC}}),(0,i.J)({provide:f.Jc,useFactory:function(e){var t=e.retryMap;return function(e){return function(e,t){for(var n in t)if(0===e.split("//")[1].indexOf(n))return e.replace(n,t[n]);return e}(e,t)}},deps:{retryMap:f.v5}}),(0,i.J)({provide:l.sQ,multi:!0,useValue:[{key:"RETRY_HOSTNAME_MAP",optional:!0}]})],p=(0,o.J)({name:"TinkoffRetryModuleDefaults",providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,d)}),v=n(37621),h=n(68400),g=n(52723),m=n(82342),y=n(10776),b=n(82912),E=n(6073),w=n.n(E),k=n(23461),S=n(43732),R=n(42353),A=n(58426);(0,R.y)("boxy ssr data set");var C=(0,R.y)("boxy external mappings"),_=(0,A.L)("microfrontsMappings",{mappings:[],overwritingMapping:null}).on(C,(function(e,t){return Object.assign({},e,t)})),N=n(59999),T=(0,N.V3)("microfronts mappings logger"),O=(0,N.V3)("after mappings loaded",{multi:!0}),x=(0,N.V3)("microfronts locker mapping loader"),I=(0,N.V3)("microfronts locker mapping cache"),M=(0,N.V3)("external mappings processor"),L=(0,N.V3)("browserPersistingCacheToken"),P=(0,N.V3)("browserPermanentCacheName"),V="cookieMapping",D="cookieMappingUrl";var F=[(0,i.J)({provide:T,useFactory:function(e){return(0,e.logger)("boxy")},deps:{logger:m.Fp}}),(0,i.J)({provide:S.kE,useFactory:function(e){var t=e.store;return function(){return t.getState(_).mappings.map((function(e){return e.mapping}))}},deps:{store:v.kR}}),(0,i.J)({provide:S.N3,useFactory:function(e){var t,n=e.cookie,r=e.store,o=e.logger;if(!e.cookieMappingEnabled)return{};var i=n.get(V),a=null===(t=r.getState(_).overwritingMapping)||void 0===t?void 0:t.mapping;if(i&&a&&o.warn("Both cookies "+V+" and "+D+" are set. First will be used,\n        but situation is almost certainly undesired. Please use only one at a time."),!i)return a;var u,s=JSON.parse(i);if(u=s,w()(w()((function(e){return"npmVersion"in e||"clientJs"in e&&"serverJs"in e})))(u))return s;o.error('Cookie "'+V+'" is defined, but mapping in value is invalid')},deps:{cookie:y.T,store:v.kR,logger:T,env:l.vC,cookieMappingEnabled:S.Gj}}),(0,i.J)({provide:S.Gj,useFactory:function(e){var t=e.env.get("ENABLE_COOKIE_MAPPING");return!!t&&"false"!==t},deps:{env:l.vC}}),(0,i.J)({provide:S.xb,useFactory:function(e){var t=e.env,n=e.urlRewrite,r=t.get("BOXY_BASE_URL");return n?n(r):r},deps:{env:l.vC,urlRewrite:S.JM}}),(0,i.J)({provide:S.JM,useFactory:function(e){var t=e.env,n=e.requestManager,r=t.get("BOXY_REQUEST_HOSTNAME_MAP");return r?function(e,t){var n;e&&(n=e.split(",").reduce((function(e,t){var n=t.split("="),r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(g.Z,n,2),o=r[0],i=r[1];return e.set(o,i),e}),new Map));var r=new URL(t);return function(e){if(n&&e){var t=new URL(e);return t.hostname=n.get(r.hostname)||t.hostname,t.href}return e}}(r,n.getUrl()):null},deps:{env:l.vC,requestManager:b.G}}),{provide:l.sQ,useValue:[{key:"BOXY_BASE_URL",optional:!0},{key:"ENABLE_COOKIE_MAPPING",optional:!0},{key:"BOXY_REQUEST_HOSTNAME_MAP",optional:!0}],multi:!0},(0,i.J)({provide:S.Rq,useFactory:function(e){var t=Object.assign({},((0,h.Z)(e),e));return function(e){return new k.zN(Object.assign({},t,e))}},deps:{fallbackMapping:{token:S.Af,multi:!0,optional:!0},customMapping:{token:S.go,multi:!0,optional:!0},baseMappingExtensions:{token:S.kE,multi:!0,optional:!0},boxyLazy:{token:S.iO,optional:!0},overwritingMappingExtension:{token:S.N3,optional:!0},refreshMappings:{token:S.pX,optional:!0},boxyBaseUrl:S.xb,urlRewrite:{token:S.JM,optional:!0}}})],j=n(45232),U=n(17935),B=n.n(U),Z=n(67584),J=n(29772),H=n(80772),q=n(66913),G=n(16011),W=n(42866),Y=n(67570),K=n(16842),Q=n(62054),z=n(9056),$=n(16254),X=function(){function e(e){this.cache=e.cache}var t=e.prototype;return t.set=function(e,t,n){var r=n.kind,o=n.forceRefresh;"cookie"!==r&&this.cache.set(e,{mapping:t,meta:o?{lastForceRefreshTime:Date.now()}:{}})},t.get=function(e,t){if(!(null==t?void 0:t.allowStale))return this.cache.has(e)?this.cache.get(e):void 0;var n=this.cache.get(e);return n?(this.cache.set(e,n,{ttl:6e4}),n):void 0},e}(),ee=n(91232);function te(e,t){var n,r,o=e.url,i=e.kind,a=t.baseUrl,u=t.mapping;return a?n=a:(n=o.split("/").slice(0,-1).join("/"),"cookie"===i&&(r=t.commitSha)),(0,ee._q)(u,n,{cacheHash:r})}function ne(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var re=function(){var e=(0,j.Z)(B().mark((function e(t){var n,o,i,a,u,s,c,l,f,d,p,v,h,g,m,y,b,E,w;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=function(){return(b=(0,j.Z)(B().mark((function e(t){var n,r,i,a,u,p,v,h;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,i=t.kind,!(a=o.get(r))||s&&!((g=null===(n=a.meta)||void 0===n?void 0:n.lastForceRefreshTime)&&g+c>=Date.now())){e.next=5;break}return e.abrupt("return",a.mapping);case 5:return e.next=7,f(t);case 7:if(!(u=e.sent)){e.next=12;break}return o.set(r,u,{kind:i,forceRefresh:s}),m.push(u),e.abrupt("return",u);case 12:if(d.warn("Failed to load mapping from "+r+"."),!(p=o.get(r,{allowStale:!0}))){e.next=17;break}return d.warn("Return cached stale version. "+r),e.abrupt("return",p.mapping);case 17:if((v=l(r))!==r){e.next=20;break}return e.abrupt("return",null);case 20:return e.next=22,f(Object.assign({},t,{url:v}));case 22:if(!(h=e.sent)){e.next=27;break}return o.set(r,h,{kind:i,forceRefresh:s}),m.push(h),e.abrupt("return",h);case 27:return d.warn("Fallback cdn mapping load failed: "+v+"."),e.abrupt("return",null);case 29:case"end":return e.stop()}var g}),e)})))).apply(this,arguments)},y=function(e){return b.apply(this,arguments)},n=t.afterMappingsLoaded,o=t.cache,i=t.cookie,a=t.cookieMappingEnabled,u=t.externalMappingUrls,s=t.forceRefresh,c=t.forceRefreshThrottleTime,l=t.getRetryUrl,f=t.loadMapping,d=t.logger,p=t.store,v=a?i.get(D):void 0,(null==u?void 0:u.length)||v){e.next=6;break}return e.abrupt("return",[]);case 6:return h=[],g=null,m=[],E=(u||[]).map(function(){var e=(0,j.Z)(B().mark((function e(t){var n;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({url:t,kind:"external",source:"s3"});case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",{url:t,mapping:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=v?[function(){var e=(0,j.Z)(B().mark((function e(t){var n;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({url:t,kind:"cookie",source:"s3"});case 2:(n=e.sent)&&(g={url:t,mapping:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(v)]:[],e.next=13,Promise.all([Promise.all(ne(r.Z,E)).then((function(e){e.forEach((function(e){e&&h.push(e)}))}))].concat(w));case 13:if(p.dispatch(C({mappings:h,overwritingMapping:g})),!m.length||!n){e.next=17;break}return e.next=17,Promise.all(n.map((function(e){return e({mappingsUpdated:!0})})));case 17:return e.abrupt("return",m);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=[(0,i.J)({provide:$.Yv,multi:!0,useFactory:function(e){var t=e.di;return e.env,(0,j.Z)(B().mark((function e(){return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.get(M)({forceRefresh:!1});case 3:case"end":return e.stop()}}),e)})))},deps:{di:K.Z,env:l.vC}}),(0,i.J)({provide:S.pX,useFactory:function(e){var t=e.externalMappingsProcessorFactory,n=e.freezeClientMapping;return function(){return n?Promise.resolve([]):t({forceRefresh:!0})}},deps:{externalMappingsProcessorFactory:M,freezeClientMapping:S.HI}}),(0,i.J)({provide:x,useFactory:function(e){var t=e.httpRequest,n=e.logger,r=e.mappingLoaderHook,o=e.mappingLoaderPlugins,i=e.mappingRequestTimeout;return r.tapPromise("loadingMapping",function(){var e=(0,j.Z)(B().mark((function e(r,o,a){var u;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=o.url,e.abrupt("return",t.get(u,{},{responseType:"json",timeout:i}).then((function(e){return e})).catch((function(e){return n.warn("Failed to load mapping from "+u+". \n"+e),e})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),null==o||o.forEach((function(e){e(r)})),function(){var e=(0,j.Z)(B().mark((function e(t){var n;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.callPromise(t);case 2:if((n=e.sent)&&n.payload){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",te(t,n.payload));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{httpRequest:S.BW,logger:T,mappingLoaderHook:S.AA,mappingLoaderPlugins:{token:S.I,multi:!0,optional:!0},mappingRequestTimeout:S.w0}}),(0,i.J)({provide:S.AA,useFactory:function(e){return e.hookFactory.createAsync("externalMappingLoading")},deps:{hookFactory:Q.j}}),(0,i.J)({provide:M,useFactory:function(e){return function(t){var n=t.forceRefresh;return re(Object.assign({},e,{forceRefresh:n}))}},deps:{afterMappingsLoaded:{token:O,optional:!0},appInfo:J.Qo,cache:I,cookie:y.T,cookieMappingEnabled:S.Gj,di:K.Z,env:l.vC,externalMappingUrls:S._x,forceRefreshThrottleTime:S.UE,getRetryUrl:f.Jc,httpRequest:S.BW,loadMapping:S.Rp,logger:T,store:v.kR,urlRewrite:S.JM}}),(0,i.J)({provide:I,useClass:X,deps:{cache:S.o1}}),(0,i.J)({provide:S._x,useFactory:function(e){var t=e.env.get("BOXY_EXTERNAL_MAPPING_URL"),n=e.externalMappingUrls||[];return t&&(n=n.concat(t.split(",").map((function(e){return e.trim()})))),e.urlRewrite?n.map(e.urlRewrite):n},deps:{externalMappingUrls:{token:S.er,optional:!0},urlRewrite:S.JM,env:l.vC}}),(0,i.J)({provide:l.sQ,useValue:[{key:"BOXY_EXTERNAL_MAPPING_URL",optional:!0},{key:"FREEZE_CLIENT_MAPPING",value:"true",dehydrate:!0},{key:"TRAMVAI_FORCE_CLIENT_SIDE_RENDERING",optional:!0}]}),(0,i.J)({provide:S.HI,useFactory:function(e){return"true"===e.env.get("FREEZE_CLIENT_MAPPING")},deps:{env:l.vC}}),(0,i.J)({provide:S.UE,useValue:6e4}),(0,i.J)({provide:S.BW,useFactory:function(e){return(0,e.factory)({name:"microfronts-locker",enableCircuitBreaker:!1,cacheTime:3e4,allowStale:!1})},deps:{factory:z.FB}}),(0,i.J)({provide:S.w0,useValue:2e4})];function ie(e){return Boolean(e.code)}function ae(e){return e&&e.payload?"success":"error"}function ue(e){if(ie(e)&&"ABORT_ERR"===e.code)return"aborted";if(ie(e)&&"ERR_HTTP_REQUEST_TIMEOUT"===e.code)return"apiTimeout";if(!e)return"empty";var t=e.status;return t?200===t?"200":t>=200&&t<300?"2xx":[400,401,403,404].includes(t)?""+t:t>=400&&t<500?"4xx":[500,502,503,504].includes(t)?""+t:t>=500&&t<600?"5xx":"unknown":"empty"}function se(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}var ce,le=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,oe),[(0,i.J)({provide:S.I,multi:!0,useFactory:function(e){var t=e.eventeaRequestLogger;return t?function(e){e.wrap(function(){var e=(0,j.Z)(B().mark((function e(n,r,o){var i,a,u;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Date.now(),a={url:r.url,slug:"external_mapping"},t.requestStart(a),e.next=5,o(r);case 5:return u=e.sent,t.requestEnd(Object.assign({},a,{result:ae(u),statusCode:ue(u),duration:Date.now()-i})),e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}())}:function(){}},deps:{eventeaRequestLogger:{token:S.gp,optional:!0}}}),(0,i.J)({provide:S.I,multi:!0,useFactory:function(e){var t=e.eventea,n=e.appInfo.appName;return t?function(e){e.wrap(function(){var e=(0,j.Z)(B().mark((function e(r,o,i){var a,u;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Date.now(),t.send({project:"boxyCore",event:"boxyCore.mappingLoadingStart",payload:{application:n,mappingType:o.kind,source:o.source}}),e.next=4,i(o);case 4:return u=e.sent,t.send({project:"boxyCore",event:"boxyCore.mappingLoadingEnd",payload:{application:n,mappingType:o.kind,source:o.source,result:ae(u),statusCode:ue(u),duration:Date.now()-a}}),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}())}:function(){}},deps:{eventea:{token:Y.Bv,optional:!0},appInfo:J.Qo}}),(0,i.J)({provide:S.o1,scope:Z.s.SINGLETON,useFactory:function(e){return(0,e.cacheFactory)("memory",{ttl:e.freezeClientMapping?void 0:12e5,max:100,allowStale:!0})},deps:{cacheFactory:G.xC,freezeClientMapping:S.HI}}),(0,i.J)({provide:H.Bi.init,scope:Z.s.SINGLETON,useFactory:function(e){var t=e.cache,n=e.logger,r=e.store,o=e.permanentCache,i=e.permanentCacheName;return(0,j.Z)(B().mark((function e(){var a,u;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=r.getState(_)).mappings.length&&!a.overwritingMapping){e.next=5;break}return a.mappings.forEach((function(e){var n=e.url,r=e.mapping;t.set(n,{mapping:r})})),a.overwritingMapping&&t.set(a.overwritingMapping.url,{mapping:a.overwritingMapping.mapping}),e.abrupt("return");case 5:return e.next=7,o;case 7:return e.next=9,e.sent.get(i);case 9:if(!(u=e.sent)||1!==u.version){e.next=18;break}return e.prev=11,e.abrupt("return",t.load(u.data.cacheDump));case 15:e.prev=15,e.t0=e.catch(11),n.warn("Failed to load stored cache from permanentCache.\n"+e.t0.message+"\n"+e.t0.stack);case 18:case"end":return e.stop()}}),e,null,[[11,15]])})))},deps:{cache:S.o1,logger:T,store:v.kR,permanentCache:L,appInfo:J.Qo,permanentCacheName:P}}),(0,i.J)({provide:O,useFactory:function(e){var t=e.cache,n=e.logger,r=e.permanentCache,o=e.permanentCacheName;return function(){var e=(0,j.Z)(B().mark((function e(i){return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.mappingsUpdated){e.next=13;break}return e.prev=2,e.next=5,r;case 5:return e.next=7,e.sent.set(o,{version:1,data:{cacheDump:t.dump()}});case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(2),n.error("Failed to save cache to idb.\n"+e.t0.message+"\n"+e.t0.stack);case 13:return e.abrupt("return",Promise.resolve());case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},deps:{cache:S.o1,logger:T,permanentCache:L,permanentCacheName:P}}),(0,i.J)({provide:L,scope:Z.s.SINGLETON,useFactory:(ce=(0,j.Z)(B().mark((function e(t){var n,r,o,i,a;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.freezeClientMapping,r=se(),!n){e.next=4;break}return e.abrupt("return",{get:function(e){return Promise.resolve(null)},set:function(e,t){return Promise.resolve()}});case 4:if(!window.indexedDB||r&&localStorage.__DEV__FORCE_LOCAL_STORAGE){e.next=19;break}return o="keyval",i=function(){return(0,q.X3)("tinkoff:microfronts-locker",1,{upgrade:function(e){e.createObjectStore(o)}})},e.prev=8,a=i(),e.next=12,a;case 12:return window.addEventListener("pagehide",(0,j.Z)(B().mark((function e(){var t;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,a;case 3:return t=e.sent,e.next=6,t.close();case 6:a=null;case 7:case"end":return e.stop()}}),e)})))),window.addEventListener("pageshow",(function(){a=i()})),e.abrupt("return",{get:function(){var e=(0,j.Z)(B().mark((function e(t){var n;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return n=e.sent,e.abrupt("return",n.get(o,t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:function(){var e=(0,j.Z)(B().mark((function e(t,n){var r;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return r=e.sent,e.next=5,r.put(o,n,t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});case 17:e.prev=17,e.t0=e.catch(8);case 19:if(!r){e.next=21;break}return e.abrupt("return",{get:function(e){var t=localStorage.getItem(e);return Promise.resolve(t?(0,W.N)(t):null)},set:function(e,t){return localStorage.setItem(e,JSON.stringify(t)),Promise.resolve()}});case 21:return e.abrupt("return",{get:function(e){return Promise.resolve(null)},set:function(e,t){return Promise.resolve()}});case 22:case"end":return e.stop()}}),e,null,[[8,17]])}))),function(e){return ce.apply(this,arguments)}),deps:{freezeClientMapping:S.HI}}),(0,i.J)({provide:P,scope:Z.s.SINGLETON,useFactory:function(e){return e.appInfo.appName+"--mappings-locker"},deps:{appInfo:J.Qo}})]);function fe(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var de=(0,o.J)({name:"MicrofrontsLocker",imports:[p],providers:[].concat(fe(r.Z,le),fe(r.Z,F),[(0,i.J)({provide:v.Ym,useValue:[_],multi:!0})])})},43732:function(e,t,n){"use strict";n.d(t,{AA:function(){return S},Af:function(){return o},BW:function(){return h},Gj:function(){return g},HI:function(){return f},I:function(){return R},JM:function(){return b},N3:function(){return u},Rp:function(){return k},Rq:function(){return E},UE:function(){return p},_x:function(){return c},er:function(){return s},go:function(){return i},gp:function(){return d},iO:function(){return w},kE:function(){return a},o1:function(){return v},pX:function(){return l},w0:function(){return m},xb:function(){return y}});var r=n(59999),o=(0,r.V3)("boxyFallbackMappingExtension",{multi:!0}),i=(0,r.V3)("boxyCustomMappingExtension",{multi:!0}),a=(0,r.V3)("boxyBaseMappingExtension",{multi:!0}),u=(0,r.V3)("overwriting boxyBaseMappingExtension"),s=(0,r.V3)("boxyExternalMapping",{multi:!0}),c=(0,r.V3)("boxyPreparedExternalMappings"),l=(0,r.V3)("refreshMappingsToken"),f=(0,r.V3)("freezeClientMapping"),d=(0,r.V3)("eventeaRequestLoggerToken"),p=(0,r.V3)("forceRefreshThrottleTimeToken"),v=(0,r.V3)("external mapping cache"),h=(0,r.V3)("microfronts locker http client"),g=(0,r.V3)("enable cookie mapping"),m=(0,r.V3)("MAPPING_REQUEST_TIMEOUT_TOKEN"),y=(0,r.V3)("BOXY_BASE_URL"),b=(0,r.V3)("BOXY_URL_REWRITE"),E=(0,r.V3)("boxyServiceFactory"),w=(0,r.V3)("boxyLazy"),k=(0,r.V3)("microfronts locker mapping loader"),S=(0,r.V3)("microfronts locker mapping loading hook"),R=(0,r.V3)("microfronts locker mapping loading plugins",{multi:!0})},19133:function(e,t,n){"use strict";n.d(t,{Fb:function(){return A}});var r=n(80476),o=n(80283),i=n(97570),a=n(37621),u=n(8479),s=n(93679),c=n(42353),l=n(58426),f=(0,c.y)("NOTIFICATIONS_CHANGED"),d=(0,l.L)("notifications",[]).on(f,(function(e,t){return t})),p=n(58903),v=n(33926),h=["newOnTop"];function g(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var m=function(){function e(e){var t=e.store;this.store=t}var t=e.prototype;return t.setState=function(e){var t=f(e);this.store.dispatch(t)},t.getNotifications=function(){return this.store.getState(d)},t.add=function(e){var t=e.newOnTop,n=void 0!==t&&t,r=(0,v.Z)(e,h),o=Object.assign({},r,{id:r.id||""+(new Date).getTime()}),i=this.getNotifications();return r.id&&(i=i.filter((function(e){return e.id!==r.id}))),i=n?[o].concat(g(p.Z,i)):[].concat(g(p.Z,i),[o]),this.setState(i),o.id},t.remove=function(e){var t=e.id,n=e.type,r=this.getNotifications(),o=r.length;if(t)r=r.filter((function(e){return e.id!==t}));else if(n){var i=Array.isArray(n)?n:[n];r=r.filter((function(e){return-1===i.indexOf(e.type)}))}r.length!==o&&this.setState(r)},t.clear=function(){this.getNotifications().length&&this.setState([])},e}(),y=n(52723),b=n(90130),E=n(44121),w=n(42549),k=n(38003);var S,R=(0,w.Vo)({chunkName:function(){return"Notifications-es"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("Notifications-es").then(n.bind(n,72189))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 72189}}),A=S=function(){function e(){}return e.forRoot=function(e){return{mainModule:S,providers:[{provide:s.Q,multi:!0,useValue:e}]}},e}();A=S=(0,r.__decorate)([(0,o.Y)({providers:[(0,i.J)({provide:s.Q,multi:!0,useValue:{selector:function(e){return e}}}),(0,i.J)({provide:a.Ym,multi:!0,useValue:d}),(0,i.J)({provide:s.e,useClass:m,deps:{store:a.kR}}),(0,i.J)({provide:u.LAYOUT_OPTIONS,multi:!0,useValue:{components:{notifications:function(){var e=(0,E.useState)(!1),t=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(y.Z,e,2),n=t[0],r=t[1];return(0,E.useEffect)((function(){r(!0)}),[]),n?(0,b.jsx)(k.E,{error:null,fallback:function(){return null},children:(0,b.jsx)(R,{})}):null}}}})]})],A)},93679:function(e,t,n){"use strict";n.d(t,{Q:function(){return i},e:function(){return o}});var r=n(59999),o=(0,r.V3)("notificationManager"),i=(0,r.V3)("notificationOptions",{multi:!0})},22441:function(e,t,n){"use strict";n.d(t,{$y:function(){return i},D0:function(){return a}});var r=n(20745),o=n(75877),i=(0,r.H)({name:"showGentleBanner",fn:function(){this.dispatch((0,o.CL)())}}),a=(0,r.H)({name:"hideGentleBanner",fn:function(){this.dispatch((0,o.rA)())}});(0,r.H)({name:"unmountAndHideGentleBanner",fn:function(){this.dispatch((0,o.fV)())}})},95044:function(e,t,n){"use strict";n.d(t,{k:function(){return v}});var r,o=n(45232),i=n(17935),a=n.n(i),u=n(82318),s=n(3566),c=n(69736),l=n(82342),f=n(10055),d=n(14122),p=(0,u.P)({name:"pushSubscribeAction",fn:(r=(0,o.Z)(a().mark((function e(t,n,r){var o,i,u,s,c,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n={}),o=r.pushWeb,i=r.wuid,u=r.logger,s=r.sessionManager,c=r.remoteLogger,l=u(d.QG),(f=s.getSessionId())||c.warn({message:"sessionid value is not passed, so an anonymous registration will be created",event:"anonymous-push-web-registration"}),o){e.next=8;break}return l.debug("PushWeb instance token is not provided"),e.abrupt("return");case 8:return e.prev=8,e.abrupt("return",o.subscribe(Object.assign({wuid:i,sessionid:f},n.data),n.force));case 12:e.prev=12,e.t0=e.catch(8),l.error({message:"PushWeb subscribe failed",event:"webpush-subscribe-failed",error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[8,12]])}))),function(e,t,n){return r.apply(this,arguments)}),deps:{logger:l.Fp,wuid:s.$,pushWeb:f.ai,sessionManager:c.db,remoteLogger:f.c7}}),v=(0,u.P)({name:"pushToggleAction",fn:function(){var e=(0,o.Z)(a().mark((function e(t,n,r){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.pushWeb){e.next=3;break}return e.abrupt("return");case 3:if("subscribe"!==n.action){e.next=6;break}return e.abrupt("return",t.executeAction(p,{data:null==n?void 0:n.data,force:null==n?void 0:n.force}));case 6:return e.abrupt("return",o.unsubscribe());case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),deps:{pushWeb:f.ai}})},12189:function(e,t,n){"use strict";n.d(t,{fo:function(){return ft}});var r=n(58903),o=n(66598),i=n(97570),a=n(80772),u=n(29772),s=n(33464),c=n(38518),l=n(3566),f=n(65554),d=n(92105),p=n(69736),v=n(80476),h=n(64805),g=n.n(h),m=n(59999),y=n(80283),b=n(17173),E=n(49076),w=n(82342),k=n(10776),S=n(82571),R=n(92946),A=n(60488),C=n(56873),_=n(12327),N=n(8479),T=n(37621),O=n(71533),x=n(45232),I=n(17935),M=n.n(I),L=n(54211),P=n(33057),V=n.n(P),D=n(67744),F=n.n(D),j=n(14479),U=n(29376),B=n(51786),Z=n(78047),J=function(e,t){var n=(0,j.G$)(e),r=(0,U.mm)((0,j.CE)(e));return n.length?!(0,j.Ft)(t,n):(0,B.Qj)(t,r)},H=function(e){var t=e.route,n=e.url,r=e.roles,o=e.redirectType,i=void 0===o?"":o,a=e.accessDeniedRedirectUrl,u=null==a?void 0:a();if(u)return u;if((0,U.QO)(r))return"/mybank/";var s=n.path,c=n.query;if(!F()("/login/",n.pathname)){var l=(0,j.sc)(t),f=(0,j.gK)(t);return f?(0,Z.DI)(f,l?c:{}).path:(0,Z.DI)("/login/",{redirectTo:s,redirectType:V()(["config","loginRedirectType"],i,t)}).path}},q=n(5881),G=n.n(q),W=n(35207),Y=n(30353),K=n.n(Y),Q=function(){function e(e){var t=e.strategies,n=void 0===t?[]:t,r=e.timingCallbacks;this.isAuthenticateFinishedPromise=null,this.isAuthenticateFinishedPromiseResolve=null,this.strategies=n,this.timingCallbacks=r}var t=e.prototype;return t.authenticate=function(){var e=(0,x.Z)(M().mark((function e(){var t,n,r,o,i,a,u,s,c,l,f,d,p,v,h,g,m,y,b=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(n=null===(t=this.timingCallbacks)||void 0===t?void 0:t.onAuthStart)||void 0===n||n.call(t),this.isAuthenticateFinishedPromise=new Promise((function(e){b.isAuthenticateFinishedPromiseResolve=e})),d=0,p=this.strategies.length;case 3:if(!(d<p)){e.next=20;break}return v=this.strategies[d],h=null!==(r=v.name)&&void 0!==r?r:"unknown:"+d,null===(i=null===(o=this.timingCallbacks)||void 0===o?void 0:o.onAuthStrategyStart)||void 0===i||i.call(o,h),e.next=9,this.authenticateBy(v);case 9:if(g=e.sent,m=g.status,y=g.payload,null===(u=null===(a=this.timingCallbacks)||void 0===a?void 0:a.onAuthStrategyResolved)||void 0===u||u.call(a,h,"success"===m),"success"!==m){e.next=17;break}return null===(c=null===(s=this.timingCallbacks)||void 0===s?void 0:s.onAuthResolved)||void 0===c||c.call(s,!0),this.isAuthenticateFinishedPromiseResolve(),e.abrupt("return",y);case 17:++d,e.next=3;break;case 20:null===(f=null===(l=this.timingCallbacks)||void 0===l?void 0:l.onAuthResolved)||void 0===f||f.call(l,!1),this.isAuthenticateFinishedPromiseResolve();case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.authenticateBy=function(){var e=(0,x.Z)(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n={pass:function(){return e({status:"pass"})},success:function(t){return e({status:"success",payload:t})}};t.authenticate(n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}(),z=n(7027),$=function(){function e(e){var t=e.sessionManager;this.sessionManager=t}return e.prototype.authenticate=function(e){var t=e.success,n=e.pass;this.sessionManager.authenticate().then(t).catch(n)},(0,z.Z)(e,[{key:"name",get:function(){return"SessionStrategy"}}]),e}(),X=function(e){function t(t){var n,r,o,i=t.strategies,a=t.sessionManager,u=t.timingCallbacks;return(n=e.call(this,{strategies:i,timingCallbacks:u})||this).prolongateSession=function(){var e=(0,x.Z)(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.sessionManager.prolongateSession(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.sessionManager=a,n.authenticateDeferred={promise:new Promise((function(e,t){r=e,o=t})),resolve:r,reject:o},n}(0,W.Z)(t,e);var n=t.prototype;return n.logout=function(){var e=(0,x.Z)(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sessionManager.logout());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.runAuthenticateFlow=function(){var e=(0,x.Z)(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sessionManager.runAuthenticateFlow());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(Q),ee="module:authenticate:auth",te="AUTH_JUNIOR_MOCK_ENABLED",ne=[{provide:T.Ym,useValue:d.p,multi:!0},{provide:T.Ym,useValue:L.p,multi:!0},{provide:C.sU,multi:!0,useFactory:function(e){var t=e.store,n=e.authenticateDeferred,r=e.onRouteGuardRedirect,o=e.accessDeniedRedirectUrl;return function(){var e=(0,x.Z)(M().mark((function e(i){var a,u,s,c,l,f;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.to,u=i.url,e.next=3,n.promise;case 3:if(s=t.getState(d.p),c=s.requested,l=t.getState(L.p),!c||!J(a,l)){e.next=11;break}if(f=H({route:a,url:u,roles:l,accessDeniedRedirectUrl:o}),!r){e.next=10;break}return e.next=10,r(f);case 10:return e.abrupt("return",f);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{store:T.kR,authenticator:p.i6,authenticateDeferred:"authenticateDeferred",onRouteGuardRedirect:(0,m.jt)(p.qt),accessDeniedRedirectUrl:(0,m.jt)(p.Ri)}},{provide:O.xW,useFactory:function(e){var t=e.context;return{key:"auth",fn:function(e){var n,r,o,i=e.conditions,a=i.requiredCoreRoles,u=i.requiredRoles,s=void 0===u?a:u;if(s){var c=t.getState(L.p),l=t.getState(d.p);if(!(0,j.Ft)(c,s))return e.forbid();var f=(o={guid:(n=l).guid,accessLevel:n.accessLevel},(r=n.campaign)&&(o.campaignId=r.id),o);G()(e.getState(),f)||(e.allow(),e.setState(f))}}}},multi:!0,deps:{context:E.l}},{provide:p.i6,useFactory:function(e){var t=e.strategies,n=e.sessionManager,r=e.timingCallbacks,o=K()(t||[]);return new X({sessionManager:n,strategies:o.concat(new $({sessionManager:n})),timingCallbacks:r})},deps:{sessionManager:p.db,strategies:{token:p.sI,optional:!0},timingCallbacks:{token:p.SG,optional:!0}}},{provide:S.sQ,multi:!0,useValue:[{key:te,optional:!0}]}],re=n(33926),oe=n(50152),ie=(0,n(42353).y)("AUTH_STATE_CHANGED"),ae=["sessionId"];var ue=n(58626),se=function(e){var t,n,r,o=e.customRedirectUrl,i=e.pageService,a=e.sessionExpired,u=e.context,s=i.getConfig()||{},c=s.pageComponent,l=i.getComponent(c),f=a?"sessionExpired":"himselfLogout";return(null==o?void 0:o())||(null===(t=null==s?void 0:s.redirects)||void 0===t?void 0:t[f])||(null===(r=null===(n=null==l?void 0:l.redirects)||void 0===n?void 0:n[f])||void 0===r?void 0:r.call(n,u,{sessionExpired:a}))},ce=function(){var e=(0,x.Z)(M().mark((function e(t){var n,r,o,i,a,u,s,c,l,f,d,p,v,h,g,m,y,b,E,w,k;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.customRedirectUrl,r=t.pageService,o=t.logger,i=t.payload,a=t.context,u=t.onLogoutRedirect,c=o("auth:pubsub"),l=i.roles,f=i.newRoles,d=i.session,!(p=(0,U.QO)(l)&&!(0,U.QO)(f)||(0,ue.HS)(l)&&!(0,ue.HS)(f))){e.next=16;break}if(v=!d.sessionId,h=!!d.sessionId,g=se({customRedirectUrl:n,pageService:r,sessionExpired:h,context:a}),m=g,g||(b=r.getConfig()||{},w=!J(E={config:b},l)&&J(E,f),v&&w?m="/":w?(k=h?"sessionExpired":"",m=H({route:r.getCurrentRoute(),url:r.getCurrentUrl(),roles:f,redirectType:k})):(m="./",y=null===(s=r.getCurrentUrl())||void 0===s?void 0:s.query)),c.debug("force redirect to "+m+" after "+(v?"user logout":"session expired")),!u){e.next=14;break}return e.next=14,u(m);case 14:return e.next=16,r.navigate({url:m,query:y});case 16:return e.abrupt("return",p);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=(0,x.Z)(M().mark((function e(t){var n,r,o,i,a,u,s,c,l,f;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pageService,r=t.logger,o=t.payload,i=t.onAccessDeniedRedirect,a=t.accessDeniedRedirectUrl,u=r("auth:access"),s=n.getCurrentRoute(),c=n.getCurrentUrl(),l=o.newRoles,!J(s,l)){e.next=14;break}if(u.debug({event:"page-access-denied"}),f=H({route:s,url:c,roles:l,accessDeniedRedirectUrl:a}),!i){e.next=12;break}return e.next=12,i(f);case 12:return n.navigate({url:f,replace:!0}),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=(0,x.Z)(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.refetchQueries({predicate:function(e){var t,r=null===(t=e.options.tramvaiOptions)||void 0===t?void 0:t.conditions;if(!(null==r?void 0:r.requiredRoles)&&!(null==r?void 0:r.requiredCoreRoles))return!1;var o=n.roles,i=n.newRoles;return!(0,j.kq)(o,i)}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(e){var t=e.authenticator,n=e.sessionLifetimeController,r=e.pubsub,o=e.context,i=e.pageService,a=e.logger,u=e.customRedirectUrl,s=e.queryClient,c=e.authenticateDeferred,l=e.onResolveAuthenticate,f=e.onAccessDeniedRedirect,p=e.onLogoutRedirect,v=e.onHasAccess,h=e.accessDeniedRedirectUrl,g=e.isClientAuth,m=function(e){e&&n.startProlongateSessionOnUserActivity(),(0,A.FO)(e)&&n.startPollingAuthorizedSessionStatus()};return r.subscribe(ee,function(){var e=(0,x.Z)(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t.session),s&&fe(s,t),e.next=4,ce({customRedirectUrl:u,pageService:i,payload:t,logger:a,context:o,onLogoutRedirect:p});case 4:if(n=e.sent,e.t0=n,e.t0){e.next=9;break}return e.next=9,le({logger:a,pageService:i,payload:t,onAccessDeniedRedirect:f,accessDeniedRedirectUrl:h});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){return t.authenticate().then((function(){var e=o.getStore(d.p).getState(),t=o.getStore(L.p).getState();!function(e){var t=e.route,n=e.roles,r=e.onHasAccess,o=(0,e.logger)("auth:check-has-access");!J(t,n)&&(o.debug({event:"has-access"}),null==r||r())}({route:i.getCurrentRoute(),logger:a,onHasAccess:v,roles:t}),m(e)})).finally((function(){g()&&c.resolve(),l.resolve()}))}},pe=function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}},ve={authenticator:p.i6,sessionLifetimeController:p.Zh,pubsub:b.k3,context:E.l,pageService:C.Y9,logger:w.Fp,customRedirectUrl:{token:p.hM,optional:!0},queryClient:(0,m.jt)(_.sH),authenticateDeferred:"authenticateDeferred",onResolveAuthenticate:p.TN,onAccessDeniedRedirect:(0,m.jt)(p.JG),onHasAccess:(0,m.jt)(p.WO),onLogoutRedirect:(0,m.jt)(p.QZ),accessDeniedRedirectUrl:(0,m.jt)(p.Ri),isClientAuth:p.C7},he=function(){};he=(0,v.__decorate)([(0,y.Y)({imports:[f.Gi],providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,ne),[{provide:p.db,useFactory:function(e){var t=e.apiClient,n=e.pubsub,r=e.cookie,o=e.env,i=e.context;return function(e){var t=e.apiClient,n=e.pubsub,r=e.cookie,o=e.env,i=e.context,a=e.initialState,u=e.sessionCookieName;return new oe.ZP({initialState:a,apiClient:t,cookie:r,dispatcher:function(e){var t=e.payload,a=i.getStore("session").getState(),u=function(e){if(!o.get(te))return e;if(!e.hasSsoSession)return e;var t=r.get("auth:junior:mock");return void 0===t?e:Object.assign({},e,{isJunior:"false"!==t})}(function(e){var t=e.session,n=(t.sessionId,(0,re.Z)(t,ae)),r=i.getStore("session").getState(),o=r.accessLevel,a=r.guid;return Object.assign(n,{guid:o===n.accessLevel?a:(new Date).getTime()})}(t)),s=i.getStore("roles").getState(),c=(0,B.F3)(s,u);return Promise.all([i.dispatch((0,d.C)(u)),i.dispatch((0,L.b)(c))]).then((function(){return(0,j.kq)(s,c)&&a.hasSsoSession===t.session.hasSsoSession||i.dispatch(ie({session:a,newSession:u,roles:s,newRoles:c})),n.publish(ee,Object.assign({currentSession:a},t,{roles:s,newRoles:c}))}))},sessionCookieName:u})}({apiClient:t,pubsub:n,env:o,cookie:r,context:i,sessionCookieName:e.sessionCookieName,initialState:{session:i.getStore("session").getState()}})},deps:{cookie:k.T,env:S.vC,apiClient:R.JB,pubsub:b.k3,context:E.l,sessionCookieName:{token:p.sV,optional:!0}}},{provide:p.Zh,useClass:A.ZP,deps:{sessionManager:p.db}},(0,i.J)({provide:p.C7,useFactory:function(e){var t=e.envManager,n=e.renderModeFactory;return function(){var e="function"==typeof n?n():n;return"true"===t.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")||"client"===e}},deps:{envManager:S.vC,renderModeFactory:N.TRAMVAI_RENDER_MODE}}),(0,i.J)({provide:a.Bi.customerStart,useFactory:function(e){return e.isClientAuth()?de(e):g()},deps:ve,multi:!0}),(0,i.J)({provide:a.Bi.generatePage,useFactory:function(e){return e.isClientAuth()?g():de(e)},deps:ve,multi:!0}),{provide:"authenticateDeferred",useFactory:function(e){var t=e.isClientAuth,n=pe();return t()||n.resolve(),n},deps:{isClientAuth:p.C7}},{provide:p.TN,useValue:pe()}])})],he);var ge=n(35384),me=n(16842);function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var be=function(){};be=(0,v.__decorate)([(0,y.Y)({providers:[(0,i.J)({provide:"serviceWorker",useFactory:function(e){var t=e.serviceWorkerUrl,n=e.serviceWorkerParams;return function(){if("serviceWorker"in navigator){var e="";if(null==n?void 0:n.length){for(var r,o=[],i=function(){var e=r.value,t="function"==typeof e?e():e;t&&Object.keys(t).forEach((function(e){o.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]))}))},a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n,!0);!(r=a()).done;)i();e=o.join("&")}return navigator.serviceWorker.register(t+(e?"?"+e:""))}return Promise.reject(new Error("ServiceWorker not supported"))}},deps:{serviceWorkerUrl:"pwaServiceWorkerUrl",serviceWorkerParams:{token:ge.K0,optional:!0}}}),(0,i.J)({provide:"pwaServiceWorkerUrl",useValue:"/sw.js"}),(0,i.J)({provide:a.Bi.init,multi:!0,useFactory:function(e){var t=e.serviceWorkerCommandLine,n=e.di;return function(){n.register({provide:t?a.Bi[t]:a.Bi.customerStart,useFactory:function(e){var t=e.serviceWorker,n=e.logger;return function(){t().catch((function(e){n.warn({event:"serviceworker-initialise-error",error:e})}))}},deps:{serviceWorker:"serviceWorker",logger:w.Fp}})}},deps:{di:me.Z,serviceWorkerCommandLine:{token:ge.wl,optional:!0}}})]})],be);var Ee=n(10650),we=n(39535),ke=n(92877),Se=n.n(ke),Re=n(83351),Ae=n(24679),Ce=n(75877),_e=[(0,i.J)({provide:T.Ym,useValue:[Re.vZ,Ce.N9],multi:!0}),(0,i.J)({provide:S.sQ,useValue:[{key:"TINKOFF_API",optional:!0,dehydrate:!0,validator:Ae.CB},{key:"APP_VERSION",optional:!0,dehydrate:!0},{key:"SAFARI_PUSH_API",optional:!0,dehydrate:!0,validator:Ae.CB},{key:"PUSH_WEB_SW_LOG_API",optional:!0,dehydrate:!0}],multi:!0})],Ne=n(10055),Te=n(14122),Oe=n(90130),xe=n(44121),Ie=n(42549),Me=n(44488),Le=n(16615),Pe=n(42282),Ve=n.n(Pe),De=n(13311);function Fe(e){var t=(0,Le.x)(),n=(0,De.s)(e);return(0,xe.useMemo)((function(){return Ve()(n)?n.map((function(e){return t.executeAction.bind(t,e)})):t.executeAction.bind(t,n)}),[n,t])}var je,Ue=n(36840),Be=n(97548),Ze=n(14908),Je=n(15434),He=n.n(Je),qe=n(66824),Ge=n(67570),We=null===(je=window.Notification)||void 0===je?void 0:je.permission,Ye=[{rule:function(e){var t=e.permissionState,n=e.status;return"default"===t&&n===we.$q.STARTING_SUBSCRIBE.id},event:function(){return{eventName:"pushShow"}}},{rule:function(e){var t=e.permissionState;return"default"===We&&"granted"===t},event:function(){return{eventName:"pushSubscription"}}},{rule:function(e){var t=e.permissionState;return"default"===We&&"denied"===t},event:function(){return{eventName:"pushBlocked"}}}],Ke=n(61e3),Qe=n(95044),ze=n(20745),$e=n(24592),Xe=(0,ze.H)({name:"sendEventAction",fn:function(e){var t=this;return(0,x.Z)(M().mark((function n(){var r,o;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.eventName,o=t.deps.analytics){n.next=4;break}return n.abrupt("return");case 4:return n.abrupt("return",o.event(r));case 5:case"end":return n.stop()}}),n)})))()},deps:{analytics:{token:$e.t3,optional:!0}}}),et=n(22441),tt=(0,Ie.Vo)({chunkName:function(){return"components-GentleBanner-GentleBanner-browser"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,3560))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 3560}}),nt=function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}(),rt="tcs_n_req_time";function ot(){nt&&(localStorage[rt]=Date.now())}var it=["mobile safari","tablet safari"],at=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}(0,W.Z)(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(e,t){this.props.log.error(e)},n.render=function(){return this.state.hasError?null:this.props.children},t}(xe.Component);function ut(e,t){if(!(null==e?void 0:e.enableGentleBanner)||"standalone"!=(window.matchMedia("(display-mode: standalone)").matches?"standalone":window.matchMedia("(display-mode: browser)").matches?"browser":"unknown"))return!1;var n=-1!==it.indexOf(t.browser.name);return(null==e?void 0:e.enableBannerForAndroid)&&(n=n||"Android"===t.os.name),n}var st=(0,xe.memo)((function(){var e=(0,Le.x)(),t=(0,Me.x)(w.Fp),n=(0,Me.x)({token:Ne.MA,optional:!0})||{},r=n.gentleBannerComponent,o=n.gentleBannerContent,i=(0,Me.x)({token:Ge.Bv,optional:!0}),a=function(e){var t,n,r=e.gentleBannerComponent,o=e.gentleBannerContent,i="Notification"in window?window.Notification.permission:null;return i?{component:null!==(t=null==r?void 0:r[i])&&void 0!==t?t:tt,content:null!==(n=null==o?void 0:o[i])&&void 0!==n?n:{}}:{component:null,content:{}}}({gentleBannerComponent:r,gentleBannerContent:o}),u=a.component,c=a.content,l=Fe(et.$y),f=Fe(et.D0),d=(0,Ue.o)(Ce.N9),p=(0,Be.v)([Re.vZ,Ze.sH,L.p,qe.c],(function(e){var t,n,r,o,i,a,u=e.pushWeb,s=e.router,c=e.roles,l=e.userAgent;return{status:u.status,unsubscribed:u.status===we.$q.UNSUBSCRIBED.id,enableAutoSubscription:!(!(null===(t=u.settings)||void 0===t?void 0:t.enablePush)||!(null===(r=null===(n=null==s?void 0:s.currentRoute)||void 0===n?void 0:n.config)||void 0===r?void 0:r.enablePush)),enableGentleBanner:ut(u.settings,l),gentleBannerPeriodicity:null!==(i=null===(o=u.settings)||void 0===o?void 0:o.gentleBannerPeriodicity)&&void 0!==i?i:3,subscribed:u.status===we.$q.SUBSCRIBED.id,autoSubscriptionDelay:(null===(a=u.settings)||void 0===a?void 0:a.autoSubscriptionDelay)||Ke.ki,permissionState:u.permissionState,authorized:(0,U.QO)(c)}})),v=p.status,h=p.permissionState,g=p.subscribed,m=p.unsubscribed,y=p.enableAutoSubscription,b=p.autoSubscriptionDelay,E=p.authorized,k=p.enableGentleBanner,S=p.gentleBannerPeriodicity,R=d.isPushWebGentleBannerRendered&&Boolean(u),A=(0,Me.x)({token:s.N,optional:!0}),C=(0,Me.x)({token:Ne.Ji,optional:!0}),_=(0,xe.useCallback)((function(t){return e.executeAction(Qe.k,{action:"subscribe",force:t})}),[e]),N=(0,xe.useCallback)((function(t){return e.executeAction(Xe,{eventName:t})}),[e]),T=(0,xe.useRef)({trackedEvents:{},currentEvent:Promise.resolve(),firstSubscription:!1,sessionUpdated:!1,log:t(Te.QG)}),O=(0,xe.useCallback)((function(e){He()((function(t){t.rule(e)&&(T.current.currentEvent=T.current.currentEvent.then((function(){return t.event()})).then((function(e){var t=e.eventName;if(!T.current.trackedEvents[t])return T.current.log.debug("sent event "+t),T.current.trackedEvents[t]=!0,N(t);T.current.log.debug("event "+t+" already sent")})))}),Ye)}),[N]);(0,xe.useEffect)((function(){var e;O({status:v,permissionState:h}),y?(g&&(T.current.firstSubscription=!0),m&&"granted"===(null===Notification||void 0===Notification?void 0:Notification.permission)&&!T.current.firstSubscription?(T.current.firstSubscription=!0,_(!1)):"default"!==(null===(e=window.Notification)||void 0===e?void 0:e.permission)||T.current.firstSubscription?!T.current.sessionUpdated&&E&&g&&(T.current.sessionUpdated=!0,T.current.log.debug("force update authorized subscription info"),_(!0)):(T.current.firstSubscription=!0,k?function(e){if(nt){var t=localStorage[rt];if(t)try{return Number(t)+60*e*60*24*1e3<Date.now()}catch(e){return!0}return!0}return!1}(S)&&(null==i||i.send({project:"push-web",event:"banner_webpushShow"}),l()):"mobile"!==A.device.type&&(T.current.log.debug("show subscription window"),setTimeout((function(){return _(!1)}),b)))):T.current.log.debug("auto subscription is not enabled by route settings")}),[v,h,g,m,y,_,b,E,O,k,S,i,A,l]);var x=(0,xe.useCallback)((function(){C&&C()}),[C]),I=(0,xe.useCallback)((function(){return null==i||i.send({project:"push-web",event:"banner_webpushTurnOn"}),x(),ot(),f(),null===Notification||void 0===Notification?void 0:Notification.requestPermission((function(){_(!1)}))}),[i,x,_,f]),M=(0,xe.useCallback)((function(){null==i||i.send({project:"push-web",event:"banner_webpushRemindLater"}),x(),ot(),f()}),[i,x,f]),P=(0,xe.useCallback)((function(){null==i||i.send({project:"push-web",event:"banner_webpushClose"}),x(),f()}),[i,x,f]);return R?(0,Oe.jsx)(at,{log:T.current.log,children:(0,Oe.jsx)(u,{opened:d.isPushWebGentleBannerVisible,onAccept:I,onDecline:M,onClose:P,bannerTitle:c.bannerTitle,bannerDescription:c.bannerDescription,iconUrl:c.iconUrl,primaryButton:c.primaryButton,secondaryButton:c.secondaryButton})}):null})),ct=n(3560),lt=(0,m.V3)("push app key"),ft=(0,o.J)({name:"BasePushWebModule",imports:[],providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,_e),[(0,i.J)({provide:Ne.MA,useFactory:function(e){var t,n,r,o=e.webPushBannerContent;return{gentleBannerComponent:{default:ct.default},gentleBannerContent:{default:{bannerDescription:null!==(t=null==o?void 0:o.bannerDescription)&&void 0!==t?t:Ke.qs,bannerTitle:null!==(n=null==o?void 0:o.bannerTitle)&&void 0!==n?n:Ke.Pq,iconUrl:null!==(r=null==o?void 0:o.iconUrl)&&void 0!==r?r:Ke.J8,primaryButton:null==o?void 0:o.primaryButton,secondaryButton:null==o?void 0:o.secondaryButton}}}},deps:{webPushBannerContent:{token:Ne.QF,optional:!0}}}),(0,i.J)({provide:a.Bi.resolveUserDeps,useFactory:function(e){return function(){return Promise.resolve(e.webPush)}},deps:{webPush:Ne.ai},multi:!0}),(0,i.J)({provide:Ne.c7,useFactory:function(e){return(0,e.logger)({name:Te.SG,defaults:{remote:!0}})},deps:{logger:w.Fp}}),(0,i.J)({provide:Ne.ai,useFactory:function(e){var t,n,r=e.userAgent,o=e.wuid,i=e.envManager,a=e.context,u=e.sessionManager,s=e.pushAppKey,c=e.webPushLogger,l=e.logger,f=e.userSettings,p=l(Te.QG);if(!we.ZP.checkSupport())return p.debug("Notifications are not supported by @push-web/tinkoff-push-web"),null;var v=a.getState(Re.vZ);if(Se()(v.settings))return p.debug("Failed to load settings, skipping @push-web/tinkoff-push-web instantiating"),null;var h=a.getState(d.p),g=Object.assign({wuid:o,sessionid:u.getSessionId(),osName:r.os.name+" "+r.os.version,browser:r.browser.name||"",appVersion:i.get("APP_VERSION"),applicationServerKey:new Uint8Array(null!==(t=v.settings.applicationServerKey)&&void 0!==t?t:[]),safari:{webServiceURL:i.get("SAFARI_PUSH_API")||Te.xn.webServiceURL,webSitePushId:Te.xn.webSitePushId,firmware:Te.xn.firmware,clientId:null!==(n=null==h?void 0:h.userId)&&void 0!==n?n:"",deviceStringId:o}},null!=f?f:{});return v.settings.applicationFullName&&(g.applicationFullName=v.settings.applicationFullName),new we.ZP({api:{host:i.get("TINKOFF_API")||we.Yk.host,swLog:i.get("PUSH_WEB_SW_LOG_API")},appKey:s,settings:g,stateChangeCb:function(e){var t=e.id,n=e.interactive,r=e.subscribed,o=e.permissionState;return a.dispatch((0,Re.Rr)({status:t,interactive:n,subscribed:r,permissionState:o}))},subscriptionUpdateCb:function(e){return a.dispatch((0,Re.Pt)({subscription:e}))},logCb:function(e){e.level&&c[e.level](e)}})},deps:{userSettings:{token:Ne.ev,optional:!0},userAgent:s.N,wuid:l.$,envManager:S.vC,context:E.l,logger:w.Fp,sessionManager:p.db,pushAppKey:lt,webPushLogger:Ne.c7}}),(0,i.J)({provide:ge.K0,useFactory:function(e){var t=e.webPushAppKey;return t?{webPushAppKey:t}:null},deps:{context:E.l,webPushAppKey:lt}}),(0,i.J)({provide:Ee.sn,useFactory:function(e){var t=e.webPushAppKey;return t?{webPushAppKey:t}:null},deps:{context:E.l,webPushAppKey:lt}}),(0,i.J)({provide:lt,useFactory:function(e){var t;return null===(t=e.context.getState(Re.vZ).settings)||void 0===t?void 0:t.applicationFullName},deps:{context:E.l,appInfo:u.Qo}}),(0,i.J)({provide:N.LAYOUT_OPTIONS,useValue:[{components:{pushWeb:st}}],multi:!0})])});c.pY,f.Gi},3560:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(90130),o=n(56691),i=n(54322),a=n(44488),u=n(44121),s=n(61e3),c=n(10055),l=n(33926),f=n(23286),d=["onClick"],p=function(e){var t=e.onClick,n=(0,l.Z)(e,d);return(0,r.jsx)(f.Z,Object.assign({theme:"primary",onClick:t,size:"m",round:!0,dataQaType:"pushweb-accept-button",children:"Включить"},n))},v=["onClick"],h=function(e){var t=e.onClick,n=(0,l.Z)(e,v);return(0,r.jsx)(f.Z,Object.assign({theme:"flat",onClick:t,size:"m",dataQaType:"pushweb-decline-button",children:"Напомнить позже"},n))};function g(e){var t,n,l,f,d,v=(0,a.x)({token:c.WH,optional:!0}),g=(0,a.x)({token:c.Ji,optional:!0});return(0,u.useEffect)((function(){if(e.opened&&v)return v(),g}),[v,g,e.opened]),(0,r.jsx)(o.ZP,{opened:e.opened,closeable:!1,onClose:e.onClose,children:(0,r.jsx)(i.N,{title:null!==(t=e.bannerTitle)&&void 0!==t?t:s.Pq,description:null!==(n=e.bannerDescription)&&void 0!==n?n:s.qs,image:(0,r.jsx)("img",{src:""+(null!==(l=e.iconUrl)&&void 0!==l?l:"https://cdn.tbank.ru/static/pages/files/1aea01d6-042d-4786-88a1-f6131c169f50.svg"),alt:""}),primaryButton:null===(null==e?void 0:e.primaryButton)?null:(0,r.jsx)(p,Object.assign({},null!==(f=null==e?void 0:e.primaryButton)&&void 0!==f?f:{},{onClick:function(t){var n,r,o;null===(n=null==e?void 0:e.onAccept)||void 0===n||n.call(e),null===(o=null===(r=null==e?void 0:e.primaryButton)||void 0===r?void 0:r.onClick)||void 0===o||o.call(r,t)}})),secondaryButton:null===(null==e?void 0:e.secondaryButton)?null:(0,r.jsx)(h,Object.assign({},null!==(d=null==e?void 0:e.secondaryButton)&&void 0!==d?d:{},{onClick:function(t){var n,r,o;null===(n=null==e?void 0:e.onDecline)||void 0===n||n.call(e),null===(o=null===(r=null==e?void 0:e.secondaryButton)||void 0===r?void 0:r.onClick)||void 0===o||o.call(r,t)}})),variant:"fullscreen"})})}},61e3:function(e,t,n){"use strict";n.d(t,{J8:function(){return a},Pq:function(){return o},ki:function(){return r},qs:function(){return i}});var r=1e4,o="Советуем включить пуш‑уведомления",i="Они будут приходить как обычно и помогут не пропустить важное о ваших финансах",a="https://cdn.tbank.ru/static/pages/files/1aea01d6-042d-4786-88a1-f6131c169f50.svg"},14122:function(e,t,n){"use strict";n.d(t,{QG:function(){return o},SG:function(){return i},xn:function(){return r}});var r={webServiceURL:"https://safaripush.tcsbank.ru",webSitePushId:"web.www.push.tinkoff.ru",firmware:"safari"},o="webpush",i="webpush-remote"},75877:function(e,t,n){"use strict";n.d(t,{CL:function(){return i},N9:function(){return s},fV:function(){return u},rA:function(){return a}});var r=n(42353),o=n(58426),i=(0,r.y)("PUSH_WEB_SHOW_GENTLE_BANNER"),a=(0,r.y)("PUSH_WEB_HIDE_GENTLE_BANNER"),u=(0,r.y)("PUSH_WEB_UNMOUNT_AND_HIDE_GENTLE_BANNER"),s=(0,o.L)("gentleBanner",{isPushWebGentleBannerRendered:!1,isPushWebGentleBannerVisible:!1}).on(i,(function(e){return Object.assign({},e,{isPushWebGentleBannerRendered:!0,isPushWebGentleBannerVisible:!0})})).on(a,(function(e){return Object.assign({},e,{isPushWebGentleBannerRendered:!0,isPushWebGentleBannerVisible:!1})})).on(u,(function(e){return Object.assign({},e,{isPushWebGentleBannerRendered:!1,isPushWebGentleBannerVisible:!1})}))},83351:function(e,t,n){"use strict";n.d(t,{Pt:function(){return s},Rr:function(){return u},vZ:function(){return l}});var r=n(42353),o=n(58426),i=n(39535),a=(0,r.y)("PUSH_WEB_SETTINGS_LOADED"),u=(0,r.y)("PUSH_WEB_STATE_UPDATE"),s=(0,r.y)("PUSH_WEB_SUBSCRIPTION_UPDATE"),c=Object.assign({},i.$q.INIT,{subscription:null,status:i.$q.INIT.id,settings:{}}),l=(0,o.L)("pushWeb",c).on(a,(function(e,t){return Object.assign({},e,{settings:t.settings})})).on(u,(function(e,t){return Object.assign({},e,t)})).on(s,(function(e,t){return Object.assign({},e,{subscription:t.subscription})}))},10055:function(e,t,n){"use strict";n.d(t,{Ji:function(){return f},MA:function(){return s},QF:function(){return c},WH:function(){return l},ai:function(){return o},c7:function(){return u},ev:function(){return i},nd:function(){return a}});var r=n(59999),o=(0,r.V3)("PUSH_WEB_INSTANCE_TOKEN"),i=(0,r.V3)("PUSH_WEB_USER_SETTINGS"),a=(0,r.V3)("PUSH_NOTIFICATIONS_SETTINGS"),u=(0,r.V3)("WEB_PUSH_LOGGER"),s=(0,r.V3)("webPushCustomGentleBannerConfig"),c=(0,r.V3)("webPushGentleBannerConfig"),l=(0,r.V3)("webPushOnAppear"),f=(0,r.V3)("webPushOnClose")},71890:function(e,t,n){"use strict";n.d(t,{J:function(){return Re}});var r=n(58903),o=n(80476),i=n(80283),a=n(97570),u=n(67584),s=n(82571),c=n(82342),l=n(82912),f=n(49076),d=n(37621),p=n(10776),v=n(24592),h=n(20076),g=n(33926),m=n(78047),y=n(92877),b=n.n(y),E=n(60028),w=n.n(E),k=n(57801),S=n.n(k),R=/[&<>"']/,A={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",39:"&#039;"};function C(e){return void 0===e&&(e=""),function(e,t,n){if(0===e.length||!1===t.test(e))return e;for(var r=0,o=0,i="",a="";o<e.length;o++){var u=e.charCodeAt(o);u in n&&(a=n[u],o!==r&&(i+=e.slice(r,o)),i+=a,r=o+1)}return o!==r&&(i+=e.slice(r,o)),i}(e,R,A)}var _=n(2012),N=n.n(_),T="x-service",O="dcoData",x="dcoTrackingData",I="beforeRedirectPageUrl",M={"<":"\\u003C","\u2028":"\\u2028","\u2029":"\\u2029"},L=new RegExp("["+Object.keys(M).join("")+"]","g");function P(e){var t,n,r;try{n=e,void 0===(r=JSON.stringify(n))&&(r=""),t=r.replace(L,(function(e){return M[e]}))}catch(e){}return t||""}var V=n(52723),D=n(57471),F=n.n(D),j=n(60411),U=n.n(j),B=["utm_source","utm_content","utm_campaign","utm_medium","utm_term","sid","wm"],Z=function(e,t){return"dco.id"===e?new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(t):void 0!==e&&void 0!==t};var J=B.reduce((function(e,t){var n;return Object.assign({},e,((n={})[t]=!0,n))}),{}),H="utm_source",q=/; */,G=/, */,W=function(e){return F()((function(e,t){return!J[t]}),e)},Y=function(e,t){return Object.keys(e).sort().map((function(n){var r=t[n]||e[n];return Z(n,r)?n+"="+e[n]:null})).filter(Boolean).join("; ")},K=n(15434),Q=n.n(K),z=n(33057),$=n.n(z),X=n(42282),ee=n.n(X),te=n(7605),ne=n.n(te),re=["protocol","host","pathname","query"],oe=n(52158),ie=n.n(oe),ae=[{dcoAppliedStatus:"not_match",dcoAppliedEntity:"pageContent"}];function ue(e){return b()(e)||ie()(ae)}var se=["logger"],ce=function(){function e(e){var t=e.logger,n=(0,g.Z)(e,se);this.parseUrl=N()(3,m.Qc),this.sanitizeReferrer=N()(3,C),this.parseCookie=N()(3,(function(e){var t,n=(void 0===(t=e)&&(t=""),t.split(q).reduce((function(e,t){var n,r=t.indexOf("="),o=t.slice(0,r).replace(/^\s+/,""),i=t.slice(r+1);return Object.assign({},e,((n={})[o]=i,n))}),{}));return{rawUserCookie:n,decodedUserCookie:S()((function(e){return function(e){try{return decodeURIComponent(e)}catch(t){return e}}(e)}),n)}})),this.logger=t({name:"dco-client"}),this.getClientParameters="clientParametersFactory"in n?n.clientParametersFactory:function(){return n}}var t=e.prototype;return t.getParsedClientParameters=function(){var e=this.getClientParameters(),t=e.pageUrl,n=e.userHeaders,r=S()((function(e){return Array.isArray(e)?e.join(","):e}),n);return Object.assign({pageUrl:this.parseUrl(t),pageReferrer:this.sanitizeReferrer(r.referer),userHeaders:r},this.parseCookie(r.cookie))},t.getDcoRequestParams=function(e){var t,n=e.appId,r=e.service,o=this.getParsedClientParameters(),i=o.pageUrl,a=o.decodedUserCookie,u=o.rawUserCookie,s=o.pageReferrer,c=o.userHeaders,l=i.query,f=function(e,t,n,r){var o,i=function(e){if(!e)return e;var t={};return Object.keys(e).forEach((function(n){if(Object.prototype.hasOwnProperty.call(e,n))try{t[encodeURIComponent(n)]=encodeURIComponent(e[n])}catch(e){}})),t}(function(e){return!!e.utm_source&&U()(B,e)}(e));return i?Y(Object.assign({},W(n),i),t):t[H]?Y(n,t):Y(Object.assign({},W(n),((o={})[H]=r||"",o)),t)}(l,a,u,s),d=((t={})["x-app-id"]=n,t["x-dco-user-data"]=f,t);return r?d[T]=r:c[T]&&(d[T]=c[T]),{headers:d,payload:Object.assign({},l,{trackingState:P({dco:{referrer:s,beforeRedirectPageUrl:a[I]}})})}},t.getUserResponseParams=function(e){var t=this.getParsedClientParameters(),n=t.pageUrl,r=t.decodedUserCookie,o=t.pageReferrer;this.latestResponse=e;var i,a,u,s,c,l,f=e.dcoResponse,d=e.dcoResponseHeaders,p=function(e){var t=[];return Q()((function(n){var r=e[n];Z(n,r)&&t.push({name:n,value:r,expires:31536e3,noSubdomains:!0})}),Object.keys(e).sort()),t}((void 0===(i=d["x-dco-set-context"])&&(i=""),i.split(G).reduce((function(e,t){var n,r=t.split("="),o=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(V.Z,r,2),i=o[0],a=o[1];return Object.assign({},e,((n={})[i]=a,n))}),{}))),v=f.dcoTracking,h=f.dco,g=!b()(h)&&!b()(h.state),y=ue(v);if(g&&f.redirectUrl)return p.push({name:I,value:n.pathname,expires:60},{name:O,value:P(h),expires:60},{name:x,value:P(v),expires:60}),{redirectUrl:(a=(0,m.Qc)(f.redirectUrl),u=n,s=w()(["state","ic"],h),l=Object.assign({},a),void 0!==s&&(l.query=Object.assign({},l.query,{dco_ic:s})),l=Object.assign({},l,{query:(c=Object.assign({},l.query,u.query),S()((function(e){if(ee()(e)){var t=ne()(e);return 1===t.length?t[0]:t}return e}),c))}),"/"!==(l=U()(re,l)).pathname.slice(-1)&&(l.pathname+="/"),(0,m.WU)(l)),redirectCode:f.redirectCode,cookieSet:p};var E=function(e,t){var n=e[O],r=e[x],o={};if(n)try{o.dco=JSON.parse(n)}catch(e){t.error(e,"error occurred while parsing dco cookie "+O)}if(r)try{o.dcoTracking=JSON.parse(r)}catch(e){t.error(e,"error occurred while parsing dco cookie "+x)}return o}(r,this.logger),k=E.dco,R=E.dcoTracking;k&&p.push({name:O,value:"",expires:new Date(0)}),R&&p.push({name:x,value:"",expires:new Date(0)});var A=g||!k?h:k,C=y||ue(R)?v:R,_=function(e){var t=e.dcoData,n=e.dcoTrackingData,r=e.query,o=e.dcoResponseHeaders,i=e.decodedUserCookie,a=e.referrer,u=$()(["dco_ic"],"",r),s=w()(["x-dco-ic"],o),c={dcoTracking:n,personalizedLandingMetrics:t,dco:{referrer:a,ic:w()(["state","ic"],t)||s||u}};return i.beforeRedirectPageUrl&&(c.dco.beforeRedirectPageUrl=i.beforeRedirectPageUrl),c}({referrer:o,query:n.query,dcoData:A,dcoTrackingData:C,dcoResponseHeaders:d,decodedUserCookie:r});return{cookieSet:p,dcoData:A,trackingData:_}},t.getDcoResponseStatus=function(){var e,t,n,r;return null===(r=null===(n=null===(t=null===(e=this.latestResponse)||void 0===e?void 0:e.dcoResponse)||void 0===t?void 0:t.dco)||void 0===n?void 0:n.techInfo)||void 0===r?void 0:r["response-status"]},e}(),le=n(45232),fe=n(17935),de=n.n(fe),pe=n(34770),ve=n.n(pe),he=n(63609),ge=n.n(he),me=n(42353),ye=n(58426),be=(0,me.y)("Set DCO tracking data"),Ee=(0,ye.L)("dcoTracking",{}).on(be,(function(e,t){var n,r=t.path,o=t.data;return Object.assign({},e,((n={})[r]=o,n))})),we=[{provide:d.Ym,multi:!0,useValue:[Ee]}];function ke(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function Se(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Re=function(){};Re=(0,o.__decorate)([(0,i.Y)({providers:[].concat(Se(r.Z,we),[(0,a.J)({provide:s.sQ,multi:!0,scope:u.s.REQUEST,useValue:[{key:"DCO_SERVICE",optional:!0,dehydrate:!0}]}),(0,a.J)({provide:"dcoClient",scope:u.s.REQUEST,useFactory:function(e){var t=e.logger,n=e.requestManager;return new ce({logger:t,clientParametersFactory:function(){return{pageUrl:n.getUrl(),userHeaders:n.getHeaders()}}})},deps:{logger:c.Fp,requestManager:l.G}}),(0,a.J)({provide:h.eZ,multi:!0,scope:u.s.REQUEST,useFactory:function(e){var t=e.cookieManager,n=e.context,r=e.dcoClient,o=e.routesFallback,i=e.envManager,a=e.domainResolve,u=e.requestManager;return function(e){return function(){var s=(0,le.Z)(de().mark((function s(c){var l,f,d,p,v,h,g;return de().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!u.getHeader("x-tramvai-static-page-revalidate")){s.next=2;break}return s.abrupt("return",e(c));case 2:return o&&e(c).then((function(e){var t=e.route,n=e.payload;t&&("string"!=typeof n&&"page"in n&&n.page.matchedUrlParams?o.set(Object.assign({},t,{alias:c.url.pathname}),{appId:c.appId}):o.set(t,{appId:c.appId}))})).catch((function(){})),l=r.getDcoRequestParams({appId:c.appId,service:i.get("DCO_SERVICE")}),s.next=6,Promise.all([e(Object.assign({},c,{shouldSetFallback:!1,requestOptions:Object.assign({},c.requestOptions,{headers:l.headers,query:l.payload,cache:!1})})),a()]);case 6:if(f=s.sent,d=ke(V.Z,f,2),p=d[0],v=d[1],ve()(p.payload)){s.next=12;break}return s.abrupt("return",p);case 12:if((h=r.getUserResponseParams({dcoResponseHeaders:p.headers,dcoResponse:p.payload})).cookieSet.forEach((function(e){return t.set(e)})),"trackingData"in h&&n.dispatch(be({path:c.url.pathname,data:h.trackingData})),!("redirectUrl"in h)){s.next=18;break}return g=ge()(new RegExp("^https://(?:"+v+"|"+v.replace(/^www\./,"")+")"),"",h.redirectUrl),s.abrupt("return",Object.assign({},p,{payload:Object.assign({},p.payload,{redirectUrl:g}),route:Object.assign({},p.route,{name:"dco-redirect",redirect:{url:g,code:+h.redirectCode,preserveQuery:!1}})}));case 18:return s.abrupt("return",p);case 19:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}},deps:{cookieManager:p.T,context:f.l,routesFallback:{token:h.c3,optional:!0},envManager:s.vC,domainResolve:h.xO,requestManager:l.G,dcoClient:"dcoClient"}}),(0,a.J)({provide:"router afterNavigateHooks",multi:!0,useFactory:function(e){var t=e.store,n=e.tracking;return function(){var e=(0,le.Z)(de().mark((function e(r){var o,i,a,u;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.to,i=r.url,a=(null==o?void 0:o.actualPath)||(null==o?void 0:o.path)||(null==i?void 0:i.pathname)){e.next=4;break}return e.abrupt("return");case 4:if((u=t.getState(Ee))[a]){e.next=7;break}return e.abrupt("return");case 7:null==n||n.extend(u[a]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{tracking:{token:v.t3,optional:!0},store:d.kR}})],Se(r.Z,[]))})],Re)},14062:function(e,t,n){"use strict";n.d(t,{t2:function(){return Dt}});var r=n(66598),o=n(58903),i=n(97570),a=n(52723),u=n(45232),s=n(35207),c=n(17935),l=n.n(c),f=n(78047),d=n(4216),p=n.n(d),v=n(34770),h=n.n(v),g=n(5203),m=n(64805),y=n.n(m),b={trace:y(),debug:y(),info:y(),warn:y(),error:y()},E=function(e){b=e},w=n(12836);function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(){function e(e){var t=e.trailingSlash,n=e.mergeSlashes,r=e.enableViewTransitions,o=e.beforeResolve,i=void 0===o?[]:o,a=e.beforeNavigate,u=void 0===a?[]:a,s=e.afterNavigate,c=void 0===s?[]:s,l=e.beforeUpdateCurrent,f=void 0===l?[]:l,d=e.afterUpdateCurrent,p=void 0===d?[]:d,v=e.guards,h=void 0===v?[]:v,g=e.onChange,m=void 0===g?[]:g,y=e.onRedirect,b=e.onNotFound,E=e.onBlock;this.started=!1,this.trailingSlash=!1,this.strictTrailingSlash=!0,this.viewTransitionsEnabled=!1,this.mergeSlashes=!1,this.trailingSlash=null!=t&&t,this.strictTrailingSlash=void 0===t,this.mergeSlashes=null!=n&&n,this.viewTransitionsEnabled=null!=r&&r,this.hooks=new Map([["beforeResolve",new Set(i)],["beforeNavigate",new Set(u)],["afterNavigate",new Set(c)],["beforeUpdateCurrent",new Set(f)],["afterUpdateCurrent",new Set(p)]]),this.guards=new Set(h),this.syncHooks=new Map([["change",new Set(m)]]),this.onRedirect=y,this.onNotFound=b,this.onBlock=E,this.currentUuid=0}var t=e.prototype;return t.start=function(){var e=(0,u.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.debug({event:"start"}),this.started=!0;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getCurrentRoute=function(){var e,t,n;return null!==(t=null===(e=this.currentNavigation)||void 0===e?void 0:e.to)&&void 0!==t?t:null===(n=this.lastNavigation)||void 0===n?void 0:n.to},t.getCurrentUrl=function(){var e,t,n;return null!==(t=null===(e=this.currentNavigation)||void 0===e?void 0:e.url)&&void 0!==t?t:null===(n=this.lastNavigation)||void 0===n?void 0:n.url},t.getLastRoute=function(){var e;return null===(e=this.lastNavigation)||void 0===e?void 0:e.to},t.getLastUrl=function(){var e;return null===(e=this.lastNavigation)||void 0===e?void 0:e.url},t.commitNavigation=function(e){b.debug({event:"commit-navigation",navigation:e}),e.history||this.history.save(e),this.lastNavigation=e,this.currentNavigation=null,this.runSyncHooks("change",e)},t.updateCurrentRoute=function(){var e=(0,u.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.internalUpdateCurrentRoute(t,{}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.internalUpdateCurrentRoute=function(){var e=(0,u.Z)(l().mark((function e(t,n){var r,o,i,a,u,s,c,f,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.history,i=null!==(o=this.currentNavigation)&&void 0!==o?o:this.lastNavigation){e.next=4;break}throw new Error("updateCurrentRoute should only be called after navigate to some route");case 4:return a=t.replace,u=t.params,s=t.navigateState,c=i.to,f=i.url,d={type:"updateCurrentRoute",from:c,to:this.resolveRoute({params:u,navigateState:s},{wildcard:!0}),url:this.resolveUrl(t),fromUrl:f,replace:a,history:r,navigateState:s,code:t.code,key:this.uuid()},b.debug({event:"update-current-route",updateRouteOptions:t,navigation:d}),e.next=10,this.run(d);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.runUpdateCurrentRoute=function(){var e=(0,u.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runHooks("beforeUpdateCurrent",t);case 2:return this.commitNavigation(t),e.next=5,this.runHooks("afterUpdateCurrent",t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.navigate=function(){var e=(0,u.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.internalNavigate((0,w.ub)(t),{}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.internalNavigate=function(){var e=(0,u.Z)(l().mark((function e(t,n){var r,o,i,a,u,s,c,f,d,p,v,h,g,m,y,E,w;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.history,o=n.redirect,a=t.url,u=t.replace,s=t.params,c=t.navigateState,f=t.code,d=t.viewTransition,p=o?this.lastNavigation:null!==(i=this.currentNavigation)&&void 0!==i?i:this.lastNavigation,a||p){e.next=5;break}throw new Error("Navigate url should be specified and cannot be omitted for first navigation");case 5:return v=this.resolveUrl(t),g=(h=null!=p?p:{}).to,m=h.url,y=o?this.currentNavigation.to:void 0,E={type:"navigate",from:g,url:v,fromUrl:m,replace:u,history:r,navigateState:c,code:f,redirect:o,redirectFrom:y,key:this.uuid()},this.viewTransitionsEnabled&&void 0!==d&&(E.viewTransition=d),e.next=12,this.runHooks("beforeResolve",E);case 12:if((w=this.resolveRoute({url:v,params:s,navigateState:c},{wildcard:!0}))&&(E=Object.assign({},E,{to:w})),b.debug({event:"navigation",navigation:E}),E.to){e.next=17;break}return e.abrupt("return",this.notfound(E));case 17:return e.next=19,this.run(E);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.runNavigate=function(){var e=(0,u.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.to.redirect){e.next=2;break}return e.abrupt("return",this.redirect(t,(0,w.ub)(t.to.redirect)));case 2:return e.next=4,this.runGuards(t);case 4:return e.next=6,this.runHooks("beforeNavigate",t);case 6:return this.commitNavigation(t),e.next=9,this.runHooks("afterNavigate",t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.run=function(){var e=(0,u.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentNavigation=t,"navigate"!==t.type){e.next=4;break}return e.next=4,this.runNavigate(t);case 4:if("updateCurrentRoute"!==t.type){e.next=7;break}return e.next=7,this.runUpdateCurrentRoute(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.resolve=function(e,t){var n=(0,w.ub)(e);return this.resolveRoute(Object.assign({},n,{url:(0,f.Qc)(n.url)}),t)},t.back=function(e){return this.go(-1,e)},t.forward=function(){return this.go(1)},t.go=function(){var e=(0,u.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.debug({event:"history.go",to:t}),e.abrupt("return",this.history.go(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.isNavigating=function(){return!!this.currentNavigation},t.dehydrate=function(){var e=(0,u.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.rehydrate=function(){var e=(0,u.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.addRoute=function(e){var t;null===(t=this.tree)||void 0===t||t.addRoute(e)},t.redirect=function(){var e=(0,u.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.debug({event:"redirect",navigation:t,target:n}),e.abrupt("return",null===(r=this.onRedirect)||void 0===r?void 0:r.call(this,Object.assign({},t,{from:t.to,fromUrl:t.url,to:null,url:this.resolveUrl(n)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.notfound=function(){var e=(0,u.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.debug({event:"not-found",navigation:t}),e.abrupt("return",null===(n=this.onNotFound)||void 0===n?void 0:n.call(this,t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.block=function(){var e=(0,u.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.debug({event:"blocked",navigation:t}),this.currentNavigation=null,!this.onBlock){e.next=4;break}return e.abrupt("return",this.onBlock(t));case 4:throw new Error("Navigation blocked");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.cancel=function(){},t.normalizePathname=function(e){var t=e;return this.mergeSlashes&&(t=(0,w.ym)(t)),this.strictTrailingSlash||(t=(0,w.RZ)(t,this.trailingSlash)),t},t.resolveUrl=function(e){var t,n=e.url,r=e.query,o=void 0===r?{}:r,i=e.params,a=e.preserveQuery,u=e.hash,s=this.getCurrentRoute(),c=this.getCurrentUrl(),l=n?(0,f.Hz)(null!==(t=null==c?void 0:c.href)&&void 0!==t?t:"",n):(0,f.F_)(c.href),d=l.pathname;return i&&(n?d=(0,g.gY)(l.pathname,i):s&&(d=(0,g.gY)(s.path,Object.assign({},s.params,i)))),(0,w.EE)(l)&&(d=this.normalizePathname(d)),(0,f.n2)((0,f.co)(l,{pathname:d,search:n?l.search:"",query:Object.assign({},a?this.getCurrentUrl().query:{},o),hash:null!=u?u:l.hash}))},t.resolveRoute=function(e,t){var n,r,o=e.url,i=e.params,a=e.navigateState,u=(void 0===t?{}:t).wildcard,s=o?null===(n=this.tree)||void 0===n?void 0:n.getRoute(o.pathname):this.getCurrentRoute();if(u&&!s&&o&&(s=null===(r=this.tree)||void 0===r?void 0:r.getWildcard(o.pathname)),s)return i||a!==s.navigateState?Object.assign({},s,{params:Object.assign({},s.params,i),navigateState:a}):s},t.runGuards=function(){var e=(0,u.Z)(l().mark((function e(t){var n,r,o,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.debug({event:"guards.run",navigation:t}),this.guards){e.next=4;break}return b.debug({event:"guards.empty",navigation:t}),e.abrupt("return");case 4:return e.next=6,Promise.all(Array.from(this.guards).map((function(e){return Promise.resolve(e(t)).catch((function(e){b.warn({event:"guard.error",error:e})}))})));case 6:n=e.sent,b.debug({event:"guards.done",navigation:t,results:n}),r=k(n,!0);case 9:if((o=r()).done){e.next=17;break}if(!1!==(i=o.value)){e.next=13;break}return e.abrupt("return",this.block(t));case 13:if(!p()(i)&&!h()(i)){e.next=15;break}return e.abrupt("return",this.redirect(t,(0,w.ub)(i)));case 15:e.next=9;break;case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.registerGuard=function(e){return(0,w.hx)(this.guards,e)},t.runSyncHooks=function(e,t){b.debug({event:"sync-hooks.run",hookName:e,navigation:t});var n=this.syncHooks.get(e);if(n){for(var r,o=k(n,!0);!(r=o()).done;){var i=r.value;try{i(t)}catch(e){b.warn({event:"sync-hooks.error",error:e})}}b.debug({event:"sync-hooks.done",hookName:e,navigation:t})}else b.debug({event:"sync-hooks.empty",hookName:e,navigation:t})},t.registerSyncHook=function(e,t){return(0,w.hx)(this.syncHooks.get(e),t)},t.runHooks=function(){var e=(0,u.Z)(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.debug({event:"hooks.run",hookName:t,navigation:n}),r=this.hooks.get(t)){e.next=5;break}return b.debug({event:"hooks.empty",hookName:t,navigation:n}),e.abrupt("return");case 5:return e.next=7,Promise.all(Array.from(r).map((function(e){return Promise.resolve(e(n)).catch((function(e){if(b.warn({event:"hook.error",error:e}),"beforeResolve"===t)throw e}))})));case 7:b.debug({event:"hooks.done",hookName:t,navigation:n});case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.registerHook=function(e,t){return(0,w.hx)(this.hooks.get(e),t)},t.uuid=function(){return this.currentUuid++},e}(),A=function(){function e(){}var t=e.prototype;return t.init=function(e){},t.listen=function(e){this.listener=e},t.setTree=function(e){this.tree=e},e}(),C=window.history&&window.history.pushState,_=function(e){return e&&"string"==typeof e.key},N=function(e,t,n){void 0===n&&(n=0);var r=function(e){var t=e.to;if(t)return t.name+"_"+t.path}(e),o=function(e,t){var n={};if(e.replace){var r=null==t?void 0:t.navigateState.previousRoute,o=null==t?void 0:t.navigateState.previousUrl;return r&&(n.previousRoute=r),o&&(n.previousUrl=o),n}return e.from&&(n.previousRoute=e.from),e.fromUrl&&(n.previousUrl=e.fromUrl),n}(e,t),i=e.type;return e.replace&&t&&(i=t.type===i?i:"navigate"),{key:r,type:i,navigateState:Object.assign({},o,e.navigateState),index:n}},T=function(e){function t(){var t;return(t=e.call(this)||this).currentIndex=0,t.historyWrapper=function(e){var t=e.onNavigate;if(!C){var n=function(e,t,n){window.location.href=n.toString()};return window.history.pushState=n,window.history.replaceState=n,{navigate:function(e){var t=e.path;return n(0,0,t)},history:function(){throw new Error("Method not implemented")},init:y(),subscribe:y()}}var r=window.history;"__originalHistory"in window.history?r=window.history.__originalHistory:window.history.__originalHistory={pushState:r.pushState.bind(window.history),replaceState:r.replaceState.bind(window.history),go:r.go.bind(window.history)};var o=r.pushState.bind(window.history),i=r.replaceState.bind(window.history),a=r.go.bind(window.history),u=function(e){a(e)},s=function(e){return void 0===e&&(e=!1),function(n,r,o){t({url:o.toString(),replace:e,navigateState:n})}};return window.history.pushState=s(!1),window.history.replaceState=s(!0),window.history.go=u,window.history.back=function(){return u(-1)},window.history.forward=function(){return u(1)},{navigate:function(e){var t=e.path,n=e.replace,r=e.state;n?i(r,"",t):o(r,"",t)},history:u,init:function(e){i(e,"")},subscribe:function(e){window.addEventListener("popstate",(function(t){var n=t.state;e({path:window.location.pathname+window.location.search+window.location.hash,state:n})}))}}}({onNavigate:function(e){var n=e.url,r=e.replace,o=e.navigateState;t.listener({url:n,replace:r,navigateState:o})}}),t}(0,s.Z)(t,e);var n=t.prototype;return n.init=function(e){var t,n=this;this.currentState=_(null===(t=window.history)||void 0===t?void 0:t.state)?window.history.state:N(e),this.currentIndex=this.currentState.index,this.historyWrapper.init(this.currentState),this.historyWrapper.subscribe(function(){var e=(0,u.Z)(l().mark((function e(t){var r,o,i,a,u,s,c,f,d,p,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,o=t.state,e.prev=1,_(o)?(c=n.currentState,f=c.key,d=c.type,p=o.key,v=o.type,n.currentState=o,s=o.navigateState,u=p!==f||"updateCurrentRoute"!==v&&"updateCurrentRoute"!==d?"navigate":"updateCurrentRoute"):n.currentIndex=0,e.next=5,n.listener({type:u,history:!0,url:r,navigateState:s});case 5:null===(i=n.goPromiseResolve)||void 0===i||i.call(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),null===(a=n.goPromiseReject)||void 0===a||a.call(n,e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())},n.save=function(e){var t=e.replace,n=e.url;t||this.currentIndex++,this.currentState=N(e,this.currentState,this.currentIndex),this.historyWrapper.navigate({path:n.path,replace:t,state:this.currentState})},n.go=function(e,t){var n,r=this;if(this.currentIndex<1){if(null==t?void 0:t.historyFallback)return this.listener({url:t.historyFallback,type:"navigate",history:!1,replace:t.replace});var o=null===(n=this.tree)||void 0===n?void 0:n.getHistoryFallback(window.location.pathname);if(o)return this.listener({url:o.actualPath,type:"navigate",history:!1})}this.currentIndex+=e;var i=new Promise((function(e,t){r.goPromiseResolve=e,r.goPromiseReject=t}));return this.historyWrapper.history(e),i},t}(A),O=function(e){function t(t){var n;return(n=e.call(this,t)||this).fullRehydrationInProcess=null,n.history=new T,n.history.listen(function(){var e=(0,u.Z)(l().mark((function e(t){var r,o,i,a,u,s,c,f,d,p,v,h,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type,o=t.url,i=t.navigateState,a=t.replace,u=t.history,c=n.getCurrentUrl(),f=n.resolveUrl({url:o}),d=f.pathname,p=f.query,v=f.hash,h=(c?c.pathname:window.location.pathname)===d,"updateCurrentRoute"!==r&&(r||!h)||c){e.next=8;break}return a?window.history.__originalHistory.replaceState(i,"",o):window.history.__originalHistory.pushState(i,"",o),e.abrupt("return");case 8:if("updateCurrentRoute"!==r&&(r||!h)){e.next=14;break}return g=null===(s=n.tree)||void 0===s?void 0:s.getRoute(d),e.next=12,n.internalUpdateCurrentRoute({params:null==g?void 0:g.params,query:p,hash:v,replace:a,navigateState:i},{history:u});case 12:e.next=16;break;case 14:return e.next=16,n.internalNavigate({url:o,replace:a,navigateState:i},{history:u});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n}(0,s.Z)(t,e);var n=t.prototype;return n.rehydrate=function(){var e=(0,u.Z)(l().mark((function e(t){var n,r,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fullRehydrationInProcess=!t.to,b.debug({event:"rehydrate",navigation:t}),n=(0,f.Qc)(window.location.href),this.currentNavigation=Object.assign({},t,{type:"navigate",url:n}),this.lastNavigation=this.currentNavigation,!this.fullRehydrationInProcess){e.next=13;break}return e.next=8,this.runHooks("beforeResolve",this.currentNavigation);case 8:if(r=this.resolveRoute({url:n},{wildcard:!0}),o=null==r?void 0:r.redirect,this.currentNavigation.to=r,!o){e.next=13;break}return e.abrupt("return",this.redirect(this.currentNavigation,(0,w.ub)(o)));case 13:return e.next=15,this.runGuards(this.currentNavigation);case 15:this.history.init(this.currentNavigation),this.fullRehydrationInProcess&&this.runSyncHooks("change",this.currentNavigation),this.currentNavigation=null,this.fullRehydrationInProcess||this.addRoute({name:t.to.name,path:t.to.path,config:t.to.config,alias:n.pathname}),this.fullRehydrationInProcess=null;case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.resolveRoute=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r[0].url;if(!i||(0,w.EE)(i))return(t=e.prototype.resolveRoute).call.apply(t,[this].concat(r))},n.notfound=function(){var t=(0,u.Z)(l().mark((function t(n){var r,o,i,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prototype.notfound.call(this,n);case 2:if(i=null!==(o=null===(r=n.fromUrl)||void 0===r?void 0:r.href)&&void 0!==o?o:window.location.href,a=n.url.href,(!n.from||n.to)&&i===a){t.next=9;break}n.replace?window.location.replace(a):window.location.assign(a),t.next=11;break;case 9:if(!this.onBlock){t.next=11;break}return t.abrupt("return",this.onBlock(n));case 11:return t.abrupt("return",new Promise((function(){})));case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.block=function(){var e=(0,u.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.notfound(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.redirect=function(){var t=(0,u.Z)(l().mark((function t(n,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prototype.redirect.call(this,n,r);case 2:if(!this.fullRehydrationInProcess){t.next=5;break}return window.location.replace(r.url),t.abrupt("return",new Promise((function(){})));case 5:return t.abrupt("return",this.internalNavigate(Object.assign({},r,{replace:r.replace||n.replace}),{redirect:!0}));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t}(R),x=n(15434),I=n.n(x),M=n(44831),L=n.n(M),P=n(97939),V=n.n(P),D=n(26845);function F(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return U(t,void 0!==n&&n<r?n:r)}return e(t,n)}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=function(e){return{route:e,children:Object.create(null),parameters:[]}},Z=function(e,t,n){return Object.assign({},e,{actualPath:t,params:null!=n?n:{}})},J=function(){function e(e){var t=this;this.tree=B(),I()((function(e){return t.addRoute(e)}),e)}var t=e.prototype;return t.addRoute=function(e){for(var t,n=(0,g.am)(e.path),r=this.tree,o=function(){var t=n[i],o=(0,g.Qc)(t);if(1===o.type)return r.historyFallbackRoute=e,{v:void 0};if(2===o.type)return r.wildcardRoute=e,{v:void 0};if(3===o.type){var a=o.paramName,u=o.regexp,s=o.optional,c=L()((function(e){return e.key===t}),r.parameters);if(c)r=c.tree;else{var l={key:t,paramName:a,regexp:u,optional:s,tree:B()};if(u&&!s){var f=V()((function(e){return!e.regexp}),r.parameters);r.parameters.splice(f,0,l)}else r.parameters.push(l);r=l.tree}}else r.children[t]||(r.children[t]=B()),r=r.children[t]},i=0;i<n.length;i++)if(t=o())return t.v;r.route=e},t.getRoute=function(e){return this.findRoute(e,"route")},t.getWildcard=function(e){return this.findRoute(e,"wildcardRoute")},t.getHistoryFallback=function(e){var t=this.findRoute(e,"historyFallbackRoute");return t&&Object.assign({},t,{actualPath:t.path.replace(D.xQ,"")||"/"})},t.findRoute=function(e,t){for(var n="route"===t,r=(0,g.am)(e),o=[[this.tree,0]];o.length;){var i=o.pop(),u=j(a.Z,i,3),s=u[0],c=u[1],l=u[2],f=s.children,d=s.parameters,p=!1;if(c>=r.length){if(s[t])return Z(s[t],e,l);p=!0}!n&&s[t]&&o.push([s,r.length,l]);for(var v,h=r[c],m=f[h],y=F(d,!0);!(v=y()).done;){var b=v.value,E=b.optional,w=b.tree;E&&o.push([w,c,l])}if(!p){for(var k=d.length-1;k>=0;k--){var S,R=d[k],A=R.paramName,C=R.tree,_=R.regexp,N=null==_?void 0:_.exec(h),T=_?null==N?void 0:N[1]:h;T&&o.push([C,c+1,Object.assign({},l,(S={},S[A]=T,S))])}m&&o.push([m,c+1,l])}}},e}();function H(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return q(t,void 0!==n&&n<r?n:r)}return e(t,n)}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G="_t_view_transitions",W=function(e){function t(t){var n;return(n=e.call(this,t)||this).tree=new J(t.routes),n.history.setTree(n.tree),n.viewTransitionsEnabled&&(n.restoreAppliedViewTransitions(),window.addEventListener("pagehide",(function(){n.saveAppliedViewTransitions()}))),n}(0,s.Z)(t,e);var n=t.prototype;return n.rehydrate=function(){var t=(0,u.Z)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.resolveIfDelayFound(e.prototype.rehydrate.call(this,n)));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.start=function(){var t=(0,u.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prototype.start.call(this);case 2:if(!this.delayedNavigation){t.next=6;break}return n=this.delayedNavigation,this.delayedNavigation=null,t.abrupt("return",this.flattenDelayedNavigation(n));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.run=function(){var e=(0,u.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.assign({},t),this.viewTransitionsEnabled&&(n.viewTransition=this.shouldApplyViewTransition(t)),this.started){e.next=5;break}return this.delayNavigation(n),e.abrupt("return");case 5:if(!this.currentNavigation){e.next=7;break}return e.abrupt("return",this.delayNavigation(n));case 7:return this.delayedNavigation&&(b.info({event:"delay-navigation-drop",delayedNavigation:this.delayedNavigation,navigation:n}),this.delayedNavigation=null),e.abrupt("return",this.flattenDelayedNavigation(n));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.delayNavigation=function(e){var t=this;return this.delayedNavigation=e,b.info({event:"delay-navigation",navigation:e}),this.delayedPromise||(this.delayedPromise=new Promise((function(e,n){t.delayedResolve=e,t.delayedReject=n}))),this.delayedPromise},n.commitNavigation=function(t){if(!t.cancelled&&!t.skipped)return e.prototype.commitNavigation.call(this,t);b.debug({event:"delay-ignore-commit",navigation:t})},n.runGuards=function(){var t=(0,u.Z)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.cancelled){t.next=3;break}return b.debug({event:"delay-ignore-guards",navigation:n}),t.abrupt("return");case 3:return t.abrupt("return",e.prototype.runGuards.call(this,n));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.runHooks=function(){var t=(0,u.Z)(l().mark((function t(n,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.cancelled||this.lastNavigation===r){t.next=3;break}return b.debug({event:"delay-ignore-hooks",navigation:r}),t.abrupt("return");case 3:return t.prev=3,t.next=6,e.prototype.runHooks.call(this,n,r);case 6:t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(3),t.abrupt("return",this.notfound(r));case 11:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,n){return t.apply(this,arguments)}}(),n.resolveIfDelayFound=function(){var e=(0,u.Z)(l().mark((function e(t){var n,r,o=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=setInterval((function(){var e;o.delayedNavigation&&("navigate"===o.delayedNavigation.type||o.delayedNavigation.type===(null===(e=o.currentNavigation)||void 0===e?void 0:e.type)?(b.info({event:"delay-navigation-found",navigation:o.delayedNavigation}),o.currentNavigation&&(o.currentNavigation.cancelled=!0,o.currentNavigation=null),n()):o.delayedResolve())}),50),e.next=3,Promise.race([t,new Promise((function(e){n=e}))]);case 3:clearInterval(r),n();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.flattenDelayedNavigation=function(){var t=(0,u.Z)(l().mark((function t(n){var r,o=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){var t=(0,u.Z)(l().mark((function t(n){var i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.resolveIfDelayFound(e.prototype.run.call(o,n));case 2:if(!o.delayedNavigation){t.next=7;break}return i=o.delayedNavigation,b.info({event:"delay-navigation-run",navigation:i}),o.delayedNavigation=null,t.abrupt("return",r(i));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.abrupt("return",r(n).then((function(){var e;null===(e=o.delayedResolve)||void 0===e||e.call(o)}),(function(e){var t;null===(t=o.delayedReject)||void 0===t||t.call(o,e)})).finally((function(){o.delayedPromise=null,o.delayedResolve=null,o.delayedReject=null})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.shouldApplyViewTransition=function(e){var t,n,r=e.from.actualPath,o=void 0!==e.to.redirect?null===(t=this.resolve(e.to.redirect))||void 0===t?void 0:t.actualPath:null===(n=e.to)||void 0===n?void 0:n.actualPath;if(e.viewTransition){var i=this.appliedViewTransitions.get(r);return this.appliedViewTransitions.get(r)?i.add(o):this.appliedViewTransitions.set(r,new Set([o])),!0}var a=this.appliedViewTransitions.get(r);return!(void 0===a||!a.has(o))||this.appliedViewTransitions.has(o)},n.restoreAppliedViewTransitions=function(){try{var e=sessionStorage.getItem(G);if(null!==e){var t=JSON.parse(e);return void(this.appliedViewTransitions=new Map(Object.entries(t).map((function(e){var t=H(a.Z,e,2),n=t[0],r=t[1];return[n,new Set(r)]}))))}this.appliedViewTransitions=new Map}catch(e){this.appliedViewTransitions=new Map}},n.saveAppliedViewTransitions=function(){if(this.appliedViewTransitions.size>0)try{for(var e,t={},n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.appliedViewTransitions,!0);!(e=n()).done;){var r=H(a.Z,e.value,2),i=r[0],u=r[1];t[i]=H(o.Z,u)}sessionStorage.setItem(G,JSON.stringify(t))}catch(e){}},n.cancel=function(){if(this.isNavigating()){b.debug({event:"cancelled",navigation:this.currentNavigation});var e=this.currentNavigation;return this.currentNavigation.skipped=!0,this.currentNavigation=null,e}},t}(O),Y=n(56873),K=n(80772),Q=n(37621),z=n(82571),$=n(71533),X=n(14908),ee=n(30353),te=n.n(ee),ne=n(82342),re=n(16254),oe=n(83005),ie=n(80858),ae=[(0,i.J)({provide:Y.sU,multi:!0,useFactory:function(e){var t=e.bundleManager,n=e.logger,r=e.responseManager,o=e.pageRegistry,i=n("route:load-bundles");return function(){var e=(0,u.Z)(l().mark((function e(n){var a,u,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.to,i.debug({event:"load-bundle",route:a}),u=a.config,s=u.bundle,c=u.pageComponent,t.has(s,c)){e.next=7;break}return i.info({event:"load-bundle-not-found",bundle:s,pageComponent:c}),r.setStatus(404),e.abrupt("return",!1);case 7:return e.prev=7,e.next=10,o.resolve(a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(7),i.error({event:"load-bundle-failed",error:e.t0}),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}()},deps:{logger:ne.Fp,bundleManager:oe.g,responseManager:ie.r,pageRegistry:Y._Q}}),(0,i.J)({provide:Y.sU,multi:!0,useFactory:function(e){var t=e.responseManager,n=(0,e.logger)("route:guard-check-error");return(0,u.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.getStatus()>=500)){e.next=3;break}return n.error({event:"status-is-error",status:t.getStatus()}),e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})))},deps:{logger:ne.Fp,responseManager:ie.r}})],ue=n(49076),se=[{provide:re.p$,multi:!0,useFactory:function(e){var t=e.context;return function(e){t.dispatch((0,X.L$)(e))}},deps:{context:ue.l}}],ce=n(8479),le=n(56003),fe=n(79436),de=n.n(fe),pe=n(63119),ve=n.n(pe);var he=n(63609),ge=n.n(he),me=n(90130),ye=n(44121),be=n(86949),Ee=n(70872),we=function(e){var t=e.router,n=e.children,r=e.serverState,o=(0,ye.useMemo)((function(){return t.getCurrentRoute()}),[t]),i=(0,ye.useMemo)((function(){return t.getCurrentUrl()}),[t]),a=(0,ye.useCallback)((function(e){return t.registerSyncHook("change",e)}),[t]),u=(0,be.useSyncExternalStore)(a,(function(){var e,n;return null!==(n=null===(e=t.getLastRoute)||void 0===e?void 0:e.call(t))&&void 0!==n?n:o}),r?function(){return r.route}:function(){var e,n;return null!==(n=null===(e=t.getLastRoute)||void 0===e?void 0:e.call(t))&&void 0!==n?n:o}),s=(0,be.useSyncExternalStore)(a,(function(){var e,n;return null!==(n=null===(e=t.getLastUrl)||void 0===e?void 0:e.call(t))&&void 0!==n?n:i}),r?function(){return r.url}:function(){var e,n;return null!==(n=null===(e=t.getLastUrl)||void 0===e?void 0:e.call(t))&&void 0!==n?n:i});return(0,me.jsx)(Ee._q.Provider,{value:t,children:(0,me.jsx)(Ee.Xn.Provider,{value:u,children:(0,me.jsx)(Ee.qs.Provider,{value:s,children:n})})})};we.displayName="TinkoffRouterProvider";var ke=we,Se=n(30988),Re=function(){function e(e){var t=e.router,n=e.componentRegistry;this.router=t,this.componentRegistry=n}var t=e.prototype;return t.getCurrentRoute=function(){return this.router.getCurrentRoute()},t.getCurrentUrl=function(){return this.router.getCurrentUrl()},t.getConfig=function(e){var t;return void 0===e&&(e=this.getCurrentRoute()),null!==(t=null==e?void 0:e.config)&&void 0!==t?t:{}},t.getContent=function(e){var t;return null!==(t=this.getConfig(e).content)&&void 0!==t?t:{}},t.getMeta=function(e){var t;return null!==(t=this.getConfig(e).meta)&&void 0!==t?t:{}},t.navigate=function(e){return this.router.navigate(e)},t.updateCurrentRoute=function(e){return this.router.updateCurrentRoute(e)},t.back=function(e){return this.router.back(e)},t.forward=function(){return this.router.forward()},t.go=function(e,t){return this.router.go(e,t)},t.addComponent=function(e,t,n){var r=this.getComponentsGroupName(n);return this.componentRegistry.add(e,t,r)},t.getComponent=function(e,t){var n=this.getComponentsGroupName(t);return this.componentRegistry.get(e,n)},t.resolveComponentFromConfig=function(e,t){var n,r=e+"Component",o=e+"Default",i=null!==(n=this.getConfig(t)[r])&&void 0!==n?n:o;return this.getComponent(i,t)||this.getComponent(o,t)},t.getComponentsGroupName=function(e){var t=this.getConfig(e),n=t.bundle,r=t.pageComponent;return(0,Se.lN)(r)?r:n},e}(),Ae=n(42282),Ce=n.n(Ae),_e=n(49103),Ne=n.n(_e),Te=n(42549),Oe=function(){function e(e){var t=e.bundleManager,n=e.pageService,r=e.componentRegistry,o=e.actionRegistry,i=e.dispatcher,a=e.dispatcherContext;this.bundleManager=t,this.pageService=n,this.componentRegistry=r,this.actionRegistry=o,this.dispatcher=i,this.dispatcherContext=a}var t=e.prototype;return t.resolve=function(){var e=(0,u.Z)(l().mark((function e(t){var n,r,o,i,a,u,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.pageService.getConfig(t),o=r.bundle,i=r.pageComponent,a=this.pageService.resolveComponentFromConfig("nestedLayout",t),e.next=4,this.bundleManager.get(o,i);case 4:return u=e.sent,e.next=7,this.registerComponent(o,u);case 7:return s=null===(n=u.components)||void 0===n?void 0:n[i],c=[],s&&c.push(this.registerComponent(i,s)),a&&c.push(this.registerComponent(i,this.pageService.resolveComponentFromConfig("nestedLayout"))),e.next=13,Promise.all(c);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.registerComponent=function(){var e=(0,u.Z)(l().mark((function e(t,n){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("load"in n)){e.next=3;break}return e.next=3,(0,Te.BU)(n);case 3:"components"in n&&h()(n.components)&&Ne()((function(e,n){r.componentRegistry.add(n,e,t)}),n.components),"actions"in n&&Ce()(n.actions)&&this.actionRegistry.add(t,n.actions),"reducers"in n&&Ce()(n.reducers)&&n.reducers.forEach((function(e){r.dispatcher.registerStore(e),r.dispatcherContext.getStore(e)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e}(),xe=[(0,i.J)({provide:re.Ct,useFactory:function(e){var t=e.transformers;return t&&0!==t.length?ve().apply(void 0,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(o.Z,te()(t))):de()},deps:{transformers:{token:Y.S3,optional:!0}}}),(0,i.J)({provide:Y.S3,multi:!0,useValue:function(e){var t=Object.assign({bundle:"mainDefault",pageComponent:"pageDefault"},e.config);return Object.assign({},e,{config:t})}}),(0,i.J)({provide:Y.S3,multi:!0,useValue:function(e){return Object.assign({},e,{path:ge()(/\/?$/,"/",e.path)})}}),(0,i.J)({provide:ce.EXTEND_RENDER,multi:!0,useFactory:function(e){var t=e.router,n={route:t.getCurrentRoute(),url:t.getCurrentUrl()};return function(e){return(0,me.jsx)(ke,{router:t,serverState:n,children:e})}},deps:{router:Y.l1}}),(0,i.J)({provide:Y.Y9,useClass:Re,deps:{router:Y.l1,componentRegistry:le.K}}),(0,i.J)({provide:Y._Q,useClass:Oe,deps:{bundleManager:oe.g,pageService:Y.Y9,componentRegistry:le.K,actionRegistry:$.R9,dispatcher:Q.qb,dispatcherContext:Q.jm}})],Ie=[(0,Se.oJ)()&&(0,i.J)({provide:Y.Dk,multi:!0,useFactory:function(e){var t=(0,e.logger)("file-system-pages:route"),n=Object.keys((0,Se.d3)()).map(Se.nW),r=(0,Se.kC)();return t.debug({event:"create static routes from file-system pages",routes:n}),r.concat(n)},deps:{logger:ne.Fp}})].filter(Boolean);function Me(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var Le=[].concat(Me(o.Z,ae),Me(o.Z,se),Me(o.Z,xe),Me(o.Z,Ie),[(0,i.J)({provide:Y.l1,useFactory:function(e){var t=e.RouterClass,n=e.routes,r=e.routeTransform,o=e.routeResolve,i=e.additionalParameters,a=new t(Object.assign({},i,{trailingSlash:!0,mergeSlashes:!0,enableViewTransitions:!1,routes:te()(null!=n?n:[]).map(r)}));return o&&a.registerHook("beforeResolve",function(){var e=(0,u.Z)(l().mark((function e(t){var n,i,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=a.resolve(t.url.href))&&!(null===(n=i.config)||void 0===n?void 0:n.forceRouteResolve)){e.next=6;break}return e.next=4,o(t);case 4:(u=e.sent)&&a.addRoute(r(u));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a},deps:{RouterClass:re.U5,additionalParameters:{token:re.FZ,optional:!0},routes:{token:Y.Dk,optional:!0},routeTransform:re.Ct,routeResolve:{token:Y.TL,optional:!0}}}),(0,i.J)({provide:K.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.router,n=e.guards,r=e.onChange,o=e.beforeResolve,i=e.beforeNavigate,a=e.afterNavigate,u=e.beforeUpdateCurrent,s=e.afterUpdateCurrent;return function(){te()(null!=n?n:[]).forEach((function(e){return t.registerGuard(e)})),te()(null!=r?r:[]).forEach((function(e){return t.registerSyncHook("change",e)})),te()(null!=o?o:[]).forEach((function(e){return t.registerHook("beforeResolve",e)})),te()(null!=i?i:[]).forEach((function(e){return t.registerHook("beforeNavigate",e)})),te()(null!=a?a:[]).forEach((function(e){return t.registerHook("afterNavigate",e)})),te()(null!=u?u:[]).forEach((function(e){return t.registerHook("beforeUpdateCurrent",e)})),te()(null!=s?s:[]).forEach((function(e){return t.registerHook("afterUpdateCurrent",e)}))}},deps:{router:Y.l1,guards:{token:Y.sU,optional:!0},onChange:{token:re.p$,optional:!0},beforeResolve:{token:re.Yv,optional:!0},beforeNavigate:{token:re.rZ,optional:!0},afterNavigate:{token:re.jB,optional:!0},beforeUpdateCurrent:{token:re.vR,optional:!0},afterUpdateCurrent:{token:re.P$,optional:!0}}}),(0,i.J)({provide:K.Bi.init,multi:!0,useFactory:function(e){var t=e.logger;return function(){E(t("route:router"))}},deps:{logger:ne.Fp}}),(0,i.J)({provide:Y.$d,useValue:"after"}),(0,i.J)({provide:Q.Ym,multi:!0,useValue:X.sH})],Me(o.Z,[])),Pe=n(19608),Ve=n(46478),De=n(57038),Fe=n(59999),je=n(75633),Ue=(0,Fe.V3)(),Be=(0,Fe.V3)(),Ze=[(0,i.J)({provide:Ue,useValue:new Set}),(0,i.J)({provide:Be,useFactory:function(){var e=(0,je.R)(),t=Promise.resolve();return{add:function(n){return t=t.then((function(){return new Promise((function(t,r){e((function(){n().then(t).catch(r)}))}))}))}}}}),(0,i.J)({provide:Y.fw,useFactory:function(e){var t=e.router,n=e.routeTransform,r=e.routeResolve,o=e.logger,i=e.prefetchedLinksCache,a=e.prefetchedLinksQueue,s=e.pageRegistry,c=e.prefetchHandlers,d=o("link-prefetch-manager"),p=function(){var e=(0,u.Z)(l().mark((function e(o){var a,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.has(o)){e.next=2;break}return e.abrupt("return");case 2:if(i.add(o),d.info({event:"prefetch-route-init",url:o}),(a=t.resolve(o))||!r){e.next=11;break}return u=(0,f.Qc)(o),e.next=9,r({url:u,type:"navigate"});case 9:(a=e.sent)&&(a=n(a),t.addRoute(a));case 11:if(a){e.next=14;break}return d.info({event:"prefetch-route-not-found",url:o}),e.abrupt("return");case 14:return e.prev=14,e.next=17,s.resolve(a);case 17:return e.next=19,Promise.all(c.map((function(e){return e(a)})));case 19:d.info({event:"prefetch-route-success",url:o}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),d.warn({event:"prefetch-fail",url:o,error:e.t0});case 25:case"end":return e.stop()}}),e,null,[[14,22]])})));return function(t){return e.apply(this,arguments)}}();return{prefetch:function(e){return a.add((function(){return p(e)}))}}},deps:{router:Y.l1,routeTransform:re.Ct,routeResolve:(0,Fe.jt)(Y.TL),logger:ne.Fp,prefetchedLinksCache:Ue,prefetchedLinksQueue:Be,pageRegistry:Y._Q,prefetchHandlers:(0,Fe.jt)(Y.Dv)}})],Je=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,Ze),[{provide:re.FZ,useFactory:function(e){var t,n=e.store;return{onBlock:(t=(0,u.Z)(l().mark((function e(t){var r,o,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Pe.W({message:"Url "+(null===(r=t.to)||void 0===r?void 0:r.actualPath)+" is blocked",prevUrl:null!==(i=null===(o=t.fromUrl)||void 0===o?void 0:o.href)&&void 0!==i?i:window.location.href,nextUrl:t.url.href}),a=(0,Ve.lV)(a),n.dispatch((0,De.IL)(a));case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}},deps:{store:Q.kR}}]),He=n(7605),qe=n.n(He),Ge=n(33926),We=n(65641),Ye=n(26566),Ke=["message","httpStatus"],Qe=function(e){function t(n){var r,o=n.message,i=void 0===o?"Http Error":o,a=n.httpStatus,u=(0,Ge.Z)(n,Ke);return(r=e.call(this,i)||this).name=t.errorName,r.httpStatus=a,Object.assign((0,We.Z)(r),u),r}return(0,s.Z)(t,e),t}((0,Ye.Z)(Error));Qe.errorName="HttpError";var ze=["message"],$e=function(e){function t(n){var r,o=void 0===n?{}:n,i=o.message,a=void 0===i?"Not Found":i,u=(0,Ge.Z)(o,ze);return(r=e.call(this,{message:a,httpStatus:404})||this).name=t.errorName,Object.assign((0,We.Z)(r),u),r}return(0,s.Z)(t,e),t}(Qe);$e.errorName="NotFoundError";var Xe=["message","nextUrl","httpStatus"],et=function(e){function t(n){var r,o=n.message,i=void 0===o?"Redirect Found":o,a=n.nextUrl,u=n.httpStatus,s=void 0===u?307:u,c=(0,Ge.Z)(n,Xe);return(r=e.call(this,{message:i,httpStatus:s})||this).name=t.errorName,r.nextUrl=a,r.httpStatus=s,Object.assign((0,We.Z)(r),c),r}return(0,s.Z)(t,e),t}(Qe);et.errorName="RedirectFoundError";var tt=function(e){return e.name===et.errorName},nt=n(59576);function rt(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var ot=function(e){if(e.name===$e.errorName||tt(e))return!0},it=function(e){e.store;var t=e.router,n=e.actionRegistry,r=(e.actionPageRunner,t.getCurrentRoute()),i=r.config,a=void 0===i?{}:i,u=a.bundle,s=a.pageComponent;if(!u||!s)throw new Error("bundle and pageComponent should be defined, but got "+r);return qe()([].concat(rt(o.Z,n.getGlobal()||[]),rt(o.Z,n.get(u)||[]),rt(o.Z,n.get(s)||[])))},at=function(e){return function(){var t=it(e);return e.actionPageRunner.runActions(t,ot).catch((function(t){if(tt(t))return e.router.navigate({url:t.nextUrl,replace:!0,code:t.httpStatus});throw t.error||t}))}};function ut(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var st=[].concat(ut(o.Z,Je),ut(o.Z,Le),[(0,i.J)({provide:K.Bi.customerStart,multi:!0,useFactory:function(e){var t=e.router,n=e.store,r=e.envManager;return function(){var e=(0,u.Z)(l().mark((function e(){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==r.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING")){e.next=2;break}return e.abrupt("return",t.rehydrate({}));case 2:return o=n.getState(X.sH).currentRoute,e.abrupt("return",t.rehydrate({to:o}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},deps:{router:Y.l1,store:Q.kR,envManager:z.vC}}),(0,i.J)({provide:K.Bi.clear,multi:!0,useFactory:function(e){var t=e.router,n=e.store;return function(){return n.getState().router.currentUrl.href!==window.location.href&&n.dispatch((0,X.Qk)(t.getCurrentUrl())),t.start()}},deps:{router:Y.l1,store:Q.kR}}),(0,i.J)({provide:K.Bi.clear,multi:!0,useFactory:function(e){return at(e)},deps:{store:Q.kR,router:Y.l1,actionRegistry:$.R9,actionPageRunner:$.FM}})]),ct=n(16842),lt=["spaMode"],ft=["spaMode"],dt=[{provide:re.rZ,multi:!0,useFactory:function(e){var t=e.commandLineRunner,n=e.di;return function(){var e=(0,u.Z)(l().mark((function e(r){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.key,e.next=3,t.run("client","spa",[],n,o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{di:ct.Z,commandLineRunner:K.S9}},{provide:re.jB,multi:!0,useFactory:function(e){var t=e.commandLineRunner,n=e.di;return function(){var e=(0,u.Z)(l().mark((function e(r){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.key,e.next=3,t.run("client","afterSpa",[],n,o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deps:{di:ct.Z,commandLineRunner:K.S9}},{provide:K.Bi.spaTransition,multi:!0,useFactory:function(e){var t=e.spaMode,n=(0,Ge.Z)(e,lt);return function(){if(function(e){it(e).forEach((function(t){var n=t[nt.d],r=null==n?void 0:n.deferred,o=e.deferredActionsMap.get(null==n?void 0:n.name);r&&o&&e.actionExecution.canExecute(t)&&o.reset()}))}(n),"after"!==t)return at(n)()}},deps:{store:Q.kR,router:Y.l1,actionRegistry:$.R9,actionPageRunner:$.FM,spaMode:Y.$d,deferredActionsMap:$.m1,actionExecution:$.R$}},{provide:K.Bi.afterSpaTransition,multi:!0,useFactory:function(e){var t=e.spaMode,n=(0,Ge.Z)(e,ft);return"after"===t?at(n):y()},deps:{store:Q.kR,router:Y.l1,actionRegistry:$.R9,actionPageRunner:$.FM,spaMode:Y.$d}}],pt=function(e,t){return void 0===t&&(t={}),[{provide:Y.Dk,multi:!0,useValue:e},t.spaActionsMode&&{provide:Y.$d,useValue:t.spaActionsMode}].filter(Boolean)};function vt(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var ht=(0,r.J)({name:"SpaRouterModule",providers:[].concat(vt(o.Z,st),vt(o.Z,dt),[(0,i.J)({provide:re.U5,useValue:W}),(0,i.J)({provide:Y.aP,useValue:"spa"})]),extend:{forRoot:pt}}),gt=n(29772),mt=n(82912),yt=n(20076),bt=n(92946),Et=n(33464),wt=n(60028),kt=n.n(wt),St={mobile:!0,wearable:!0},Rt=n(65165),At=n.n(Rt),Ct=n(147),_t=n.n(Ct),Nt=At();try{Nt=n(60531).XH}catch(e){}var Tt=function(e,t,n){var r=e.url,o=e.domain,i=e.appId;if(!h()(t))return null;if("redirectUrl"in t)return{name:"page-enrichment-redirect",path:r.pathname,redirect:{url:ge()(new RegExp("^https://"+o),"",t.redirectUrl),code:+t.redirectCode,preserveQuery:!0}};if("page"in t){var a=t.page,u=a.id,s=a.pageId,c=a.appId,l=a.name,f=a.properties,d=a.url,p=a.meta,v=a.content;return n.inBrowser&&c&&(n.strictAppId||"platform"!==c)&&c!==i&&"m"+c!==i?null:{name:l,path:d,config:Object.assign({id:u,pageId:s},f,{meta:p,content:v})}}return null};function Ot(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var xt={timeout:5e3,deduplicateCache:!0},It=n(6073),Mt=n.n(It);function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pt=(0,Fe.V3)("__tinkoffRouterDeprecatedToken",{multi:!0}),Vt=[(0,i.J)({provide:yt.DG,useFactory:function(e){var t=e.appInfo,n=e.userAgent;return function(){var e,r=t.appName;return n&&(e=n,St[kt()(["device","type"],e)])?"m"+r:r}},deps:{appInfo:gt.Qo,userAgent:{token:Et.N,optional:!0}}}),(0,i.J)({provide:yt.Q6,useFactory:function(e){var t=e.appInfo;return function(){return[t.appName,"m"+t.appName]}},deps:{appInfo:gt.Qo}}),(0,i.J)({provide:yt.xO,useFactory:function(e){var t=e.requestManager,n=e.responseManager,r=e.envManager,o=e.enableAutoDomainResolve,i=e.store;return(0,u.Z)(l().mark((function e(){var a,u,s,c,f,d,p,v,h;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=r.get("DOMAIN_ALIAS"))){e.next=3;break}return e.abrupt("return",s);case 3:return c=null!==(a=i.getState().featureToggle)&&void 0!==a?a:{},f=Nt("admin/default_domain_www",c)?"www.tinkoff.ru":"tinkoff.ru",d=t.getHost(),p=/^localhost(?::\d+)$/.test(d),l=r.get("EXTERNAL_HOSTNAME_MAP")||"",v=_t()(l.split(",").map((function(e){return e.split("=")}))),h=null!==(u=v[d])&&void 0!==u?u:p||!o?f:d,n.setHeader("x-tramvai-resolved-external-host",d+"="+h),e.abrupt("return",h);case 11:case"end":return e.stop()}var l}),e)})))},deps:{requestManager:mt.G,responseManager:ie.r,envManager:z.vC,enableAutoDomainResolve:yt.vi,store:Q.kR}}),(0,i.J)({provide:yt.vi,useValue:!1}),(0,i.J)({provide:Y.TL,useFactory:function(e){var t=e.logger,n=(e.responseManager,e.pageEnrichment),r=e.domainResolve,i=e.appIdResolve,s=e.routeResolveExtend,c=e.routesFallback,f=(e.deprecatedTokens,e.envManager),d=e.criticalRoutes;if(!n)throw new Error("pageEnrichment is not defined, have you forgot to add @tramvai/module-api-clients?");var p=t("route:admin:route-resolve");return function(){var e=(0,u.Z)(l().mark((function e(t){var v,h,g,m,y,b,E,w,k,S,R,A,C,_,N;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=t.url,p.debug({event:"load",url:v}),y=function(){var e=(0,u.Z)(l().mark((function e(t){var r,o,i,a,u,s,c,d,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=t,r=t.domain,o=t.appId,i=t.url.pathname,a=t.requestOptions,e.next=4,n.getResponse({appId:o,url:"https://"+r+i},Object.assign({silent:!0},a));case 4:return u=e.sent,s=u.payload,c=u.headers,d=u.status,p=Tt(m,s,{inBrowser:!0,strictAppId:"true"===f.get("TRAMVAI_ROUTE_STRICT_APP_ID")}),e.abrupt("return",{status:d,headers:c,payload:s,route:p});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s&&s.length&&(y=ve().apply(void 0,Ot(o.Z,s))(y)),e.next=6,Promise.all([r(),i()]);case 6:return b=e.sent,E=Ot(a.Z,b,2),w=E[0],k=E[1],e.prev=10,e.next=13,y({domain:w,appId:k,url:v,shouldSetFallback:!0,requestOptions:xt});case 13:if(S=e.sent,R=S.route,A=S.status,p.debug({event:"loaded",route:R}),C=c&&m&&c.get(m.url.pathname,{appId:null==m?void 0:m.appId}),R||404!==A&&400!==A||!C||!te()(d).includes(v.pathname)&&!(null===(h=C.config)||void 0===h?void 0:h.useFallbackCacheIfNotFound)){e.next=20;break}throw new Error("404 Not Found для критичного роута - "+v+", возможны проблемы на стороне web-gateway.\nЕсли это ожидаемое поведение и страница действительно удалена, необходимо убрать роут из списка критичных.");case 20:return c&&R&&(null==m?void 0:m.shouldSetFallback)&&(p.debug({event:"fallback-set",request:m}),c.set(R,{appId:null!==(g=null==m?void 0:m.appId)&&void 0!==g?g:k})),e.abrupt("return",R);case 24:if(e.prev=24,e.t0=e.catch(10),_=!!c,N=c&&m&&c.has(m.url.pathname,{appId:null==m?void 0:m.appId}),p.error({event:"load-failed",message:"Ошибка загрузки роута "+m.url+" с web-gateway"+(N?", будет использован fallback кэш":"")+'.\nПричина ошибки будет указана в параметре "error", основные кейсы:\n- 500 ответы при падениях сервиса web-gateway\n- таймауты при проблемах с сетью\n- 404 ответы для критичных роутов',error:e.t0,request:m,hasFallback:N}),!N){e.next=32;break}return p.debug({event:"fallback-get",request:m}),e.abrupt("return",c.get(m.url.pathname,{appId:null==m?void 0:m.appId}));case 32:throw _&&p.error({event:"load-error",message:"Не найден fallback кэш после ошибки загрузки роута"+(m?" "+m.url:"")+" с web-gateway, нет возможности отрисовать страницу",error:e.t0}),e.t0;case 34:case"end":return e.stop()}}),e,null,[[10,24]])})));return function(t){return e.apply(this,arguments)}}()},deps:{logger:ne.Fp,responseManager:ie.r,pageEnrichment:{token:bt.xs,optional:!0},domainResolve:yt.xO,appIdResolve:yt.DG,envManager:z.vC,routeResolveExtend:{token:yt.eZ,optional:!0},routesFallback:{token:yt.c3,optional:!0},deprecatedTokens:{token:Pt,optional:!0},criticalRoutes:{token:yt.LM,optional:!0}}}),(0,i.J)({provide:yt.eZ,multi:!0,useFactory:function(e){var t=e.pageEnrichment,n=e.envManager;return function(e){return function(){var r=(0,u.Z)(l().mark((function r(o){var i,a,u,s;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=o.url,a=o.domain,u=o.appId,!i.query.previewToken){r.next=6;break}return r.next=4,t.getPreview({url:"https://"+a+i.pathname,appId:u,previewToken:i.query.previewToken},{cache:!1});case 4:return s=r.sent,r.abrupt("return",Object.assign({},s,{route:Tt(o,s.payload,{inBrowser:!0,strictAppId:"true"===n.get("TRAMVAI_ROUTE_STRICT_APP_ID")})}));case 6:return r.abrupt("return",e(o));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},deps:{pageEnrichment:{token:bt.xs,optional:!0},envManager:z.vC}}),(0,i.J)({provide:Y.S3,multi:!0,useFactory:function(e){var t=(0,e.logger)("file-system-pages:route:admin");return function(e){var n;if((0,Se.oJ)()&&e&&e.path&&e.config&&(e.config.migrateToFileSystemPageComponent||!e.config.pageComponent&&!e.config.bundle)){var r=(0,Se.nF)(e.path),o=(0,Se.rI)(r),i=null!==(n=e.config.pageComponent)&&void 0!==n?n:"pageDefault",a=o?r:i;return!o&&e.config.migrateToFileSystemPageComponent?t.error({event:"failed to resolve file-system page component",pageComponent:{expected:r,resolved:a},route:e}):t.debug({event:"resolve file-system page component",pageComponent:{expected:r,resolved:a},route:e}),Object.assign({},e,{config:Object.assign({},e.config,{pageComponent:a})})}return e}},deps:{logger:ne.Fp}}),(0,i.J)({provide:Y.S3,multi:!0,useFactory:function(e){var t=e.routeMigrations,n=te()(null!=t?t:[]);return function(e){var t=e.config;if(!t)return e;for(var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n,!0);!(r=o()).done;){var i=r.value,a=i.from,u=i.to;if(Mt()((function(e,n){return t[n]===e}),a))return Object.assign({},e,{config:Object.assign({},t,u)})}return e}},deps:{routeMigrations:{token:yt.de,optional:!0}}})],Dt=(0,r.J)({name:"TinkoffSpaRouterModule",imports:[ht],providers:Vt,extend:{forRoot:pt}})},34059:function(e,t,n){"use strict";n.d(t,{WA:function(){return v}});var r=n(80283),o=n(97570),i=n(29772),a=n(59999),u=n(80772),s=n(82571),c=n(37621),l=n(82342),f=n(32951),d=n(21789),p=n(92105),v=(0,r.Y)({providers:[(0,o.J)({provide:s.sQ,multi:!0,useValue:[{key:"APP_VERSION",optional:!0,dehydrate:!0},{key:"STATIST_CLIENT_URL",optional:!0,dehydrate:!0}]}),(0,o.J)({provide:d.E,useFactory:function(e){var t=e.appInfo,n=e.logger,r=e.envManager,o=e.enrich,i=function(e,t){var n;return{clientParameters:{client:e.appName,clientVersion:null!==(n=t.get("APP_VERSION"))&&void 0!==n?n:"1.0.0",ssoId:null},transportOptions:{endpointUrl:t.get("STATIST_CLIENT_URL")}}}(t,r),a=n({name:"statist:event",defaults:{remote:!0}}),u=new f.pM(i);return o&&(u=u.fork({enrich:o})),u.on("error",(function(e){0!==e.status&&a.error({event:"send-failed",error:e,status:e.status,response:e.response})})),u},deps:{appInfo:i.Qo,store:c.kR,logger:l.Fp,envManager:s.vC,enrich:(0,a.jt)(d.MS)}}),(0,o.J)({provide:d.se,useFactory:function(e){return e.statistClient},deps:{statistClient:d.E}}),(0,o.J)({provide:d.Kf,useFactory:function(e){return e.statistClient},deps:{statistClient:d.E}}),(0,o.J)({provide:d.nN,useValue:!0}),(0,o.J)({provide:u.Bi.init,useFactory:function(e){var t=e.store,n=e.statistClient,r=e.trackAndUpdateSsoIdFlag;return function(){if(r){var e=function(e){n.updateClientParameters({ssoId:e.ssoId||null})};t.subscribe(p.p,e),e(t.getState(p.p))}}},deps:{store:c.kR,statistClient:d.E,trackAndUpdateSsoIdFlag:d.nN}})]})(function(){function e(){}return e.forRoot=function(t){var n=t.trackAndUpdateSsoId,r=void 0===n||n,i=t.enrich,a=[];return a.push((0,o.J)({provide:d.nN,useValue:r})),i&&a.push((0,o.J)({provide:d.MS,useValue:i})),{mainModule:e,providers:a}},e}())},21789:function(e,t,n){"use strict";n.d(t,{E:function(){return o},Kf:function(){return a},MS:function(){return s},nN:function(){return u},se:function(){return i}});var r=n(59999),o=(0,r.V3)("STATIST_API_CLIENT"),i=(0,r.V3)("STATIST_EVENT_API_CLIENT"),a=(0,r.V3)("STATIST_METRIC_API_CLIENT"),u=(0,r.V3)("TRACK_AND_UPDATE_SSO_ID_FLAG"),s=(0,r.V3)("STATIST_ENRICH")},8254:function(e,t,n){"use strict";n.d(t,{n0:function(){return a}});var r=n(52723),o=n(87300),i=n.n(o);var a=function(e){var t=e.split("."),n=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r.Z,t,2),o=n[0],a=n[1],u=void 0===a?"":a;return o.slice(0,12)+i()(o.slice(12).length,"*")+"."+u}},23070:function(e,t,n){"use strict";var r=n(1953);Object.defineProperty(t,"__esModule",{value:!0});var o=n(90130),i=n(30873),a=n(44121),u=n(12052),s=n(71358),c=n(19328),l=n(66629);function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=f(i),p=f(c);t.CrossAppNavigateLoaderWrapper=function(){return function(e){return function(t){return function(e,t){var n=s.useDi(u.PUBSUB_TOKEN),i=a.useState(!1),c=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r,i,2),f=c[0],v=c[1];return a.useEffect((function(){var e=function(){return v(!1)};window.addEventListener("pageshow",e);var t=n.subscribe(l.NAVIGATE_WITH_HARD_RELOAD,(function(){v(!0)}));return function(){window.removeEventListener("pageshow",e),t()}}),[n]),o.jsx("div",{children:f?o.jsx("div",{className:""+p.default.crossAppNavigateLoader,children:o.jsx(d.default,{overlay:!0,semiTransparentBg:!1,fadeAnimation:"false",size:"xxl"})}):o.jsx(e,Object.assign({},t))})}(e,t)}}}},66629:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAVIGATE_WITH_HARD_RELOAD="NAVIGATE_WITH_HARD_RELOAD"},95221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80476),o=n(21526),i=n(8479),a=n(23070);t.SupCrossAppNavigateLoaderModule=function(){},t.SupCrossAppNavigateLoaderModule=r.__decorate([o.Module({providers:[o.provide({provide:i.LAYOUT_OPTIONS,multi:!0,useFactory:function(){return{wrappers:{layout:a.CrossAppNavigateLoaderWrapper()}}}})]})],t.SupCrossAppNavigateLoaderModule)},20719:function(e,t,n){"use strict";n(95221);var r=n(66629);t.$l=r.NAVIGATE_WITH_HARD_RELOAD},67570:function(e,t,n){"use strict";n.d(t,{Bv:function(){return o},X9:function(){return h},Yw:function(){return c},eW:function(){return i},g3:function(){return f},j5:function(){return s},lb:function(){return v},nM:function(){return u},q2:function(){return l},qJ:function(){return p},qq:function(){return d},rF:function(){return a}});var r=n(59999),o=(0,r.V3)("EVENTEA_TOKEN"),i=(0,r.V3)("EVENTEA_PROJECT_HANDLERS",{multi:!0}),a=(0,r.V3)("EVENTEA_ROUTING"),u=(0,r.V3)("EVENTEA_ERROR_HANDLERS"),s=(0,r.V3)("EVENTEA_DEFAULT_LOG_HANDLER"),c=(0,r.V3)("EVENTEA_STATIST_HANDLER"),l=(0,r.V3)("EVENTEA_DEFAULT_TRACKING_HANDLER"),f=(0,r.V3)("EVENTEA_TWT_DATA_HANDLER"),d=(0,r.V3)("EVENTEA_DEFAULT_EVENT_HANDLER",{multi:!0}),p=(0,r.V3)("EVENTEA_DEFAULT_DATA_HANDLER",{multi:!0}),v=(0,r.V3)("EVENTEA_CLIENT_LOADER_TIMEOUT"),h=(0,r.V3)("EVENTEA_PRELOAD_PROJECTS_SELECTOR")},20076:function(e,t,n){"use strict";n.d(t,{DG:function(){return o},LM:function(){return f},Q6:function(){return i},c3:function(){return c},de:function(){return s},eZ:function(){return u},vi:function(){return l},xO:function(){return a}});var r=n(59999),o=(0,r.V3)("router appIdResolve"),i=(0,r.V3)("router allAppsIdsResolve"),a=(0,r.V3)("router domainResolve"),u=(0,r.V3)("router routeResolveExtend",{multi:!0}),s=(0,r.V3)("router configMigration",{multi:!0}),c=(0,r.V3)("router fallback"),l=(0,r.V3)("router enableAutoDomainResolve"),f=(0,r.V3)("router criticalRoutesList",{multi:!0})},82318:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(59576);function o(e){var t,n=Object.assign(e.fn,((t={})[r.d]=e,t));return e.conditions||(e.conditions={}),n}},20745:function(e,t,n){"use strict";n.d(t,{H:function(){return o},J:function(){return i}});var r=n(59576);function o(e){var t,n,o=function(t,n,r){var o=new AbortController;return e.fn.apply({executeAction:t.executeAction,dispatch:t.dispatch,getState:t.getState,actionType:"standalone",abortController:o,abortSignal:o.signal,deps:r},n)};return Object.defineProperty(o,"name",{value:e.name,writable:!0,enumerable:!0,configurable:!0}),Object.assign(o,Object.assign({},e,((t={name:e.name,tramvaiActionVersion:2})[r.d]=Object.assign({},e,{conditions:null!==(n=e.conditions)&&void 0!==n?n:{}}),t)))}function i(e){return"tramvaiActionVersion"in e&&2===e.tramvaiActionVersion}},71341:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(58903),o=n(68989),i=n.n(o),a=n(56274),u=n.n(a),s=n(52141),c=n.n(s);var l=function e(t,n){return Array.isArray(t)&&Array.isArray(n)?i()(t,n):"object"==typeof t&&"object"==typeof n?u()(e,t,n):n},f=u()(l),d=function e(t){if(!t||!t.length)return{};var n=t.map((function(t){return f(e(t.presets),c()(["presets"],t))}));return 1===n.length?n[0]:f.apply(void 0,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r.Z,n))};function p(e){var t={};return e.presets&&(t=d(e.presets)),f(t,e)}},21533:function(e,t,n){"use strict";n.d(t,{g:function(){return h},r:function(){return g}});var r=n(45232),o=n(17935),i=n.n(o),a=n(67584),u=n(95738),s=n(50561),c=n(54499),l=n(56245),f=n(80283),d=n(29772),p=n(80772),v=n(82342),h=function(){function e(e){var t=this,n=e.name,r=e.modules,o=void 0===r?[]:r,i=e.bundles,f=void 0===i?{}:i,p=e.actions,v=void 0===p?[]:p,h=e.providers;this.di=(0,u.f)(),this.modulesToResolve=new Set,this.walkOfProviders(function(e,t,n,r){return[{provide:d.Qo,scope:a.s.SINGLETON,useValue:{appName:e}},{provide:d.om,scope:a.s.SINGLETON,useValue:t},{provide:d.I7,scope:a.s.SINGLETON,useValue:n,multi:!0},{provide:d.mJ,scope:a.s.SINGLETON,useValue:r}]}(n,f,v,o)),(0,s.l)(o).forEach((function(e){var n=(0,c.s)(e);t.modulesToResolve.add((0,l.W)(e)?e.mainModule:e),t.walkOfProviders(n.providers)})),h&&this.walkOfProviders(h)}var t=e.prototype;return t.initialization=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n="init"),window.__TRAMVAI_HTML_READY__||!window.__TRAMVAI_HTML_READY_PROMISE__){e.next=4;break}return e.next=4,Promise.race([window.__TRAMVAI_HTML_READY_PROMISE__,new Promise((function(e){"complete"===document.readyState?e():document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&e()}))}))]);case 4:if(r=this.di.get({token:v.Fp,optional:!0}),o=null==r?void 0:r("tramvai-core"),a=this.di.get({token:p.S9,optional:!0})){e.next=9;break}throw new Error("`COMMAND_LINE_RUNNER_TOKEN` is not defined, have you added `@tramvai/module-common` to your dependency list?");case 9:return null==o||o.warn({event:"tramvai-app-init",message:"Initializing. Run CommandLineRunner."}),e.next=12,a.run(t,n);case 12:return u=e.sent,null==o||o.warn({event:"tramvai-app-init",message:"CommandLineRunner executed successfully. Resolving modules."}),this.resolveModules(),null==o||o.warn({event:"tramvai-app-init",message:"Modules resolved successfully. Tramvai App initialized"}),e.abrupt("return",u);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.walkOfProviders=function(e){var t=this;e.forEach((function(e){t.di.register(e)}))},t.resolveModules=function(){var e=this;this.modulesToResolve.forEach((function(t){new t(e.resolveModuleDeps(t))}))},t.resolveModuleDeps=function(e){var t=e[f.e].deps;if(t)return this.di.getOfDeps(t)},e}();function g(e){var t;try{t=new h(e)}catch(e){throw e.appCreationError=!0,e}return t.initialization("client").then((function(){return t})).catch((function(e){throw e instanceof Error&&(e.appCreationError=!0),e}))}},21526:function(e,t,n){"use strict";n.r(t),n.d(t,{ACTIONS_LIST_TOKEN:function(){return u.I7},ACTION_PARAMETERS:function(){return u.dV},APP_INFO_TOKEN:function(){return u.Qo},App:function(){return r.g},BUNDLE_LIST_TOKEN:function(){return u.om},COMMAND_LINES_TOKEN:function(){return u.PR},COMMAND_LINE_RUNNER_TOKEN:function(){return u.S9},DI_TOKEN:function(){return s.Z},Deferred:function(){return E},IS_DI_CHILD_CONTAINER_TOKEN:function(){return c.w},MODULES_LIST_TOKEN:function(){return u.mJ},MODULE_PARAMETERS:function(){return l.e},Module:function(){return l.Y},Scope:function(){return f.s},TAPABLE_HOOK_FACTORY_TOKEN:function(){return u.jk},commandLineListTokens:function(){return u.Bi},createAction:function(){return i.P},createApp:function(){return r.r},createBundle:function(){return o.Z},createToken:function(){return d.V3},declareAction:function(){return a.H},declareModule:function(){return p.J},getModuleParameters:function(){return v.s},isExtendedModule:function(){return h.W},isTramvaiAction:function(){return a.J},optional:function(){return d.jt},provide:function(){return g.J},walkOfModules:function(){return m.l}});var r=n(21533),o=n(71341),i=n(82318),a=n(20745),u=n(29772),s=n(16842),c=n(80211),l=n(80283),f=n(67584),d=n(59999),p=n(66598),v=n(54499),h=n(56245),g=n(97570),m=n(50561),y=n(64805),b=n.n(y),E=function(){var e=this;this.status="pending",this.resolve=b(),this.reject=b(),this.promise=new Promise((function(t,n){e.resolve=function(n){"pending"===e.status&&(e.status="resolved",t(n))},e.reject=function(t){"pending"===e.status&&(e.status="rejected",n(t))}}))}},30988:function(e,t,n){"use strict";n.d(t,{rI:function(){return b},A6:function(){return m},IC:function(){return g},nW:function(){return y},oJ:function(){return u},CN:function(){return f},g2:function(){return l},il:function(){return c},Wr:function(){return d},kC:function(){return E},d3:function(){return s},lN:function(){return p},nF:function(){return h}});var r=n(58903),o=n(5203),i=n(42549),a={routes:{},pages:{"@/pages/AuthPage":(0,i.Vo)({chunkName:function(){return"@_pages_AuthPage"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_AuthPage").then(n.bind(n,70277))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 70277}}),"@/pages/ContextAuthDebug":(0,i.Vo)({chunkName:function(){return"@_pages_ContextAuthDebug"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_ContextAuthDebug").then(n.bind(n,43920))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 43920}}),"@/pages/MFPage":(0,i.Vo)({chunkName:function(){return"@_pages_MFPage"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,83314))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 83314}}),"@/pages/NotFound":(0,i.Vo)({chunkName:function(){return"@_pages_NotFound"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,24015))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 24015}}),"@/pages/WebPushDebug":(0,i.Vo)({chunkName:function(){return"@_pages_WebPushDebug"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_WebPushDebug").then(n.bind(n,94176))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 94176}}),"@/pages/auth/ErrorMessages/message":(0,i.Vo)({chunkName:function(){return"@_pages_auth_ErrorMessages_message"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_auth_ErrorMessages_message").then(n.bind(n,65739))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 65739}}),"@/pages/auth/authPage":(0,i.Vo)({chunkName:function(){return"@_pages_auth_authPage"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_auth_authPage").then(n.bind(n,68212))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 68212}}),"@/pages/webviewDebug/WebviewDebug":(0,i.Vo)({chunkName:function(){return"@_pages_webviewDebug_WebviewDebug"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,18175))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 18175}}),"@/pages/webviewDebug/components/SimpleButton":(0,i.Vo)({chunkName:function(){return"@_pages_webviewDebug_components_SimpleButton"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_webviewDebug_components_SimpleButton").then(n.bind(n,53903))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 53903}}),"@/pages/webviewDebug/components/TextareaWithButton":(0,i.Vo)({chunkName:function(){return"@_pages_webviewDebug_components_TextareaWithButton"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_webviewDebug_components_TextareaWithButton").then(n.bind(n,37828))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 37828}}),"@/pages/webviewDebug/components/WebviewDebugComponent":(0,i.Vo)({chunkName:function(){return"@_pages_webviewDebug_components_WebviewDebugComponent"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("components-WebviewDebugComponent").then(n.bind(n,13475))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 13475}}),"@/pages/webviewDebug/components/WebviewLink":(0,i.Vo)({chunkName:function(){return"@_pages_webviewDebug_components_WebviewLink"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return n.e("@_pages_webviewDebug_components_WebviewLink").then(n.bind(n,67150))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 67150}}),"@/pages/webviewPreload/WebviewPreload":(0,i.Vo)({chunkName:function(){return"@_pages_webviewPreload_WebviewPreload"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,21476))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 21476}}),"@/pages/webviewRedirect/WebviewRedirect":(0,i.Vo)({chunkName:function(){return"@_pages_webviewRedirect_WebviewRedirect"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,69297))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 69297}}),"@/pages/webviewRedirect/config":(0,i.Vo)({chunkName:function(){return"@_pages_webviewRedirect_config"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,76765))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 76765}}),"@/pages/webviewRedirect/utils/isTrustedUrl":(0,i.Vo)({chunkName:function(){return"@_pages_webviewRedirect_utils_isTrustedUrl"},requireSync:function(e){return n(this.resolve(e))},isReady:function(e){var t=this.resolve(e);return!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,83173))},requireAsync:function(e){return this.resolve(e),this.importAsync(e).then((function(e){return e}))},resolve:function(){return 83173}})},layouts:{},errorBoundaries:{},wildcards:{}};var u=function(){return!0},s=function(){return a.routes},c=function(){return Object.assign({},a.routes,a.pages)},l=function(){return a.layouts},f=function(){return a.errorBoundaries},d=function(){return a.wildcards},p=function(e){return u()&&!!e&&0===e.indexOf("@/")},v=function(e){return"/"+e.replace("@/false/","").replace(/\[(.+?)\]/g,":$1").replace(/index$/g,"")},h=function(e){var t=(0,o.am)(e).map((function(e){return e.startsWith(":")?"["+e.replace(":","")+"]":e}));return["@/pages"].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(r.Z,t),["index"]).filter(Boolean).join("/")},g=function(e){return e+"__layout"},m=function(e){return e+"__errorBoundary"},y=function(e){var t=e,n=v(e),r=l(),o=f(),i={name:t,path:n,config:{pageComponent:e}};return e in r&&(i.config.nestedLayoutComponent=g(e)),e in o&&(i.config.errorBoundaryComponent=m(e)),i},b=function(e){return!(!s()[e]&&!a.pages[e])},E=function(){var e=d();return Object.keys(e).map((function(e){return{name:e,path:(t=e,n=t.replace(/__wildcard$/g,""),v(n)+"*"),config:{pageComponent:e}};var t,n}))}},72784:function(e,t,n){"use strict";n.d(t,{s:function(){return o}});var r=n(35207),o=function(e){function t(t){var n;return(n=e.call(this)||this).httpClient=t,n}return(0,r.Z)(t,e),t.prototype.request=function(e){return this.httpClient.request(e)},t}(n(23302).I)},23302:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var r=function(){function e(){}var t=e.prototype;return t.get=function(e,t,n){return this.request(Object.assign({path:e},t,n,{method:"GET"}))},t.post=function(e,t,n){return this.request(Object.assign({path:e,requestType:"json"},t,n,{method:"POST"}))},t.put=function(e,t,n){return this.request(Object.assign({path:e,requestType:"json"},t,n,{method:"PUT"}))},t.delete=function(e,t,n){return this.request(Object.assign({path:e},t,n,{method:"DELETE"}))},e}()},97706:function(e,t,n){"use strict";n.d(t,{Ip:function(){return $}});var r=n(58903),o=n(80476),i=n(80283),a=n(97570),u=n(59999),s=n(29772),c=n(80772),l=n(82571),f=n(82342),d=n(37621),p=n(82912),v=n(83964),h=n(72478),g=n(10950),m=n(24679),y=n(92946),b=n(21789),E=n(24592),w=n(56873),k=n(38507),S=n.n(k),R=n(42353),A=n(58426),C=(0,R.y)("Set analytics config"),_=(0,A.L)("analytics",{}).on(C,(function(e,t){return Object.assign({},e,{config:t})})),N=[{provide:d.Ym,multi:!0,useValue:[_]}],T=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,N),[(0,a.J)({provide:c.Bi.resolvePageDeps,multi:!0,useFactory:function(e){var t=e.tracking,n=e.pageService;return function(){t.extend(S()("analytics",{},n.getMeta()))}},deps:{tracking:E.t3,pageService:w.Y9}}),(0,a.J)({provide:E.ZY,useFactory:function(e){var t=e.store.getState(_).config;return void 0===t?{}:t},deps:{store:d.kR}})]),O=n(45232),x=n(52723),I=n(17935),M=n.n(I),L=(0,u.V3)("DPP_SERVICE"),P=n(10776),V=n(29376),D=n(54211),F="userType",j={Visitor:0,"Client-Light":10,Applicant:20,"Client-Heavy":30},U=function(e){return j[e]||0},B=!1,Z=function(e,t){var n=t.tracking,r=t.logger,o=t.cookies,i=r("analytics:tracking:user-type"),a=o.get(F)||"Visitor",u=U(a),s=function(e){var t;switch(!0){case(0,V.o2)(e):t="Client-Light";break;case(0,V.C5)(e):t="Client-Heavy";break;default:t="Visitor"}return t}(e),c=U(s),l=a;c>=u&&(l=s,function(e,t,n){t.debug({message:"New user level",userType:n}),e.set({name:F,value:n,expires:63072e3,noSubdomains:!0})}(o,i,s)),n.extend({userType:l,userStatus:(0,V.QO)(e)?"Logged In":"Not Logged In"}),!B&&c>u&&(0,V.QO)(e)&&(B=!0,n.event("ibSuccess"))},J=n(92105),H=function(e,t){e.requested&&t.extend({userId:e.userId||"1111",ssoId:e.ssoId||null})};var q,G={essentials:"Essential",functional:"Functionality",analytics:"Statistics",marketing:"Marketing"},W=function(e,t){return Object.entries(e).reduce((function(e,n){var r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(x.Z,n,2),o=r[0],i=r[1];return e[t[G[o]]]=i,e}),{})},Y=[(0,a.J)({provide:c.Bi.init,useFactory:function(e){var t=e.store,n=e.tracking,r=e.cookies,o=e.logger;return function(){var e=t.getState(D.p);e&&(Z(e,{tracking:n,cookies:r,logger:o}),t.subscribe(D.p,(function(e){return Z(e,{tracking:n,cookies:r,logger:o})})))}},deps:{store:d.kR,tracking:E.t3,logger:f.Fp,cookies:P.T}}),(0,a.J)({provide:c.Bi.init,useFactory:function(e){var t=e.tracking,n=e.store;return function(){var e=n.getState(J.p);e&&(H(e,t),n.subscribe(J.p,(function(e){return H(e,t)})))}},deps:{store:d.kR,tracking:E.t3}}),(0,a.J)({provide:c.Bi.customerStart,deps:{dppService:{token:L,optional:!0},tracking:E.t3},useFactory:function(e){var t=e.dppService,n=e.tracking;return(0,O.Z)(M().mark((function e(){var r,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.callUtil("getConsentVault");case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return");case 7:o=function(){},o=t.subscribeToAccept(function(){var e=(0,O.Z)(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.update(W(t,r.categories),"keep"),o();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)})))}})],K={prefix:"platform/stable",integrity:{client:"",express:"",tramvai:""}};function Q(e,t,n,r){var o,i,a=t||"platform",u=(null===(i=null===(o=null==n?void 0:n.twt)||void 0===o?void 0:o.bundles)||void 0===i?void 0:i[a])||K,s=r.get("TWA_CDN_URL")||(null==u?void 0:u.baseUrl)||"https://cdn.tbank.ru/twa/";if(s){var c={id:"twtScriptClient",onload:"this.setAttribute('loaded', 'true');",onerror:"this.setAttribute('loaded', 'error');",crossorigin:"anonymous"};u.integrity&&u.integrity.client&&(c.integrity=u.integrity.client);var l=document.createElement("script");l.src=""+s+u.prefix+"/client.js";for(var f=0,d=Object.keys(c);f<d.length;f++){var p=d[f];l.setAttribute(p,c[p])}document.head.appendChild(l)}else e.error("twt cdn url is not provided")}function z(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var $=q=function(){function e(){}return e.forRoot=function(e){var t=e.atmContainer,n=e.ttm,r=e.twtBundle,o=e.mode,i=[];return t&&i.push({provide:E.cY,useValue:t}),n&&i.push({provide:E.Te,useValue:n}),r&&i.push({provide:E.SG,useValue:r}),o&&i.push({provide:E.ty,useValue:o}),{mainModule:q,providers:i}},e}();$=q=(0,o.__decorate)([(0,i.Y)({providers:[(0,a.J)({provide:l.sQ,multi:!0,useValue:[{key:"CONFIG_API",dehydrate:!1,validator:(0,m.v7)([m.CB,(0,m.pn)("/")])},{key:"APP_VERSION",optional:!0,dehydrate:!0}]}),(0,a.J)({provide:E.t3,useFactory:function(e){var t=e.logger,n=e.store,r=e.eventeaReady,o=e.appInfo,i=e.envManager,a=e.statistClient,u=n.getState(_).config,s=void 0===u?{}:u,c=window.twtConfig=window.twtConfig||{};c.logger=t("analytics:tracking"),c.disableUserInfo=!0;var l=(null==s?void 0:s.atm)||{},f=l.atmContainer,d=l.containers;f&&(c.atmContainerName=f),d&&(c.atmContainers=d);var p=null==s?void 0:s.ttm;p&&(c.ttm=p),a&&(c.statistClient=a);var m=new h.Z;m.resolve((0,g.A)());var y={appName:o.appName,appVersion:i.get("APP_VERSION"),proxyVersion:v.i8,tramvaiVersion:"4.41.96",eventeaReady:r};m.event=function(e,t){return m.callUtil("tramSendEvent",e,t,y),m};var b=m.extend;return m.extend=function(e){var t=b.call(m,e);return m.callUtil("tramPostData",e,y),t},m},deps:{logger:f.Fp,store:d.kR,eventeaReady:(0,u.jt)(E.dZ),envManager:l.vC,appInfo:s.Qo,statistClient:(0,u.jt)(b.E)}}),(0,a.J)({provide:"router afterNavigateHooks",multi:!0,useFactory:function(e){var t=e.tracking;return function(){t.updateLocation()}},deps:{tracking:E.t3}}),{provide:c.Bi.init,useFactory:function(e){var t=e.resourceLoader,n=e.logger,r=e.envManager,o=e.twtBundle,i=e.atmContainer,a=e.ttm,u=e.requestManager,s=e.statistClient,c=n("analytics:twt-loader");if("server"===function(e){var t=e.envManager,n=e.mode;switch(!0){case"client"===n:case"server"!==n&&"true"===t.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING"):return"client";default:return"server"}}(e)||"true"===u.getParsedUrl().query.disableAnalytics)return function(){return Promise.resolve()};function l(){return(l=(0,O.Z)(M().mark((function e(){var u,l,f,d;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getResources("analytics_config");case 3:l=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),l={},c.error(e.t0,"Failed to load analytics_config");case 10:f=window.twtConfig=window.twtConfig||{},i&&(f.atmContainerName=i),(d=null===(u=null==l?void 0:l.atm)||void 0===u?void 0:u.containers)&&(f.atmContainers=d),a&&(f.ttm=a),s&&(f.statistClient=s),Q(n,o,l,r);case 17:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return function(){(function(){return l.apply(this,arguments)})().catch((function(e){c.error(e,"Something wrong happened in analytics:registerScripts method")}))}},multi:!0,deps:{resourceLoader:y.l4,logger:f.Fp,envManager:l.vC,requestManager:p.G,atmContainer:(0,u.jt)(E.cY),ttm:(0,u.jt)(E.Te),twtBundle:(0,u.jt)(E.SG),mode:(0,u.jt)(E.ty),statistClient:(0,u.jt)(b.E)}}].concat(z(r.Z,T),z(r.Z,Y))})],$)},24592:function(e,t,n){"use strict";n.d(t,{SG:function(){return s},Te:function(){return u},ZY:function(){return i},cY:function(){return a},dZ:function(){return c},t3:function(){return o},ty:function(){return l}});var r=n(59999),o=(0,r.V3)("analytics"),i=(0,r.V3)("analyticsConfig"),a=(0,r.V3)("analyticsTagManagerContainer"),u=(0,r.V3)("analyticsTTM"),s=(0,r.V3)("analyticsTwtBundle"),c=(0,r.V3)("analyticsEventeaReady"),l=(0,r.V3)("ANALYTICS_MODE")},24679:function(e,t,n){"use strict";n.d(t,{CB:function(){return i},pn:function(){return a},v7:function(){return u}});var r=n(4216),o=n.n(r),i=function(e){if(!e)return"value should not be empty";var t;try{t=e.startsWith("/")?new URL(e,"http://localhost:3000"):new URL(e)}catch(e){return"URL is not valid"}return"http:"!==t.protocol&&"https:"!==t.protocol&&"Invalid protocol "+t.protocol},a=function(e){return function(t){return t?!!t.endsWith(e)||"value should ends with "+e:"value should not be empty"}},u=function(e){return function(t){return e.reduce((function(e,n){var r=n(t);return o()(r)?o()(e)?e+"; "+r:r:o()(e)?e:e&&r}),!0)}}},59372:function(e,t,n){"use strict";n.d(t,{B:function(){return S}});var r=n(80283),o=n(97570),i=n(67584),a=n(82571),u=n(92946),s=n(9056),c=n(55505),l=n(86707),f=n(60200),d=n(24679),p=n(38507),v=n.n(p),h=n(34770),g=n.n(h),m=n(60028),y=n.n(m),b={cacheTime:6e5,defaultTimeout:3e4},E=function(e){return Object.assign({},e,{payload:e.payload.response||e.payload.result||y()(["error","message"],e.payload)})},w=function(e){return Object.assign({},e,{payload:v()("value",{},E(e).payload)})},k=function(e){var t,n;return null!==(n=null===(t=e.request.path)||void 0===t?void 0:t.split("/")[0])&&void 0!==n?n:""},S=(0,r.Y)({providers:[(0,o.J)({provide:a.sQ,scope:i.s.SINGLETON,useFactory:function(e){var t=e.dehydrateConfigApi,n=e.dehydrateResourcesApi;return[{key:"CONFIG_API",validator:(0,d.v7)([d.CB,(0,d.pn)("/")]),dehydrate:null===t||t},{key:"RESOURCES_API",validator:(0,d.v7)([d.CB,(0,d.pn)("/")]),dehydrate:null===n||n},{key:"INTEGRATION_CONFIG_API",dehydrate:!1,validator:(0,d.v7)([d.CB,(0,d.pn)("/")])}]},deps:{dehydrateConfigApi:{token:"dehydrateConfigApi",optional:!0},dehydrateResourcesApi:{token:"dehydrateResourcesApi",optional:!0}},multi:!0}),(0,o.J)({provide:u.fg,useFactory:function(e){return(0,e.factory)({baseUrl:e.envManager.get("CONFIG_API"),circuitBreakerOptions:{failureThreshold:75,minimumFailureCount:10,isSystemError:function(){return!0},getKey:k}})},deps:{factory:u.O7,envManager:a.vC}}),(0,o.J)({provide:u.l4,useFactory:function(e){var t=(0,e.factory)({name:"admin-resources-api",baseUrl:e.envManager.get("RESOURCES_API"),modifyResponse:w});return new c.X({httpClient:t})},deps:{factory:u.O7,envManager:a.vC}}),(0,o.J)({provide:u.w1,useFactory:function(e){var t=(0,e.factory)({name:"admin-integration-api",baseUrl:e.envManager.get("INTEGRATION_CONFIG_API")});return new l.t({httpClient:t})},deps:{factory:u.O7,envManager:a.vC}}),(0,o.J)({provide:u.O7,useFactory:function(e){var t=e.factory,n=e.optionsFactory;return function(e){return t(Object.assign({},n(e),e))}},deps:{factory:s.FB,optionsFactory:u.DL}}),(0,o.J)({provide:u.DL,useValue:function(e){return Object.assign({},b,{name:"admin-api",validator:function(e){var t=e.request,n=e.response;if(!n||!n.response&&!n.result)return g()(n)?Object.assign(new Error,g()(n.error)?n.error:{path:t.path,response:n||null}):new Error(JSON.stringify(n))},errorValidator:function(e){e.request;var t=e.response,n=e.error;return(404===n.status||400===n.status)&&!(!t||!t.error)},errorModificator:function(e){var t=e.error;return Object.assign(t,{errorId:"CONFIG_REQUEST_ERROR"})},modifyResponse:E,enableCircuitBreaker:!0,circuitBreakerOptions:{failureThreshold:75,minimumFailureCount:10,isSystemError:function(){return!0}}})}}),{provide:u.xs,useFactory:function(e){var t=e.httpClient;return new f.P({httpClient:t})},deps:{httpClient:{token:u.fg,optional:!0}}}]})((function(){}))},95926:function(e,t,n){"use strict";n.d(t,{yi:function(){return re}});var r=n(80283),o=n(65554),i=n(21377),a=n(59372),u=n(97570),s=n(29772),c=n(82571),l=n(49076),f=n(45838),d=n(82912),p=n(92946),v=n(9056),h=n(10776),g=n(3566),m=n(69736),y=n(24679),b=n(67826),E=n.n(b),w=E()(["resultCode"],"SESSION_IS_ABSENT"),k=E()(["resultCode"],"INSUFFICIENT_PRIVILEGES"),S=n(84762),R=n.n(S),A=n(77125),C=n.n(A),_={expired:w,notAllowed:k,confirmation:R()([E()(["resultCode"],"WAITING_CONFIRMATION"),C()("confirmations"),C()("confirmationData")])},N=n(33926),T=n(34770),O=n.n(T),x=["query","method","serverGetSession","roles"],I=E()(["resultCode"],"OK"),M={defaultTimeout:6e4},L=function(e){return Object.assign({},e,{payload:e.payload.payload})},P=n(35207),V=n(63119),D=n.n(V),F=n(64805),j=n.n(F),U=n(23629),B=n.n(U),Z=n(72784),J=n(41537),H=n(26335),q=function(e){function t(t){var n,r=t.httpClient,o=t.context,i=t.hooks,a=t.apiOriginService,u=t.cookieManager,s=t.wuid,c=t.sessionCookieName;return(n=e.call(this,r)||this).context=o,n.hooks=i,n.customizeParams=D()((function(e){return e}),(0,J.c)(a),(0,H.J)({cookieManager:u,sessionCookieName:c}),function(e){return function(t){return t.withoutSession||t.withoutWuid?t:Object.assign({},t,{query:Object.assign({wuid:e},t.query)})}}(s)),n}return(0,P.Z)(t,e),t.prototype.request=function(e){var t=this,n=e.path,r=e.confirmHide,o=e.confirmSSR,i=void 0!==o&&o,a=e.confirmViewType,u=void 0===a?null:a,s=e.onConfirm,c=void 0===s?j():s;return this.httpClient.request(this.customizeParams(e)).then((function(e){return _.confirmation(e.payload)?t.hooks.runPromiseHooks("confirm",t.context)({viewType:u,onConfirmShowed:c,confirmHide:r,confirmSSR:i,data:e.payload}).then(B()("payload")):e})).catch((function(r){switch(!0){case"session_status"!==n&&_.expired(r.response):return t.hooks.runPromiseHooks("sessionAbsent",t.context)({sessionExpired:!0,useCache:!1});case _.notAllowed(r.response):return t.hooks.runPromiseHooks("notAllowed",t.context)(void 0).then((function(){throw new Error("Not Allowed")}));default:return t.hooks.runPromiseHooks("unknown",t.context,e)(r).then((function(){throw r}))}}))},t}(Z.s),G=n(60028),W=n.n(G),Y=n(28296),K=n.n(Y),Q=function(e){return K()("tinkoffApiOrigin",e)||W()(["properties","tinkoffApiOrigin"],e)},z=D()(Q,W()(["currentRoute","config"]),("router",function(e){return e.getState().router})),$=function(){function e(e){var t=this,n=e.context,r=e.defaultOrigin,o=e.decorators;this.getRawOrigin=function(e){return z(t.context)||e||t.defaultOrigin},this.getOrigin=function(e){var n=t.getRawOrigin(e);return t.decorators.reduce((function(e,t){return t(e)}),n)},this.context=n,this.defaultOrigin=r,this.decorators=null!=o?o:[]}var t=e.prototype;return t.get=function(){return this.getOrigin()},t.getWhen=function(e){var t=e.requestOrigin;return this.getOrigin(t)},e}(),X=(0,r.Y)({providers:[(0,u.J)({provide:c.sQ,useValue:[{key:"TINKOFF_API",validator:(0,y.v7)([y.CB,(0,y.pn)("/")])}],multi:!0}),(0,u.J)({provide:"defaultOrigin",useValue:"web,ib5,platform"}),(0,u.J)({provide:p.JS,useFactory:function(e){var t=e.context,n=e.defaultOrigin,r=e.decorators;return new $({context:t,defaultOrigin:n,decorators:r})},deps:{context:l.l,defaultOrigin:"defaultOrigin",decorators:{optional:!0,token:p.Tx}}}),(0,u.J)({provide:p.JB,useFactory:function(e){var t=e.factory,n=e.envManager,r=e.appInfo,o=e.context,i=e.hooks,a=e.apiOriginService,u=e.cookieManager,s=e.wuid,c=e.sessionCookieName,l=t({name:"tinkoff-api",baseUrl:n.get("TINKOFF_API"),disableCache:!0,query:{appName:r.appName,appVersion:n.get("APP_VERSION")},modifyResponse:function(e){return _.confirmation(e.payload)?e:Object.assign({},e,{payload:e.payload.payload})}},{isResponseValid:function(e){return I(e)||_.confirmation(e)}});return new q({httpClient:l,context:o,hooks:i,apiOriginService:a,cookieManager:u,wuid:s,sessionCookieName:c})},deps:{factory:p.iu,envManager:c.vC,appInfo:s.Qo,hooks:f.v,requestManager:d.G,context:l.l,apiOriginService:p.JS,cookieManager:h.T,wuid:g.$,sessionCookieName:{token:m.sV,optional:!0},headersList:{token:v.s,optional:!0}}}),(0,u.J)({provide:p.iu,useFactory:function(e){var t=e.factory,n=e.optionsFactory;return function(e,r){return t(Object.assign({},n(e,r),e))}},deps:{factory:v.FB,optionsFactory:p.Z1}}),(0,u.J)({provide:p.Z1,useValue:function(e,t){var n=e.modifyResponse,r=void 0===n?L:n,o=e.disableCache,i=(void 0===t?{}:t).isResponseValid,a=void 0===i?I:i;return Object.assign({name:"common-api",validator:function(e){var t=e.request,n=e.response;if(!a(n))return O()(n)?Object.assign(new Error,O()(n.error)?n.error:{path:t.path,response:n||null}):new Error(JSON.stringify(n))},errorModificator:function(e){var t=e.error;return Object.assign(t,{errorId:"COMMON_API_REQUEST_ERROR"})},modifyRequest:function(e){var t=e.query,n=void 0===t?{}:t,r=e.method,i=void 0===r?"GET":r,a=(e.serverGetSession,e.roles),u=(0,N.Z)(e,x),s=n.sessionid+JSON.stringify(a),c=Object.assign({method:i},u,{query:n,additionalCacheKey:s});if(!o){var l=c.cache,f=void 0===l?"POST"!==i:l,d=c.cacheForce;c.cache=f,c.cacheForce=d}return c},modifyResponse:r,enableCircuitBreaker:!0},M)}}),(0,u.J)({provide:p.Tx,multi:!0,useFactory:function(e){var t=e.context;return function(e){var n,r;if(!(null===(r=null===(n=t.getState())||void 0===n?void 0:n.session)||void 0===r?void 0:r.isJunior))return e;var o=e.split(",");return o.push("junior"),o.filter(Boolean).join(",")}},deps:{context:l.l}})]})((function(){})),ee=(0,r.Y)({imports:[o.Gi],providers:[{provide:v.s,multi:!0,useValue:["x-b3-traceid","x-b3-spanid","x-b3-parentspanid","x-b3-sampled","x-b3-flags","x-ot-span-context"]}]})((function(){})),te=n(67584),ne=(0,r.Y)({imports:[],providers:[(0,u.J)({provide:v.FF,scope:te.s.SINGLETON,useValue:{modifyError:function(e){if(e.originalMessage)return e;var t=e.message,n=function(e){return!0===(/network timeout at/i.test(e)||/request timed out/i.test(e))?"Время истекло. Обновите страницу и повторите попытку.":"Что-то пошло не так. Мы уже решаем проблему. Попробуйте снова через несколько минут."}(t);return Object.assign(e,{message:n,originalMessage:t})}}})]})((function(){})),re=(0,r.Y)({imports:[o.Gi,ee,i.J,ne,a.B,X],providers:[]})((function(){}))},41537:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var r=function(e){return function(t){var n=e.getWhen({requestOrigin:t.origin});return Object.assign({},t,{query:Object.assign({origin:n},t.query)})}}},26335:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r=function(e){var t=e.cookieManager,n=e.sessionCookieName;return function(e){return e.withoutSession?e:Object.assign({},e,{query:Object.assign({sessionid:t.get(n||"psid")},e.query)})}}},54211:function(e,t,n){"use strict";n.d(t,{b:function(){return u},p:function(){return c}});var r,o=n(42353),i=n(58426),a=n(29376),u=(0,o.y)("UPDATE_ROLES"),s=((r={})[a.$d]=(0,a.Me)(),r),c=(0,i.L)("roles",s).on(u,(function(e,t){return t}))},92105:function(e,t,n){"use strict";n.d(t,{C:function(){return i},p:function(){return a}});var r=n(42353),o=n(58426),i=(0,r.y)("UPDATE_SESSION"),a=(0,o.L)("session",{}).on(i,(function(e,t){return t}))},64479:function(e,t,n){"use strict";n.d(t,{sC:function(){return p}});var r=n(80476),o=n(80283),i=n(8479),a=n(44121),u=n(54143),s=n(81935),c=n(59999),l=n(44488),f=n(31536),d=function(e){var t;return!(null===(t=e.navigateState)||void 0===t?void 0:t.disableAutoscroll)},p=function(){};p=(0,r.__decorate)([(0,o.Y)({providers:[{provide:i.LAYOUT_OPTIONS,useValue:{components:{autoscroll:function(){var e,t=(0,l.x)((0,c.jt)(f.y))||"smooth",n=null!==(e=(0,l.x)((0,c.jt)(f.M)))&&void 0!==e?e:0,r=(0,u.y)(),o=(0,s.w)(),i=(0,a.useRef)(o),p=(0,a.useRef)(!!i.current.hash&&d(r));return(0,a.useEffect)((function(){var e;if(o.pathname===i.current.pathname&&o.hash===i.current.hash||(i.current=o,p.current=d(r)),p.current){var a=(null===(e=null==r?void 0:r.navigateState)||void 0===e?void 0:e.autoscrollBehavior)||t;o.hash?p.current=!function(e,t){var n;try{return null===(n=document.querySelector(e))||void 0===n||n.scrollIntoView({behavior:t}),!0}catch(e){return!1}}(o.hash,a):(function(e,t){try{window.scrollTo({top:t,left:0,behavior:e})}catch(e){window.scrollTo(0,t)}}(a,n),p.current=!1)}})),null}}},multi:!0}]})],p)},31536:function(e,t,n){"use strict";n.d(t,{M:function(){return i},y:function(){return o}});var r=n(59999),o=(0,r.V3)("autoscroll behavior"),i=(0,r.V3)("autoscroll scroll top")},36252:function(e,t,n){"use strict";n.d(t,{pc:function(){return i}});var r=n(80476),o=n(80283),i=function(){};i=(0,r.__decorate)([(0,o.Y)({providers:[]})],i)},48482:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var r=(0,n(59999).V3)("noJsWarning")},38518:function(e,t,n){"use strict";n.d(t,{pY:function(){return R}});var r=n(66598),o=n(58903),i=n(97570),a=n(80772),u=n(49076),s=n(37621),c=n(10776),l=n(27714),f=n.n(l),d=n(42353),p=n(58426),v=(0,d.y)("setMedia"),h=(0,p.L)("media",{height:0,width:0,isTouch:!1,retina:!1,synchronized:!1,displayMode:"unknown"}).on(v,(function(e,t){return Object.assign({},e,t)})),g=window.requestIdleCallback||function(e){return window.setTimeout(e,1)},m=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),y=window.matchMedia("(display-mode: standalone)").matches?"standalone":window.matchMedia("(display-mode: browser)").matches?"browser":"unknown",b=n(33464),E=n(66824),w=n(82571),k=[(0,i.J)({provide:s.Ym,multi:!0,useValue:[E.c,h]}),(0,i.J)({provide:w.sQ,useValue:[{key:"TRAMVAI_FORCE_CLIENT_SIDE_RENDERING",optional:!0}]})],S=[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,k),[(0,i.J)({provide:a.Bi.clear,multi:!0,useFactory:function(e){var t=e.context,n=e.cookieManager;return function(){var e=function(){var e={width:window.innerWidth,height:window.innerHeight,isTouch:m,displayMode:y,retina:window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches};return n.set({name:"mediaInfo",value:JSON.stringify(e)}),g((function(){return t.dispatch(v(Object.assign({},e,{supposed:!1})))}))},r=f()(300,e);return window.addEventListener("orientationchange",r),window.addEventListener("resize",r),e()}},deps:{context:u.l,cookieManager:c.T}}),(0,i.J)({provide:b.N,useFactory:function(e){return e.store.getState(E.c)},deps:{store:s.kR}})]),R=(0,r.J)({name:"ClientHintsModule",providers:S})},86927:function(e,t){"use strict";t.S="mediaInfo"},66824:function(e,t,n){"use strict";n.d(t,{X:function(){return i},c:function(){return a}});var r=n(42353),o=n(58426),i=(0,r.y)("setUserAgent"),a=(0,o.L)("userAgent",null).on(i,(function(e,t){return t}))},33464:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=(0,n(59999).V3)("userAgent")},7795:function(e,t,n){"use strict";n.d(t,{e:function(){return Xt}});var r=n(33926),o=n(58903),i=n(80476),a=n(49103),u=n.n(a),s=n(80283),c=n(97570),l=n(67584),f=n(29772),d=n(16842),p=n(82571),v=n(37621),h=function(){function e(){this.parameters={}}var t=e.prototype;return t.get=function(e){return this.parameters[e]},t.getInt=function(e,t){var n=Number(e in this.parameters?this.parameters[e]:t);return Number.isFinite(n)?n:t},t.getAll=function(){return this.parameters},t.update=function(e){this.parameters=Object.assign(this.parameters,e)},t.clientUsed=function(){return this.getAll()},t.updateClientUsed=function(e){this.update(e)},e}(),g=n(58426),m=(0,g.L)("environment",{}),y=function(){};y=(0,i.__decorate)([(0,s.Y)({providers:[{provide:p.vC,useFactory:function(e){var t=e.store,n=new h;return n.update(t.getState(m)),n},scope:l.s.SINGLETON,deps:{store:v.kR}},{provide:v.Ym,useValue:m,multi:!0}]})],y);var b=n(38518),E=n(33464),w=function(){function e(e){void 0===e&&(e={}),this.defaults=e}var t=e.prototype;return t.get=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n];if(!r)break;var o=r.indexOf("=");o=o<0?r.length:o;var i=r.slice(0,o).replace(/^\s+/,""),a=r.slice(o+1),u=void 0;try{u=decodeURIComponent(i)}catch(e){console.warn("Decode cookie name error",e)}if(u===e||i===e)try{return decodeURIComponent(a)}catch(e){return console.warn("Decode cookie value error",e),a}}},t.set=function(e,t,n){if(e){var r=function(e,t){var n,r,o,i,a;return void 0===e&&(e={}),void 0===t&&(t={}),{expires:e.expires||t.expires,domain:e.domain||t.domain,path:null!==(r=null!==(n=e.path)&&void 0!==n?n:t.path)&&void 0!==r?r:"/",secure:null!==(o=e.secure)&&void 0!==o?o:t.secure,httpOnly:null!==(i=e.httpOnly)&&void 0!==i?i:t.httpOnly,sameSite:null!==(a=e.sameSite)&&void 0!==a?a:t.sameSite}}(n,this.defaults),o=r.domain,i=r.path,a=r.expires,u=r.secure,s=r.httpOnly,c=r.sameSite,l=function(e){return e?new Date("number"==typeof e?(new Date).getTime()+864e5*e:e):null}(a),f=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29"),d=("string"==typeof t?t:"").replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent),p=l&&l.getTime()>=0?";expires="+l.toUTCString():"",v=o?";domain="+o:"",h=i?";path="+i:"",g=u?";secure":"",m=s?";httponly":"",y=c?";samesite="+c:"";document.cookie=f+"="+d+p+v+h+g+m+y}},t.erase=function(e,t){void 0===t&&(t={}),this.set(e,"",{expires:-1,domain:t.domain,path:t.path,secure:!1,httpOnly:!1})},t.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var n=t.pop();if(!n)break;var r=n.indexOf("=");r=r<0?n.length:r;var o=n.slice(0,r).replace(/^\s+/,""),i=n.slice(r+1),a=void 0,u=void 0;try{a=decodeURIComponent(o)}catch(e){console.warn("Decode cookie name error",e)}try{u=decodeURIComponent(i)}catch(e){console.warn("Decode cookie value error",e)}e[null!=a?a:o]=null!=u?u:i}return e},e}(),k=["sameSite","noSubdomains"],S=/^(?:::(?:ffff:(0:)?)?)?(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,R=/^([0-9a-fA-F]{1,4}:){1,4}:(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,A=function(e){if(e)return new Date("number"==typeof e?+new Date+1e3*e:e)},C=["name","value"],_=function(){function e(){this.cache=Object.create(null)}var t=e.prototype;return t.get=function(e){return this.cache[e]||void 0},t.set=function(e,t){this.cache[e]=t},t.erase=function(e){delete this.cache[e]},t.all=function(){return this.cache},e}(),N=function(){function e(e){var t=e.cookieOptions,n=void 0===t?{}:t,r=e.userAgent,o="https:"===window.location.protocol,i=Object.assign({sameSite:r.sameSiteNoneCompatible&&o?"none":"lax",secure:o},n);this.cookies=function(e){void 0===e&&(e=!1);var t="testcookiesenabled=",n=e?t+"; SameSite=None; Secure":t;return document.cookie=n,document.cookie.indexOf(t)>-1&&(document.cookie=n+"; expires=Thu, 01 Jan 1970 00:00:01 GMT",!0)}("none"===i.sameSite)?new w(i):new _,this.userAgent=r}var t=e.prototype;return t.get=function(e){return this.cookies.get(e)||void 0},t.set=function(e){var t=e.name,n=e.value,o=(0,r.Z)(e,C);this.cookies.set(t,n,function(e,t){var n,o=e.userAgent.sameSiteNoneCompatible,i=e.defaultHost,a=e.secureProtocol,u=t.sameSite,s=t.noSubdomains,c=(0,r.Z)(t,k);return Object.assign({},c,"none"!==u||o&&a?{sameSite:u}:{},a&&"none"===u&&o?{secure:!0}:{},{expires:A(c.expires),domain:s?(n=c.domain||i,function(e){return S.test(e)||R.test(e)}(n)?n:function(e){return e.replace(/:\d+$/,"")}(n.indexOf("localhost")>=0?n:"."+n.split(".").slice(-2).join("."))):c.domain})}({userAgent:this.userAgent,defaultHost:window.location.hostname,secureProtocol:"https:"===window.location.protocol},o))},t.all=function(){return this.cookies.all()},t.remove=function(e,t){return this.cookies.erase(e,t)},e}(),T=n(10776),O=function(){};O=(0,i.__decorate)([(0,s.Y)({imports:[b.pY],providers:[(0,c.J)({provide:T.T,useClass:N,scope:l.s.SINGLETON,deps:{cookieOptions:{token:"temporary cookieOptions",optional:!0},userAgent:E.N}})]})],O);var x=n(48945),I=n(59999),M=n(82342);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=(0,x.createLoggerFactory)({name:"",key:"tramvai",reporters:[new x.BrowserReporter]}),V=function(){};V=(0,i.__decorate)([(0,s.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return L(t,r)}return e(t,n)}(o.Z,[]),[(0,c.J)({provide:M.Fp,useFactory:function(e){var t=e.loggerInitHooks;if(t)for(var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t,!0);!(n=r()).done;)(0,n.value)(P);return P},deps:{loggerInitHooks:{token:M.J0,multi:!0,optional:!0}}}),(0,c.J)({provide:M.yV,scope:l.s.SINGLETON,useValue:new Map}),(0,c.J)({provide:M.J0,multi:!0,useFactory:function(e){var t=e.remoteReporter;return function(e){t&&e.addReporter(t)}},deps:{remoteReporter:(0,I.jt)(M.DV)}})])})],V);var D=n(56003),F=n(83005),j=n(49076),U=n(17173),B=n(10112),Z=n(79436),J=n.n(Z),H=n(71341),q=n(42549),G=n(30988),W="__default",Y=function(){function e(e){var t=e.bundleList,n=e.componentRegistry,r=e.logger;if(this.bundles=t,this.componentRegistry=n,(0,G.oJ)()){var o=r("file-system-pages:bundle-manager"),i=(0,G.il)(),a=(0,G.g2)(),u=(0,G.CN)(),s=(0,G.Wr)(),c=function(e,t){return Object.keys(e).reduce((function(n,r){return n[t(r)]=e[r],n}),{})},l=(0,H.Z)({name:W,components:Object.assign({},c(a,G.IC),c(u,G.A6),c(s,J()),i)});for(var f in this.bundles[W]=function(){return Promise.resolve({default:l})},l.components)this.componentRegistry.add(f,l.components[f],W);o.debug({event:"create default bundle with file-system pages",components:Object.keys(i)})}else this.bundles[W]=function(){return Promise.resolve({default:(0,H.Z)({name:W,components:{}})})}}var t=e.prototype;return t.get=function(e,t){return(0,G.lN)(t)&&(e=W),this.loadBundle(e,t).then((function(e){return e.default}))},t.has=function(e,t){return(0,G.lN)(t)&&(e=W),!!this.bundles[e]},t.loadBundle=function(e,t){var n=this;return this.has(e,t)?this.bundles[e]().catch((function(t){return(0,q.gm)(t,n.bundles[e])})):Promise.reject(new Error('Bundle "'+e+'" not found'))},e}(),K=n(33057),Q=n.n(K),z=n(30353),$=n.n(z);var X="__default",ee=function(){function e(e){var t,n=(void 0===e?{}:e).componentList;this.components=((t={})[X]=Object.assign.apply(Object,[{}].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(o.Z,$()(null!=n?n:[])))),t)}var t=e.prototype;return t.add=function(e,t,n){void 0===n&&(n=X);var r=this.components[n]||{};r[e]=t,this.components[n]=r},t.get=function(e,t){return void 0===t&&(t=X),(this.components[t]||{})[e]||this.components[X][e]},t.getComponentParam=function(e,t,n,r){return Q()([e],t,this.get(n,r))},e}(),te=(0,I.V3)("fastify request"),ne=(0,I.V3)("fastify response"),re=(0,I.V3)("tramvai server response stream"),oe=(0,I.V3)("tramvai server response task manager"),ie=(l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,n(42353)),ae=(0,ie.y)("setRequest"),ue=(0,g.L)("requestManager",{}).on(ae,(function(e,t){return t})),se=n(82912),ce=n(78047),le=function(){function e(e){var t=e.request;this.request=t||{},this.url=window.location.href}var t=e.prototype;return t.getBody=function(){return this.request.body},t.getUrl=function(){return this.url},t.getParsedUrl=function(){return this.parsedUrl||(this.parsedUrl=(0,ce.Qc)(this.url)),this.parsedUrl},t.getMethod=function(){return this.request.method},t.getHeader=function(e){var t;return null===(t=this.request.headers)||void 0===t?void 0:t[e]},t.getHeaders=function(){return this.request.headers},t.getCookie=function(e){return this.request.cookies[e]},t.getCookies=function(){return this.request.cookies},t.getClientIp=function(){var e,t;return this.getHeader("x-real-ip")||(null===(t=null===(e=this.request)||void 0===e?void 0:e.socket)||void 0===t?void 0:t.remoteAddress)||""},t.getHost=function(){return window.location.host},e}(),fe=[(0,c.J)({provide:se.G,scope:l.s.REQUEST,useClass:le,deps:{request:te}}),(0,c.J)({provide:v.Ym,multi:!0,useValue:ue})],de=function(){};de=(0,i.__decorate)([(0,s.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,fe),[(0,c.J)({provide:te,useFactory:function(e){var t=e.store.getState(ue);return Object.assign({},t,{headers:Object.assign({},null==t?void 0:t.headers,{"user-agent":navigator.userAgent,cookie:document.cookie})})},deps:{store:v.kR}})])})],de);var pe=n(80858),ve=n(92877),he=n.n(ve),ge=n(53170),me=n.n(ge),ye=function(){function e(){this.body="",this.headers={},this.cookies={},this.status=200}var t=e.prototype;return t.getBody=function(){return this.body},t.setBody=function(e){this.body=e},t.getHeader=function(e){return"set-cookie"===e?me()(this.cookies):this.headers[e]},t.getHeaders=function(){return he()(this.cookies)?this.headers:Object.assign({},this.headers,{"Set-Cookie":me()(this.cookies)})},t.setHeader=function(e,t){this.headers[e]=t},t.getCookie=function(e){return this.cookies[e]},t.getCookies=function(){return this.cookies},t.setCookie=function(e,t){this.cookies[e]=t},t.setStatus=function(e){this.status=e},t.getStatus=function(){return this.status},e}(),be=[(0,c.J)({provide:pe.r,scope:l.s.REQUEST,useClass:ye})],Ee=function(){};Ee=(0,i.__decorate)([(0,s.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,be),[(0,c.J)({provide:ne,useValue:{}})])})],Ee);var we=n(65641),ke=n(35207),Se=n(63119),Re=n.n(Se),Ae=function(e,t){e.on("change",t),t()},Ce=n(24069);var _e=function(e,t){return"string"==typeof e?{payload:t,type:e,error:!1}:e},Ne=function(e){function t(t,n,r,o){var i;return(i=e.call(this)||this).applyDispatch=function(e){var t=i.dispatcher.handlers[e.type]||[];if(!t.length){if(!e.store)return e.payload;i.registerStore(e.store),t=i.dispatcher.handlers[e.type]||[]}return i.applyHandlers(e,t),e.payload},i.dispatcher=t,i.storeInstances={},i.storeUnsubscribeCallbacks={},i.context=n,i.dispatcherInterface={getContext:function(){return i.context},getStore:i.getStore.bind((0,we.Z)(i))},i.rehydratedStoreState={},i.fullState={},r&&i.rehydrate(r),(null==o?void 0:o.length)&&(i.applyDispatch=i.applyMiddlewares(o)),Object.keys(i.dispatcher.stores).forEach((function(e){i.getStore(e)})),i}(0,ke.Z)(t,e);var n=t.prototype;return n.applyMiddlewares=function(e){var t=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},n={getState:this.getState.bind(this),subscribe:this.subscribe.bind(this),dispatch:function(){return t.apply(void 0,arguments)}};return t=Re().apply(void 0,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(o.Z,e.map((function(e){return e(n)}))))(this.applyDispatch)},n.storeSubscribe=function(e,t){var n=this;if(!this.storeUnsubscribeCallbacks[e]){var r=function(){var r,o=t.getState();o!==n.fullState[e]&&(n.fullState=Object.assign({},n.fullState,((r={})[e]=o,r)),n.emit("change"))};Ae(t,r),this.storeUnsubscribeCallbacks[e]=function(){t.off("change",r)}}},n.getStore=function(e){var t,n=this,r=!1;"object"==typeof e?(t=e.store,r=e.optional):t=e;var o=this.dispatcher.getStoreName(t);if(!this.storeInstances[o]){var i=this.dispatcher.stores[o];if(!i){if("function"!=typeof t){if(r)return null;throw new Error("Store "+o+" was not registered.")}this.dispatcher.registerStore(t),i=t}var a=new i(this.dispatcherInterface);if(this.storeInstances[o]=a,this.rehydratedStoreState&&this.rehydratedStoreState[o]){var u=this.rehydratedStoreState[o];a.rehydrate&&a.rehydrate(u),this.rehydratedStoreState[o]=null}this.storeSubscribe(o,a),i.dependencies&&i.dependencies.forEach((function(e){var t=n.getStore(e);Ae(t,(function(){a.emit("change")}))}))}return this.storeInstances[o]},n.dispatch=function(e,t){if(!e)throw new Error("eventOrType parameter "+e+" is invalid.");var n=_e(e,t);return this.applyDispatch(n)},n.applyHandlers=function(e,t){for(var n=this,r={},o=function(e){if(!r[e.name]){var t=n.getStore(e.name);t&&("function"==typeof e.handler?r[e.name]=e.handler.bind(t):r[e.name]=t[e.handler].bind(t))}},i=t.length,a=0;a<i;a++)o(t[a]);return function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r],i=t[o];if(!i)throw new Error(o+" does not have a handler for action "+e.type);i(e.payload,e.type)}}(e,r)},n.dehydrate=function(){for(var e={},t=Object.keys(this.storeInstances),n=0;n<t.length;n++){var r=t[n],o=this.storeInstances[r].dehydrate();void 0!==o&&(e[r]=o)}return{stores:e}},n.rehydrate=function(e){if(e.stores)for(var t=Object.keys(e.stores),n=0;n<t.length;n++){var r=t[n];this.rehydratedStoreState[r]=e.stores[r]}},n.subscribe=function(){var e=this;if("storeName"in(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=this.getStore(t),o=function(){var r=e.getState(t);n(r)};return r.on("change",o),function(){r.off("change",o)}}var i=arguments.length<=0?void 0:arguments[0],a=function(){var t=e.getState();i(t)};return this.on("change",a),function(){e.off("change",a)}},n.getState=function(e){return e?this.fullState[e.storeName]:this.fullState},n.setContext=function(e){this.context=e},n.hasStore=function(e){return e.storeName in this.storeInstances&&this.dispatcher.hasStore(e)},n.registerStore=function(e){this.dispatcher.registerStore(e),this.getStore(e)},n.unregisterStore=function(e){var t=e.storeName;this.dispatcher.unregisterStore(e),this.storeUnsubscribeCallbacks[t](),delete this.storeUnsubscribeCallbacks[t],delete this.rehydratedStoreState[t],delete this.storeInstances[t]},t}(Ce.Z),Te=n(71533),Oe=function(e){var t=this,n=e.di,r=e.dispatcherContext,o=e.pubsub,i=e.store;this.executeAction=function(e,n){return t.di.get(Te.R$).run(e,n)},this.dispatch=function(e,n){return new Promise((function(r,o){try{r(t.store.dispatch(_e(e,n)))}catch(e){o(e)}}))},this.dispatchWith=function(e,n){return"function"==typeof e?function(){return t.dispatch(e.apply(void 0,arguments),n)}:function(n){return t.dispatch(e,n)}},this.getStore=function(e){return t.dispatcher.getStore(e)},this.dehydrate=function(){return{dispatcher:t.dispatcher.dehydrate()}},this.getState=function(){return t.store.getState(arguments.length<=0?void 0:arguments[0])},this.subscribe=function(){return t.store.subscribe(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])},this.hasStore=function(e){return t.dispatcher.hasStore(e)},this.registerStore=function(e){return t.dispatcher.registerStore(e)},this.unregisterStore=function(e){return t.dispatcher.unregisterStore(e)},this.store=i,this.dispatcher=r,this.dispatcher.setContext(this),this.di=n,this.pubsub=o},xe=n(80772),Ie=n(78377),Me=n(45232),Le=n(17935),Pe=n.n(Le),Ve=n(46478),De=n(40186);function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je=function(){function e(e){var t=e.lines,n=e.rootDi,r=e.logger,o=e.executionContextManager,i=e.executionEndHandlers;this.executionContextByDi=new WeakMap,this.abortControllerByDi=new WeakMap,this.lines=t,this.rootDi=n,this.log=r("command:command-line-runner"),this.executionContextManager=o,this.executionEndHandlers=i}var t=e.prototype;return t.run=function(e,t,n,r,o){var i=this,a=null!=r?r:this.resolveDi(e,t,this.rootDi,n),u=a.get({token:B.mj,optional:!0});this.log.debug({event:"command-run",type:e,status:t});var s={};return a.register({provide:Ie.x,useValue:s}),this.lines[e][t].reduce((function(e,t){return e.then((function(){var e=t.toString();return s[e]={start:performance.now()},Promise.resolve().then((function(){return i.executionContextManager.withContext(u,"command-line:"+e,function(){var e=(0,Me.Z)(Pe().mark((function e(n,r){return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.executionContextByDi.set(a,n),i.abortControllerByDi.set(a,r),e.next=4,i.createLineChain(a,t);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})).finally((function(){s[e].end=performance.now()}))}))}),Promise.resolve()).finally((function(){if(i.executionContextByDi.delete(a),i.abortControllerByDi.delete(a),i.executionEndHandlers)for(var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i.executionEndHandlers,!0);!(n=r()).done;)(0,n.value)(a,e,t,s,o)})).then((function(){return a}))},t.resolveDi=function(e,t,n,r){var o=n;return"customer"===t&&"client"!==e&&(o=(0,De.H)(o)),r&&r.forEach((function(e){return o.register(e)})),o},t.resolveExecutionContextFromDi=function(e){var t;return null!==(t=this.executionContextByDi.get(e))&&void 0!==t?t:null},t.createLineChain=function(e,t){var n,r=this;try{if(null===(n=e.get({token:t,optional:!0})))return Promise.resolve()}catch(t){return this.log.error(t),this.throwError(t,e)}return Array.isArray(n)?Promise.all(n.map((function(n){return r.instanceExecute(n,t,e)}))):this.instanceExecute(n,t,e)},t.instanceExecute=function(e,t,n){var r=this;if(e instanceof Function){var o=e.name,i=void 0===o?"":o;return this.log.debug({event:"line-run",line:t.toString(),command:i}),Promise.resolve().then((function(){return e()})).catch((function(e){var o;r.log[(0,Ve.LG)(e)?"debug":"error"]({event:"line-error",error:e,line:t.toString(),command:i}),null===(o=r.abortControllerByDi.get(n))||void 0===o||o.abort(e),r.throwError(e,n)}))}var a=new TypeError('Expected function in line processing "commandLineListTokens.'+t.toString()+'", received "'+e+'".\n      Check that all commandLineListTokens subscribers return functions');this.log.error({event:"line-error",error:a,line:t.toString()})},t.throwError=function(e,t){throw"object"==typeof e&&(e.di=t),e},e}(),Ue={init:[xe.Bi.init,xe.Bi.listen],close:[xe.Bi.close],customer:[xe.Bi.customerStart,xe.Bi.resolveUserDeps,xe.Bi.resolvePageDeps,xe.Bi.generatePage,xe.Bi.clear],spa:[xe.Bi.resolveUserDeps,xe.Bi.resolvePageDeps,xe.Bi.spaTransition],afterSpa:[xe.Bi.afterSpaTransition]},Be={server:Ue,client:Ue},Ze=function(){};Ze=(0,i.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:xe.S9,scope:l.s.SINGLETON,useClass:je,deps:{lines:xe.PR,rootDi:d.Z,logger:M.Fp,executionContextManager:B.vV,executionEndHandlers:{token:Ie.p,optional:!0}}}),(0,c.J)({provide:B.p7,useFactory:function(e){var t=e.di,n=e.commandLineRunner;return function(){return n.resolveExecutionContextFromDi(t)}},deps:{di:d.Z,commandLineRunner:xe.S9}}),(0,c.J)({provide:xe.PR,scope:l.s.SINGLETON,useValue:Be})]})],Ze);var Je=n(64805),He=n.n(Je),qe={logger:{debug:He(),info:He(),error:He()},resultTransform:function(e){return 1===e.length?e[0]:e}},Ge=function(){function e(e){this.subscribers=new Map;var t=Object.assign({},qe,e);this.logger=t.logger,this.resultTransform=t.resultTransform}var t=e.prototype;return t.subscribe=function(e,t){this.logger.debug("subscribe",e,t);var n=this.subscribers.get(e);return n?n.add(t):(n=new Set([t]),this.subscribers.set(e,n)),function(){return n.delete(t)}},t.publish=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.logger.debug("publish",e,n);var o=this.subscribers.get(e);if(o&&o.size){var i=[];return o.forEach((function(e){return i.push(Promise.resolve(e.apply(void 0,n)))})),Promise.all(i).then(this.resultTransform)}return Promise.resolve()},e}(),We=function(){};We=(0,i.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:U.eP,scope:l.s.SINGLETON,useFactory:function(e){return function(){return new Ge({logger:e.logger("pubsub")})}},deps:{logger:M.Fp}}),(0,c.J)({provide:U.k3,scope:l.s.REQUEST,useFactory:function(e){return(0,e.createPubsub)()},deps:{createPubsub:U.eP}}),(0,c.J)({provide:U.Tm,scope:l.s.SINGLETON,useFactory:function(e){return(0,e.createPubsub)()},deps:{createPubsub:U.eP}})]})],We);var Ye=function(){};Ye=(0,i.__decorate)([(0,s.Y)({providers:[]})],Ye);var Ke=[(0,c.J)({provide:v.E6,scope:l.s.REQUEST,useFactory:function(){var e,t;try{if(!(t=null===(e=document.getElementById("__TRAMVAI_STATE__"))||void 0===e?void 0:e.textContent))throw Error("__TRAMVAI_STATE__ element is empty or missing");return JSON.parse(t)}catch(e){throw e instanceof Error&&(e.event="initial-state-parse-error",e.initialState=t,e.readyState=document.readyState,e.bodyComplete=!!window.__TRAMVAI_HTML_READY__),e}}}),(0,c.J)({provide:xe.Bi.listen,useFactory:function(e){var t=e.commandLineRunner;return function(){return t.run("client","customer")}},deps:{commandLineRunner:xe.S9},multi:!0})],Qe=n(56873),ze=(0,I.V3)("child-app isChildApp Di"),$e=(l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,l.s.SINGLETON,(0,ie.y)("action state execution in server")),Xe=(0,g.L)("actionTramvai",{serverState:{}}).on($e,(function(e,t){return Object.assign({},e,{serverState:t})})),et=n(92366),tt=n.n(et),nt=n(59576),rt=n(20745),ot=n(57801),it=n.n(ot),at=n(26566),ut=["message","conditionName","targetName"],st=function(e){function t(n){var o,i=n.message,a=void 0===i?"Condition failed":i,u=n.conditionName,s=n.targetName,c=(0,r.Z)(n,ut);return(o=e.call(this,a)||this).name=t.errorName,o.conditionName=u,o.targetName=s,o.isSilent=!0,Object.assign((0,we.Z)(o),c),o}return(0,ke.Z)(t,e),t}((0,at.Z)(Error));st.errorName="ConditionFailError";var ct="global",lt={},ft=function(){function e(e,t,n,r,o){var i;this.globalConditionals=e,this.payload=t,this.parameters=n,this.executionState=r,this.type=o,this.status=!0,this.forbiddenMarker=!1,this.key=null,o===ct&&(this.status="success"!==r.status),this.conditions=null!==(i=n.conditions)&&void 0!==i?i:lt}var t=e.prototype;return t.check=function(){var e=this;return this.globalConditionals.forEach((function(t){e.key=t.key,t.fn(e)})),this.getStatus()},t.setState=function(e){this.executionState.state[this.key]=e},t.getState=function(){return this.executionState.state[this.key]},t.forbid=function(){this.executionState.status="forbidden",this.executionState.forbiddenBy=this.key,this.forbiddenMarker=!0},t.allow=function(){this.status=!0},t.getStatus=function(){return!this.forbiddenMarker&&this.status},e}(),dt=function(){var e=this;this.isResolved=function(){return void 0!==e.resolveData},this.isRejected=function(){return void 0!==e.rejectReason},this.reset=function(){e.resolveData=void 0,e.rejectReason=void 0,e.promise=e.initPromise()},this.initPromise=function(){return new Promise((function(t,n){e.resolve=function(n){e.resolveData=n,t(n)},e.reject=function(t){e.rejectReason=t,n(t)}}))},this.promise=this.initPromise()},pt={},vt=function(){function e(e){var t=this,n=e.store,r=e.context,o=e.deferredActionsMap,i=e.di,a=e.executionContextManager,u=e.actionConditionals,s=e.transformAction;this.actionConditionals=$()(null!=u?u:[]),this.context=r,this.store=n,this.deferredActionsMap=o,this.di=i,this.executionContextManager=a,this.execution=new Map,this.transformAction=s||J();var c=n.getState(Xe);c&&c.serverState&&it()((function(e,n){t.execution.set(n,e)}),c.serverState)}var t=e.prototype;return t.runInContext=function(){var e=(0,Me.Z)(Pe().mark((function e(t,n){var r,o,i,a,u,s,c,l,f,d,p=this,v=arguments;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=v.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=v[i];if(u=o[0],s=!0===(null==t?void 0:t.values.pageActions)?ct:"local",c=this.getActionParameters(n)){e.next=6;break}throw new Error("Cannot resolve internal data for action. Make sure you are using the result of `declareAction` call as an action");case 6:if(l=this.getExecutionState(c.name),this.canExecuteAction(u,c,l,s)){e.next=13;break}e.t0=c.conditionsFailResult,e.next="reject"===e.t0?11:12;break;case 11:return e.abrupt("return",Promise.reject(new st({conditionName:null!==(a=l.forbiddenBy)&&void 0!==a?a:"unknown",targetName:c.name})));case 12:return e.abrupt("return",Promise.resolve());case 13:return(f=c.deferred)&&!this.deferredActionsMap.get(n.name)&&((d=new dt).promise.catch((function(){})),this.deferredActionsMap.set(n.name,d)),l.status="pending",e.abrupt("return",this.executionContextManager.withContext(t,{name:c.name,values:!0===(null==t?void 0:t.values.pageActions)?{pageActions:!1}:void 0},(function(e,r){var i=p.createActionContext(t,e,r,c);return Promise.resolve().then((function(){if((0,rt.J)(n)){var e=n.fn.apply(i,o),t=p.deferredActionsMap.get(n.name);return f?(t.isResolved()||t.isRejected()||!tt()(e)||e.then(t.resolve).catch(t.reject),Promise.resolve()):e}return n(p.context,u,i.deps)})).then((function(e){return l.status="success",e})).catch((function(e){throw l.status="failed",e}))})));case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.run=function(){var e=(0,Me.Z)(Pe().mark((function e(t){var n,r,o,i=arguments;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=i.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=i[o];return e.abrupt("return",this.runInContext.apply(this,[null,t].concat(r)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.canExecute=function(e){var t=this.getActionParameters(e),n=this.getExecutionState(t.name);return this.canExecuteAction(void 0,t,n,ct)},t.getActionParameters=function(e){var t;return(0,rt.J)(e)?t=e:(this.transformAction(e),t=function(e){return e[nt.d]}(e)),t},t.getExecutionState=function(e){var t=this.execution.get(e);return t||(t={status:"pending",state:{}},this.execution.set(e,t)),t},t.canExecuteAction=function(e,t,n,r){return new ft(this.actionConditionals,e,t,n,r).check()},t.createActionContext=function(e,t,n,r){return{abortController:n,abortSignal:null==t?void 0:t.abortSignal,executeAction:this.runInContext.bind(this,t),deps:r.deps?this.di.getOfDeps(r.deps):pt,actionType:(null==e?void 0:e.values.pageActions)?"page":"standalone",dispatch:this.store.dispatch,getState:this.store.getState}},e}(),ht=n(7605),gt=n.n(ht),mt=n(24034),yt=n.n(mt),bt=n(5103),Et=n.n(bt);function wt(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var kt="@@global",St=function(){function e(e){var t=e.actionsList;this.actions=new Map([[kt,$()(t)]])}var t=e.prototype;return t.add=function(e,t){var n=Et()(t);this.actions.set(e,gt()(this.actions.has(e)?[].concat(wt(o.Z,this.actions.get(e)),wt(o.Z,n)):n))},t.get=function(e,t){return gt()([].concat(wt(o.Z,this.actions.get(e)||[]),wt(o.Z,t||[])))},t.getGlobal=function(){return this.actions.get(kt)},t.remove=function(e,t){if(t){var n=Et()(t);this.actions.has(e)&&this.actions.set(e,yt()(this.actions.get(e),n))}else this.actions.delete(e)},e}(),Rt={},At=function(){function e(e){var t;this.deps=e,this.log=e.logger("action:action-page-runner"),this.isChildAppRunner=null!==(t=e.isChildAppRunner)&&void 0!==t&&t}return e.prototype.runActions=function(e,t){var n=this;return void 0===t&&(t=function(){return!1}),this.deps.executionContextManager.withContext(this.deps.commandLineExecutionContext(),{name:"pageActions",values:{pageActions:!0}},function(){var r=(0,Me.Z)(Pe().mark((function r(o,i){var a,u;return Pe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=n.deps.router.registerHook("beforeNavigate",(function(){return a(),i.abort("Page actions were aborted because of route changing"),Promise.resolve()})),u=function(e){return Promise.resolve().then((function(){return n.deps.actionExecution.runInContext(o,e,Rt)})).catch((function(r){var o;if(!(0,Ve.LG)(r)){var i=(0,rt.J)(e)?e:e[nt.d];n.log.error({error:r,event:"action-execution-error",message:'An error occurred during "'+(null!==(o=null==i?void 0:i.name)&&void 0!==o?o:"unknown")+'" action execution'})}if(t(r))throw r}))},r.next=4,Promise.all(e.map(u)).finally((function(){a()}));case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())},e}(),Ct={key:"pageServer",fn:function(e){e.conditions.pageServer&&e.type===ct&&e.forbid()}},_t=[(0,c.J)({provide:Te.m1,useFactory:function(){return window.__TRAMVAI_DEFERRED_ACTIONS||(window.__TRAMVAI_DEFERRED_ACTIONS={}),{get:function(e){return window.__TRAMVAI_DEFERRED_ACTIONS[e]},set:function(e,t){window.__TRAMVAI_DEFERRED_ACTIONS[e]=t},has:function(e){return e in window.__TRAMVAI_DEFERRED_ACTIONS},forEach:function(e){Object.keys(window.__TRAMVAI_DEFERRED_ACTIONS).forEach((function(t){e(window.__TRAMVAI_DEFERRED_ACTIONS[t],t)}))}}}})],Nt=function(){};Nt=(0,i.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:v.Ym,multi:!0,useValue:Xe}),(0,c.J)({provide:Te.R9,scope:l.s.SINGLETON,useClass:St,deps:{actionsList:f.I7}}),(0,c.J)({provide:Te.R$,scope:l.s.REQUEST,useClass:vt,deps:{actionConditionals:{token:Te.xW,optional:!0},context:j.l,store:v.kR,di:d.Z,executionContextManager:B.vV,transformAction:{token:"actionTransformAction",optional:!0},deferredActionsMap:Te.m1}}),(0,c.J)({provide:Te.FM,scope:l.s.REQUEST,useClass:At,deps:{actionExecution:Te.R$,executionContextManager:B.vV,commandLineExecutionContext:B.p7,store:v.kR,limitTime:Te.D7,logger:M.Fp,deferredMap:Te.m1,responseTaskManager:(0,I.jt)(oe),serverResponseStream:(0,I.jt)(re),router:Qe.l1,isChildAppRunner:(0,I.jt)(ze)}}),(0,c.J)({provide:Te.D7,useValue:500}),(0,c.J)({provide:Te.xW,multi:!0,useValue:[{key:"alwaysCondition",fn:function(e){e.conditions.always&&e.allow()}},{key:"onlyServer",fn:function(e){e.conditions.onlyServer&&e.forbid()}},{key:"onlyBrowser",fn:function(e){e.conditions.onlyBrowser}},Ct,{key:"pageBrowser",fn:function(e){e.conditions.pageBrowser&&e.type}},{key:"dynamicCondition",fn:function(e){e.conditions.dynamic&&(e.getState()&&"browser"!==e.getState().environment||e.allow(),e.setState({environment:"browser"}))}}]})].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,_t))})],Nt);var Tt=function(){function e(e){var t=this;(e=e||{}).stores=e.stores||[],this.stores={},this.handlers={},e.stores.forEach((function(e){t.registerStore(e)}))}var t=e.prototype;return t.createContext=function(e,t,n){return new Ne(this,e,t,n)},t.hasStore=function(e){return!!this.stores[e.storeName]},t.registerStore=function(e){var t=this,n=e.storeName;this.stores[n]&&this.stores[n]===e||(this.stores[n]=e,e.handlers&&Object.keys(e.handlers).forEach((function(r){var o=e.handlers[r];t.registerHandler(r,n,o)})))},t.unregisterStore=function(e){var t=this,n=e.storeName;this.stores[n]&&(delete this.stores[n],e.handlers&&Object.keys(e.handlers).forEach((function(r){var o=e.handlers[r];t.unregisterHandler(r,n,o)})))},t.getStoreName=function(e){return"string"==typeof e?e:e.storeName},t.registerHandler=function(e,t,n){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push({name:t,handler:n})},t.unregisterHandler=function(e,t,n){Array.isArray(this.handlers[e])&&(this.handlers[e]=this.handlers[e].filter((function(e){return!(e.name===t&&e.handler===n)})))},e}();var Ot=function(){};Ot=(0,i.__decorate)([(0,s.Y)({providers:[(0,c.J)({provide:v.qb,scope:l.s.SINGLETON,useFactory:function(e){var t,n=e.stores;return t={stores:n&&$()(n)},new Tt(t)},deps:{stores:v.Ym}}),(0,c.J)({provide:v.jm,scope:l.s.REQUEST,useFactory:function(e){var t=e.dispatcher,n=e.initialState,r=e.middlewares;return t.createContext({},n,[function(){return function(e){return function(t){return e(t)}}}].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(o.Z,$()(r||[]))))},deps:{dispatcher:v.qb,middlewares:{token:v.PU,optional:!0},initialState:{token:v.E6,optional:!0}}}),(0,c.J)({provide:v.kR,scope:l.s.REQUEST,useFactory:function(e){var t=e.dispatcherContext;return{getState:t.getState.bind(t),dispatch:t.dispatch.bind(t),subscribe:t.subscribe.bind(t)}},deps:{dispatcherContext:v.jm}})]})],Ot);var xt=n(16011),It=n(65538),Mt=n(56868),Lt=n.n(Mt),Pt=(0,I.V3)("_cachesList"),Vt=(0,I.V3)("cache names list"),Dt=function(){};Dt=(0,i.__decorate)([(0,s.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,[]),[{provide:Pt,scope:l.s.SINGLETON,useValue:[]},(0,c.J)({provide:xt.xC,scope:l.s.SINGLETON,useFactory:function(e){var t=e.caches;return e.cacheNames,e.metrics,function(e,n){void 0===e&&(e="memory");var r=function(e,t){return Object.assign({type:e,max:100},t)}(e,n),o=function(e,t){return void 0===e&&(e="memory"),new(Lt())(t)}(e,r);return t.push(o),o}},deps:{caches:Pt,cacheNames:{token:Vt,optional:!0},metrics:{token:It.P,optional:!0}}}),(0,c.J)({provide:xt.oK,scope:l.s.SINGLETON,useFactory:function(e){var t=e.caches,n=e.onCacheClear;return function(e){return t.forEach((function(e){return e.clear()})),n?Promise.all(n.map((function(t){return t(e)}))):Promise.resolve()}},deps:{caches:Pt,onCacheClear:{token:xt.TZ,optional:!0}}})])})],Dt);var Ft=["message","contextName"],jt=function(e){function t(n){var o,i=void 0===n?{}:n,a=i.message,u=void 0===a?"Execution Abort":a,s=i.contextName,c=(0,r.Z)(i,Ft);return(o=e.call(this,u)||this).name=t.errorName,o.contextName=s,Object.assign((0,we.Z)(o),c),o}return(0,ke.Z)(t,e),t}((0,at.Z)(Error));jt.errorName="ExecutionAbortError";var Ut={},Bt=function(e){return"string"==typeof e?{name:e}:e},Zt=function(){function e(){}return e.prototype.withContext=function(){var e=(0,Me.Z)(Pe().mark((function e(t,n,r){var o,i,a,u,s,c,l,f,d;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Bt(n),i=o.name,a=o.values,u=void 0===a?Ut:a,s=t?t.name+"."+i:i,!(null==t?void 0:t.abortSignal.aborted)){e.next=5;break}throw new jt({message:'Execution aborted in context "'+s+'"',reason:t.abortSignal.reason,contextName:s});case 5:return c=new AbortController,f=u,t&&(f=Object.assign({},t.values,u),l=function(e){c.abort(e.target.reason)},t.abortSignal.addEventListener("abort",l)),d={name:s,abortSignal:c.signal,values:f},e.prev=9,e.next=12,r(d,c);case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(9),null===e.t0||"object"!=typeof e.t0||e.t0.executionContextName||(e.t0.executionContextName=d.name),e.t0;case 19:return e.prev=19,void 0!==l&&t&&t.abortSignal.removeEventListener("abort",l),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[9,15,19,22]])})));return function(t,n,r){return e.apply(this,arguments)}}(),e}(),Jt=n(66598),Ht=n(62054),qt=function(){function e(e){this.plugins=new Set,this.wrappers=new Set,this.name=e}var t=e.prototype;return t.tap=function(e,t){var n=this,r={name:e,fn:t};return this.plugins.add(r),function(){n.plugins.delete(r)}},t.call=function(e){var t,n=Array.from(this.wrappers).reverse(),r=Array.from(this.plugins.values()),o={},i=-1;return function e(a){if(++i<n.length)return(0,n[i])(o,a,e);if(i===n.length)for(var u=0,s=r;u<s.length;u++){var c=s[u];t=c.fn(o,a,t)}return t}(e)},t.wrap=function(e){this.wrappers.add(e)},e}(),Gt=function(){function e(e){this.plugins=new Set,this.wrappers=new Set,this.name=e}var t=e.prototype;return t.tap=function(e,t){var n=this,r={name:e,fn:t};return this.plugins.add(r),function(){n.plugins.delete(r)}},t.tapPromise=function(e,t){var n=this,r={name:e,options:{type:"promise"},fn:t};return this.plugins.add(r),function(){n.plugins.delete(r)}},t.tapAsync=function(e,t){var n=this,r={name:e,options:{type:"async"},fn:t};return this.plugins.add(r),function(){n.plugins.delete(r)}},t.callPromise=function(e){var t,n=Array.from(this.wrappers).reverse(),r=Array.from(this.plugins.values()),o={},i=-1,a=function(){var e=(0,Me.Z)(Pe().mark((function e(u){var s,c,l,f;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++i<n.length)){e.next=4;break}return s=n[i],e.abrupt("return",s(o,u,a));case 4:if(i!==n.length){e.next=12;break}c=Pe().mark((function e(){var n;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("options"in(n=f[l]))){e.next=14;break}if("promise"!==n.options.type){e.next=8;break}return e.next=5,n.fn(o,u,t);case 5:t=e.sent,e.next=12;break;case 8:if("async"!==n.options.type){e.next=12;break}return e.next=11,new Promise((function(e,r){n.fn(o,u,t,(function(t,n){t?r(t):e(n)}))}));case 11:t=e.sent;case 12:e.next=15;break;case 14:t=n.fn(o,u,t);case 15:case"end":return e.stop()}}),e)})),l=0,f=r;case 7:if(!(l<f.length)){e.next=12;break}return e.delegateYield(c(),"t0",9);case 9:l++,e.next=7;break;case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a(e)},t.wrap=function(e){this.wrappers.add(e)},e}(),Wt=function(){function e(e){this.plugins=new Set,this.wrappers=new Set,this.name=e}var t=e.prototype;return t.tap=function(e,t){var n=this,r={name:e,fn:t};return this.plugins.add(r),function(){n.plugins.delete(r)}},t.tapPromise=function(e,t){var n=this,r={name:e,options:{type:"promise"},fn:t};return this.plugins.add(r),function(){n.plugins.delete(r)}},t.tapAsync=function(e,t){var n=this,r={name:e,options:{type:"async"},fn:t};return this.plugins.add(r),function(){n.plugins.delete(r)}},t.callPromise=function(e){var t=Array.from(this.wrappers).reverse(),n=Array.from(this.plugins.values()),r={},o=-1,i=function(){var e=(0,Me.Z)(Pe().mark((function e(a){var u;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o<t.length)){e.next=4;break}return u=t[o],e.abrupt("return",u(r,a,i));case 4:if(o!==t.length){e.next=7;break}return e.next=7,Promise.all(n.map((function(e){if("options"in e){if("promise"===e.options.type)return e.fn(r,a);if("async"===e.options.type)return new Promise((function(t,n){e.fn(r,a,void 0,(function(e,r){e?n(e):t(r)}))}))}return e.fn(r,a)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i(e)},t.wrap=function(e){this.wrappers.add(e)},e}(),Yt=function(){function e(){}var t=e.prototype;return t.createSync=function(e){return new qt(e)},t.createAsync=function(e){return new Gt(e)},t.createAsyncParallel=function(e){return new Wt(e)},e}(),Kt=function(){function e(){this.hooks=Object.create(null)}var t=e.prototype;return t.registerHooks=function(e,t){this.hooks[e]||(this.hooks[e]=[]),this.hooks[e]=gt()(this.hooks[e].concat(t))},t.runHooks=function(e,t,n,r){var o=this.hooks[e];if(!o)return n;for(var i=n,a=0;a<o.length;a++)i=o[a](t,i,r);return i},t.runAsyncHooks=function(e,t,n,r){var o=this.hooks[e];if(!o)return n;for(var i=function(){var e=o[a];setTimeout((function(){e(t,n,r)}))},a=0;a<o.length;a++)i();return n},t.runPromiseHooks=function(e,t,n){var r=this.hooks[e];return function(e){if(!r)return Promise.resolve(e);var o=0;return Promise.resolve(e).then((function e(i){var a=r[o++];return a?Promise.resolve(a(t,i,n)).then(e):i}))}},e}(),Qt=n(45838),zt=(0,Jt.J)({name:"TramvaiHookModule",providers:[(0,c.J)({provide:Ht.j,scope:l.s.SINGLETON,useClass:Yt}),(0,c.J)({provide:Qt.v,scope:l.s.SINGLETON,useClass:Kt})]}),$t=["additionalBundleList"],Xt=function(){};Xt=(0,i.__decorate)([(0,s.Y)({imports:[zt,Ze,y,We,V,O,Nt,Ot,de,Ee,Dt,Ye],providers:[(0,c.J)({provide:D.K,scope:l.s.SINGLETON,useClass:ee,deps:{componentList:{token:"componentDefaultList",optional:!0}}}),(0,c.J)({provide:F.g,scope:l.s.SINGLETON,useFactory:function(e){var t=e.additionalBundleList,n=(0,r.Z)(e,$t);return null==t||t.forEach((function(e){u()((function(e,t){t in n.bundleList||(n.bundleList[t]=function(){return Promise.resolve({default:e})})}),e)})),new Y(n)},deps:{bundleList:f.om,additionalBundleList:{token:F.x,optional:!0},componentRegistry:D.K,logger:M.Fp}}),(0,c.J)({provide:j.l,scope:l.s.REQUEST,useFactory:function(e){var t=e.di,n=e.dispatcherContext,r=e.pubsub,o=e.store;return new Oe({di:t,dispatcherContext:n,pubsub:r,store:o})},deps:{di:d.Z,pubsub:U.k3,dispatcherContext:v.jm,store:v.kR}}),(0,c.J)({provide:B.vV,scope:l.s.SINGLETON,useClass:Zt})].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,Ke))})],Xt)},56956:function(e,t,n){"use strict";n.d(t,{w:function(){return l}});var r=n(58903),o=n(80476),i=n(80283),a=n(97570),u=n(82342),s=n(33268),c=[(0,a.J)({provide:s.O7,useFactory:function(e){var t=(0,e.logger)("error-interceptor:error-boundary");return function(e,n){t.error({event:"component-did-catch",error:e,info:n})}},deps:{logger:u.Fp},multi:!0})],l=function(){};l=(0,o.__decorate)([(0,i.Y)({providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,c)})],l)},60531:function(e,t,n){"use strict";n.d(t,{XH:function(){return f}});n(66598);var r=n(97570),o=n(37621),i=n(49103),a=n.n(i),u=n(42353),s=n(58426),c=(0,u.y)("FEATURE_TOGGLE"),l=(0,s.L)("featureToggle",{__values:{}}).on(c,(function(e,t){var n={},r={};return a()((function(e,t){var o=e.status,i=e.value;!1!==o&&(n[t]=o),null!==o&&o===i||(r[t]=i)}),t),Object.assign({},n,{__values:r})})),f=function(e,t){return t[e]};(0,r.J)({provide:o.Ym,useValue:l,multi:!0})},21377:function(e,t,n){"use strict";n.d(t,{J:function(){return ee}});var r=n(59999),o=n(80283),i=n(97570),a=n(29772),u=n(67584),s=n(9056),c=n(82342),l=n(82571),f=n(82912),d=n(10112),p=n(16011),v=n(13641),h=n.n(v),g=n(63119),m=n.n(g),y=n(58903);function b(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}function E(e,t,n){if(null==n?void 0:n.replace)return Object.assign({},e,t);var r=Object.assign({},e,t,{query:Object.assign({},e.query,t.query),headers:Object.assign({},e.headers,t.headers),interceptors:[].concat(b(y.Z,e.interceptors||[]),b(y.Z,t.interceptors||[]))}),o=function(n){e[n]&&t[n]&&(r[n]=m()(t[n],e[n]))};return o("modifyRequest"),o("modifyResponse"),o("modifyError"),r}var w=n(33926),k=n(17848),S=n.n(k),R=n(4618),A=n(8605),C=n(90104),_=n(77367),N=n.n(_)()({}),T=n(33997),O=n(60491),x=n(32797),I=n(77172),M=n(21029),L=n(22422),P=n.n(L),V="retry",D=["logger","name","disableCache","enableCircuitBreaker","createCache","cacheTime","defaultTimeout","validator","errorValidator","errorModificator","circuitBreakerOptions","getCacheKey","lruOptions","allowStale","agent","querySerializer","retryOptions","etagCacheOptions","interceptors"];var F=n(45232),j=n(35207),U=n(17935),B=n.n(U),Z=n(23302),J=["method","body","requestType"],H=["modifyRequest","modifyResponse","modifyError","interceptors"],q=function(e){function t(t){var n,r=t.options,o=t.makeRequest;return(n=e.call(this)||this)._processMakeRequest=function(){var e=(0,F.Z)(B().mark((function e(t,r){var o,i,a,u,s,c,l,f,d,p,v,h,g,m,y,b,E;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.modifyRequest,i=r.modifyResponse,a=r.modifyError,u=o?o(t):t,s=u.method,c=u.body,l=u.requestType,f=(0,w.Z)(u,J),s&&(f.httpMethod=s),c&&(f.payload=c),l&&(f.type=l),d=n.makeRequest(f),e.prev=6,e.next=9,d;case 9:return p=e.sent,v=(0,x.lR)(d),h=(0,x.wU)(d),g={payload:p,status:v,headers:h},e.abrupt("return",i?i(g):g);case 16:throw e.prev=16,e.t0=e.catch(6),m=d.getExternalMeta(),y=(0,x.lR)(d),b=(0,x.wU)(d),E=Object.assign(e.t0,{__meta:m,status:y,headers:b}),a?a(E,f):E;case 23:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t,n){return e.apply(this,arguments)}}(),n.options=r,n.makeRequest=o,n}(0,j.Z)(t,e);var n=t.prototype;return n.request=function(e){var t=this,n=E(this.options,e),r=n.modifyRequest,o=n.modifyResponse,i=n.modifyError,a=n.interceptors,u=(0,w.Z)(n,H),s=function(e){return t._processMakeRequest(e,{modifyRequest:r,modifyResponse:o,modifyError:i})};return a&&Array.from(a).reverse().forEach((function(e){var t=s;s=function(n){return e(n,t)}})),s(u)},n.fork=function(e,n){return void 0===e&&(e={}),void 0===n&&(n={}),new t({options:E(this.options,e,n),makeRequest:this.makeRequest})},t}(Z.I),G=function(e){return function(e){return e}},W={defaultTimeout:3e4},Y=n(68162),K=n(28296),Q=n.n(K),z=function(e){function t(t){var n=(0,t.httpClientFactory)({name:"papi",baseUrl:t.baseUrl,validator:function(e){var t=e.response;if(!t.resultCode||!t.payload)return t.error||new Error(JSON.stringify(t))},modifyResponse:function(e){return Object.assign({},e,{payload:Q()("payload",e.payload)})}});return e.call(this,n)||this}return(0,j.Z)(t,e),t}(n(72784).s),$=(0,o.Y)({providers:[(0,i.J)({provide:s.J2,scope:u.s.SINGLETON,useClass:z,deps:{httpClientFactory:s.FB,baseUrl:Y.a9}})]})((function(){})),X=(0,r.V3)("httpClient createCache"),ee=(0,o.Y)({imports:[$],providers:[(0,i.J)({provide:s.FB,useFactory:function(e){var t=e.logger,n=e.envManager,r=(e.appInfo,e.requestManager,e.headersList,e.createCache),o=e.makeRequestRegistry,i=e.agent,a=e.querySerializer,u=e.disableCircuitBreaker,s=void 0!==u&&u,c=e.defaultOptions,l=e.defaultInterceptors,f=e.commandLineExecutionContext;return function(e){var u;if(!e.name)throw Error('You need to pass a unique field "name" for the HTTP client instance');var d=n.get("HTTP_CLIENT_CACHE_DISABLED"),p=n.get("HTTP_CLIENT_CIRCUIT_BREAKER_DISABLED"),v={interceptors:l||[]},g=E(E(Object.assign({logger:t,agent:i,querySerializer:a,method:"GET",createCache:r?r.bind(null,"memory"):void 0,modifyRequest:m()(G(),(function(e){return e})),circuitBreakerOptions:{failureThreshold:75,minimumFailureCount:10},signal:null===(u=null==f?void 0:f())||void 0===u?void 0:u.abortSignal},W),c?E(c,v):v),e);if(h()(d)||(g.disableCache=!!d),s&&(g.enableCircuitBreaker=!1),h()(p)||(g.enableCircuitBreaker=!p),!o.has(g.name)){var y=Object.assign({},g);delete y.signal,o.set(g.name,function(e){var t,n,r,o,i,a,u,s,c=e.logger,l=e.name,f=e.disableCache,d=e.enableCircuitBreaker,p=e.createCache,v=e.cacheTime,h=void 0===v?3e4:v,g=e.defaultTimeout,m=e.validator,y=e.errorValidator,b=e.errorModificator,E=e.circuitBreakerOptions,k=void 0===E?{}:E,_=e.getCacheKey,L=e.lruOptions,F=void 0===L?{max:1e3,maxAge:h}:L,j=e.allowStale,U=void 0===j||j,B=e.agent,Z=e.querySerializer,J=e.retryOptions,H=e.etagCacheOptions,q=(e.interceptors,(0,w.Z)(e,D)),G=(c&&c(l+":initialization"),function(e){return"function"==typeof p?function(t){return p(Object.assign({name:"http-client"+(e?"-"+e:"")+"-"+l},t))}:void 0}),W=[];return W.push({init:function(e,t){t({request:Object.assign({timeout:g},e.getRequest())})}}),W.push((0,I.Z)({baseUrl:q.baseUrl,transform:function(e){var t=e.baseUrl,n=e.path,r=e.url;if(r)return r;if(t&&n){var o=!("/"===t.slice(-1));return"/"===n.slice(0,1)&&(n=n.substring(1)),t+(o?"/":"")+n}return t||n||""}})),W.push((0,A.Z)({logger:c,name:l,showQueryFields:!0,showPayloadFields:!0})),W.push((0,T.Z)({shouldExecute:!f,lruOptions:F,allowStale:U,getCacheKey:_,memoryConstructor:G()})),W.push((0,C.Z)({shouldExecute:!f,getCacheKey:_})),d&&W.push((0,M.Z)(Object.assign({isSystemError:S()(x.o7,x.rA)},k))),W.push({error:function(e,t){var n=e.getState(),r=null==b?void 0:b(n);return r?t({error:r}):t()}}),J&&W.push((r=(n=void 0===(t=J)?{}:t).retry,o=void 0===r?0:r,i=n.retryDelay,a=void 0===i?100:i,u=n.maxTimeout,s=void 0===u?6e4:u,{init:function(e,t){e.updateInternalMeta(V,{startTime:Date.now()}),t()},error:function(e,t,n){var r,i,u=e.getRequest(),c=u.timeout||s,l=null!==(r=u.retry)&&void 0!==r?r:o,f=null!==(i=u.retryDelay)&&void 0!==i?i:a,d=e.getInternalMeta(V).startTime,p=0;!function r(){p<l?setTimeout((function(){var o=Date.now()-d;if(o>=c)return e.updateExternalMeta(V,{attempts:p,timeout:!0}),t();n(Object.assign({},u,{retry:0,timeout:c-o,silent:!0,retryDelay:void 0,cache:!1})).then((function(n){return e.updateExternalMeta(V,{attempts:p+1}),t({status:R.qb.COMPLETE,response:n})}),(function(){p++,r()}))}),P()([p],f)):(l>0&&e.updateExternalMeta(V,{attempts:p,timeout:!1}),t())}()}})),(m||y)&&W.push((0,O.Z)({validator:m,errorValidator:y,allowFallback:!0})),(null==H?void 0:H.enabled)&&W.push(N({shouldExecute:!f,getCacheKey:_,memoryConstructor:G("etag"),lruOptions:(null==H?void 0:H.lruOptions)||{max:1e3,ttl:6e5}})),W.push((0,x.ZP)({agent:B||void 0,querySerializer:Z||void 0})),(0,R.ZP)(W)}(y))}var b=o.get(g.name);return new q({options:g,makeRequest:b})}},deps:{logger:c.Fp,envManager:l.vC,appInfo:a.Qo,createCache:X,makeRequestRegistry:"makeRequestRegistry",requestManager:{token:f.G,optional:!0},headersList:{token:s.s,optional:!0},agent:{token:s.zn,optional:!0},disableCircuitBreaker:{token:s.pW,optional:!0},defaultOptions:{token:s.FF,optional:!0},defaultInterceptors:{token:s.Z0,optional:!0},commandLineExecutionContext:{token:d.p7,optional:!0}}}),(0,i.J)({provide:s.bV,useFactory:function(e){return(0,e.factory)({name:"http-client",enableCircuitBreaker:!1})},deps:{factory:s.FB}}),(0,i.J)({provide:l.sQ,useValue:[{key:"HTTP_CLIENT_CACHE_DISABLED",optional:!0,dehydrate:!1},{key:"HTTP_CLIENT_CIRCUIT_BREAKER_DISABLED",optional:!0,dehydrate:!1}]}),(0,i.J)({provide:"makeRequestRegistry",scope:u.s.SINGLETON,useFactory:function(){return new Map}}),(0,i.J)({provide:X,scope:u.s.SINGLETON,useFactory:function(e){return e.createCache},deps:{createCache:p.xC}}),(0,i.J)({provide:s.s,useValue:["x-request-id"]})]})((function(){}))},95943:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(80476),o=n(80283),i=function(){};i=(0,r.__decorate)([(0,o.Y)({imports:[],providers:[]})],i)},17167:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(80476),o=n(80283),i=function(){};i=(0,r.__decorate)([(0,o.Y)({providers:[]})],i)},27655:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var r=(0,n(59999).V3)("get cdn icon path token")},95283:function(e,t,n){"use strict";n.d(t,{Xn:function(){return ce}});var r=n(58903),o=n(80476),i=n(80283),a=n(69736),u=n(56873),s=n(80772),c=n(45838),l=n(49076),f=n(82912),d=n(17173),p=n(37621),v=n(92946),h=n(3566),g=n(33926),m=n(45232),y=n(17935),b=n.n(y),E=n(60028),w=n.n(E),k=n(78047),S=n(2198),R=n.n(S),A=n(79436),C=n.n(A),_=n(24970),N=n.n(_),T=n(58111),O=n.n(T),x=n(37093),I=n.n(x),M=n(60694),L=n.n(M),P=n(55500),V=n.n(P),D=n(11712),F=n.n(D),j=function(e){return R().hash(e.toString())},U=N()(F(),C(),(function(e){return[e]})),B=O()((function(e,t){return L()((function(n,r){return n[e+r]=t[r],n}),{},V()(t))}))("fingerprint_");var Z=function(){var e,t=function(){var e=function(){if(!window.WebGLRenderingContext)return!1;for(var e=document.createElement("canvas"),t=["webgl","experimental-webgl","moz-webgl"],n=null,r=0,o=t.length;r<o;++r)try{if((n=e.getContext(t[r]))&&"function"==typeof n.getParameter)return n}catch(e){}return!1}();if(!e)return{};var t=e.getSupportedExtensions()||[],n=e.getParameter(e.SHADING_LANGUAGE_VERSION),r=e.getParameter(e.VENDOR),o=j(t.join("::")),i=t.length,a=e.getExtension("WEBGL_lose_context");return a&&a.loseContext&&a.loseContext(),{gpu_shading_language_version:n,gpu_vendor:r,gpu_extensions_hash:o,gpu_extensions_count:i}}();try{e=function(){var e=document.createElement("canvas");e.width=2e3,e.height=200,e.style.display="inline";var t=e.getContext("2d");return t.rect(0,0,10,10),t.rect(2,2,6,6),t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.font="11pt no-real-font-123",t.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),t.globalCompositeOperation="multiply",t.fillStyle="rgb(255,0,255)",t.beginPath(),t.arc(50,50,50,0,2*Math.PI,!0),t.closePath(),t.fill(),t.fillStyle="rgb(0,255,255)",t.beginPath(),t.arc(100,50,50,0,2*Math.PI,!0),t.closePath(),t.fill(),t.fillStyle="rgb(255,255,0)",t.beginPath(),t.arc(75,100,50,0,2*Math.PI,!0),t.closePath(),t.fill(),t.fillStyle="rgb(255,0,255)",t.arc(75,75,75,0,2*Math.PI,!0),t.arc(75,75,25,0,2*Math.PI,!0),t.fill("evenodd"),j(e.toDataURL())}()}catch(t){e=null}var n=window.navigator.platform,r=(new Date).getTimezoneOffset(),o=window.navigator.language,i=(window.navigator.languages||[]).join(",");return B(Object.assign({},t,{device_platform:n,client_timezone:r,client_language:o,canvas:e,accept_language:i}))},J=function(){var e=[];try{for(var t=0;t<navigator.plugins.length;t++){var n=navigator.plugins[t];e.push([n.name.replace(/;|::/g,""),n.description.replace(/;|::/g,""),I()((function(e){return[e.type,e.suffixes].join("~").replace(/;|::/g,"")}),U(n)).join(",")].join("::"))}}catch(e){}return e},H=function(){try{return!!window.sessionStorage}catch(e){}return!1},q=function(){var e=(0,m.Z)(b().mark((function e(){var t,n,r,o,i,a,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return t=Z(),n=J().join(";"),r=navigator.userAgent.replace(/;|::/g,""),o=[window.screen.width,window.screen.height,window.screen.colorDepth].join("x"),i=(new Date).getTimezoneOffset(),a=H(),u=!!document.cookie,s=[r,o,i,u,a,n].join("###"),e.abrupt("return",Promise.resolve({params:t,result:s}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=n(44907),W=["lt"],Y=w()(["query","ticket"]),K=function(){function e(e){var t=e.sessionManager,n=e.hooks,r=e.apiClient,o=e.wuid,i=e.context,a=e.requestManager,u=e.pubsub;this.sessionManager=t,this.hooks=n,this.apiClient=r,this.wuid=o,this.context=i,this.requestManager=a,this.pubsub=u}var t=e.prototype;return t.authenticate=function(){var e=(0,m.Z)(b().mark((function e(t){var n,r,o,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.lt,r=(0,g.Z)(t,W),e.next=4,this.getClientInfo();case 4:return o=e.sent,e.next=7,this.transformAuthPayload(Object.assign({},o,t.payload),t);case 7:if(i=e.sent,this.sessionManager.getSessionId()){e.next=11;break}return e.next=11,this.sessionManager.authenticate();case 11:return e.next=13,this.signUp(Object.assign({},r,{query:Object.assign({},t.query,{lt:n}),body:i}));case 13:return a=e.sent,e.next=16,this.saveSession(a);case 16:return e.next=18,this.afterAuth(a);case 18:return e.abrupt("return",a);case 21:return e.prev=21,e.t0=e.catch(0),e.next=25,this.afterAuthFail(e.t0);case 25:throw e.t0;case 26:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),t.getLinkParameters=function(){var e=(0,m.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.apiClient.request(Object.assign({},t,{path:"link_parameters"})).then((function(e){return e.payload})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getLinkTokenFromUrl=function(){var e=this.getCurrentUrl();return this.hooks.runHooks(G.Wx,this.context,Y(e),e)},t.getCurrentUrl=function(){var e;return e=window.location.href,(0,k.Qc)(e)},t.getClientInfo=function(){var e=(0,m.Z)(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return t=e.sent,e.abrupt("return",Object.assign({wuid:this.wuid,fingerprint:t.result},t.params));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.saveSession=function(){var e=(0,m.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sessionManager.updateSessionStatus(t.sessionId));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.signUp=function(){var e=(0,m.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.apiClient.request(Object.assign({timeout:6e4,confirmViewType:"linkAuth",confirmHide:!1},t,{method:"post",path:"sign_up",cache:!1,silent:!0})).then((function(e){return e.payload})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.transformAuthPayload=function(){var e=(0,m.Z)(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.hooks.runPromiseHooks(G.Oi,this.context,n)(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.afterAuth=function(){var e=(0,m.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.pubsub.publish(G.i,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.afterAuthFail=function(){var e=(0,m.Z)(b().mark((function e(t){var n,r,o,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"unknown error",i=null!==(r=null==t?void 0:t.stack)&&void 0!==r?r:"no error stack available",e.abrupt("return",this.pubsub.publish(G.a,{message:o,stack:i}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),Q=n(58626),z=n(54211),$=w()(["config","keepLinkAuth"]),X=n(59999),ee=(0,X.V3)("linkAuthService"),te=(0,X.V3)("linkAuthFailedService"),ne=[{provide:ee,useClass:K,deps:{sessionManager:a.db,hooks:c.v,apiClient:v.JB,wuid:h.$,context:l.l,requestManager:f.G,pubsub:d.k3}},{provide:s.Bi.resolvePageDeps,useFactory:function(e){var t=e.pageService,n=e.store,r=e.linkAuthService,o=e.sessionManager;return function(){var e=(0,m.Z)(b().mark((function e(){var i,a,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.getLinkTokenFromUrl(),a=t.getCurrentRoute(),u=$(a),s=n.getState(z.p),i||u||!(0,Q.HS)(s)){e.next=6;break}return e.abrupt("return",o.replaceWithNewSession());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},deps:{pageService:u.Y9,store:p.kR,linkAuthService:ee,sessionManager:a.db},multi:!0}],re=n(7027),oe=n(52141),ie=n.n(oe),ae=n(13641),ue=n.n(ae),se=function(){function e(e){var t=e.linkAuthService,n=e.sessionManager,r=e.linkAuthFailedService,o=e.pageService;this.linkAuthFailedService=r,this.linkAuthService=t,this.sessionManager=n,this.pageService=o}var t=e.prototype;return t.authenticate=function(e){var t=this,n=e.success,r=e.pass,o=this.linkAuthService.getLinkTokenFromUrl();if(!o)return r();this.linkAuthService.authenticate({lt:o,confirmHide:!0}).then(n).catch((function(){return t.sessionManager.logout().then(t.removeTicketFromUrl.bind(t)).then((function(){if(!ue()(t.linkAuthFailedService))return t.linkAuthFailedService.execute()})).then(r)}))},t.removeTicketFromUrl=function(){var e=this.linkAuthService.getCurrentUrl(),t=ie()(["ticket"],e.query),n=(0,k.WU)(Object.assign({},ie()(["search"],e),{query:t}));return this.pageService.navigate({url:n})},(0,re.Z)(e,[{key:"name",get:function(){return"LinkStrategy"}}]),e}(),ce=function(){};ce=(0,o.__decorate)([(0,i.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,ne),[{provide:a.sI,useClass:se,deps:{pageService:u.Y9,linkAuthService:ee,sessionManager:a.db,linkAuthFailedService:{token:te,optional:!0}},multi:!0}])})],ce)},44907:function(e,t,n){"use strict";n.d(t,{Oi:function(){return r},Wx:function(){return o},a:function(){return a},i:function(){return i}});var r="module:link-auth:payload:transform",o="module:link-auth:token:get",i="module:link-auth:auth",a="module:link-auth:auth-fail"},92122:function(e,t,n){"use strict";n.d(t,{Ai:function(){return p}});var r=n(97570),o=n(66598),i=n(67570),a=n(33268),u=n(8479),s=n(67584),c=n(29376),l=n(49076),f=n(53402),d=[{provide:"boundaryCollect",useFactory:function(e){var t=!1;return function(n){var r;if(!t)if(t=!0,void 0!==n)e.eventea.send({project:"application-health",event:"app-start-fail",payload:{errorMessage:n.message,errorStack:n.stack}});else{var o;try{window.performance.mark("application-health-app-start-success"),o=null===(r=window.performance.measure("application-health-app-start-success-duration","navigationStart","application-health-app-start-success"))||void 0===r?void 0:r.duration}catch(e){}e.eventea.send({project:"application-health",event:"app-start-success",payload:{userRole:e.getUserRole(),installType:e.installType,durationFromNavigationStart:o}})}}},deps:{eventea:i.Bv,getUserRole:"getUserRole",installType:f.h}},{provide:u.RENDERER_CALLBACK,useFactory:function(e){return e.boundaryCollect},deps:{boundaryCollect:"boundaryCollect"},multi:!0},{provide:a.O7,useFactory:function(e){return e.boundaryCollect},deps:{boundaryCollect:"boundaryCollect"},multi:!0},{provide:f.h,useValue:"unknown"},{provide:"getUserRole",scope:s.s.SINGLETON,useFactory:function(e){var t=e.context;return function(){var e=t.getState().roles;return e?c.TF(e)?"anonymous":c.C5(e)?"client":c.QO(e)?"lightClient":"unknown":"inaccessible"}},deps:{context:l.l}},(0,r.J)({provide:i.eW,multi:!0,useValue:{project:"application-health"}})],p=(0,o.J)({name:"MonitoringApplicationHealthModule",providers:d})},53402:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r=(0,n(59999).V3)("INSTALL_TYPE")},26442:function(e,t,n){"use strict";n.d(t,{AO:function(){return a}});var r,o=n(80476),i=n(80283),a=r=function(){function e(){}return e.forRoot=function(e){return e.config,{mainModule:r,providers:[]}},e}();a=r=(0,o.__decorate)([(0,i.Y)({providers:[]})],a)},4948:function(e,t,n){"use strict";n.d(t,{II:function(){return R}});var r=n(58903),o=n(66598),i=n(97570),a=n(80772),u=n(82571),s=n(56003),c=n(8479),l=n(56873),f=n(17624),d="__default",p="__csr_fallback__",v="TRAMVAI_FORCE_CLIENT_SIDE_RENDERING",h={name:p,path:"/__csr_fallback__/",config:{bundle:d,pageComponent:p}},g=(0,o.J)({name:"ForceCSRModule",providers:[(0,i.J)({provide:u.sQ,useValue:[{key:v,optional:!0}]}),(0,i.J)({provide:c.TRAMVAI_RENDER_MODE,useFactory:function(e){return"true"===e.envManager.get(v)?"client":"ssr"},deps:{envManager:u.vC}}),(0,i.J)({provide:a.Bi.listen,useFactory:function(e){var t=e.componentRegistry,n=e.fallback,r=e.envManager;return function(){"true"===r.get(v)&&t.add(p,n,d)}},deps:{componentRegistry:s.K,fallback:{token:f.VT,optional:!0},envManager:u.vC}}),(0,i.J)({provide:a.Bi.customerStart,useFactory:function(e){var t=e.router,n=e.envManager;return function(){"true"===n.get(v)&&t.addRoute(h)}},deps:{router:l.l1,envManager:u.vC}})]}),m=n(52723),y=n(90130),b=n(44121),E=n(44488);var w=function(e){var t=e.children,n=(0,b.useState)(!1),r=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(m.Z,n,2),o=r[0],i=r[1],a=(0,E.x)(l.Y9),u=(0,E.x)(f.EO),s=(0,E.x)(f.wP),c=(0,E.x)({token:f.VT,optional:!0}),d=a.resolveComponentFromConfig(u)||c,p=function(e){var t,n=e.pageService,r=e.defaultRenderMode,o=n.getConfig(),i=o.pageComponent,a=o.pageRenderMode,u=(null!==(t=n.getComponent(i))&&void 0!==t?t:{}).renderMode,s=a||u||r;return"function"==typeof s?s():s}({pageService:a,defaultRenderMode:s});return(0,b.useEffect)((function(){"client"===p&&i(!0)}),[]),"client"!==p||o?(0,y.jsx)(y.Fragment,{children:t}):d?(0,y.jsx)(d,{}):null},k=function(e){return function(t){return(0,y.jsx)(w,{children:(0,y.jsx)(e,Object.assign({},t))})}},S=[(0,i.J)({provide:c.LAYOUT_OPTIONS,multi:!0,useFactory:function(e){var t;return{wrappers:(t={},t[e.wrapperType]=k,t)}},deps:{wrapperType:f.g2}}),(0,i.J)({provide:f.EO,useValue:"pageRenderFallback"}),(0,i.J)({provide:f.wP,useFactory:function(e){return e.tramvaiRenderMode},deps:{tramvaiRenderMode:c.TRAMVAI_RENDER_MODE}}),(0,i.J)({provide:f.g2,useValue:"page"})],R=(0,o.J)({name:"PageRenderModeModule",imports:[g],providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,S)})},17624:function(e,t,n){"use strict";n.d(t,{EO:function(){return i},VT:function(){return s},g2:function(){return u},wP:function(){return a}});var r=n(59999),o=n(67584),i=(0,r.V3)("pageRenderFallbackComponentName"),a=(0,r.V3)("pageRenderDefaultMode"),u=(0,r.V3)("pageRenderWrapperType"),s=(0,r.V3)("pageRenderDefaultFallbackComponent",{scope:o.s.SINGLETON})},34469:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=(0,n(66598).J)({name:"PreconnectResourcesModule",providers:[],extend:{forRoot:function(){return[]}}})},91287:function(e,t,n){"use strict";n.d(t,{tH:function(){return R}});var r=n(66598),o=n(58903),i=n(97570),a=n(59999),u=n(8479),s=n(82571),c=n(10650),l=n(67584),f=[(0,i.J)({provide:c.bK,scope:l.s.SINGLETON,useFactory:function(){return"/"}})],d=[(0,i.J)({provide:c.bK,useValue:"/"}),(0,i.J)({provide:c.jz,useValue:"/sw.js",deps:{swScope:c.bK}})],p=n(45232),v=n(17935),h=n.n(v),g=n(80772),m=n(82342),y=(0,i.J)({provide:g.Bi.init,useFactory:function(e){var t=e.workbox,n=(0,e.logger)("pwa:workbox");return function(){(0,p.Z)(h().mark((function e(){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:if(r=e.sent){e.next=7;break}return n.info("Service Worker registration stopped"),e.abrupt("return");case 7:return e.next=9,r.register();case 9:e.next=12;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),n.error({event:"register-failed",message:"Service Worker registration failed",error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()}},deps:{workbox:c.qE,logger:m.Fp}}),b=(0,i.J)({provide:c.qE,scope:l.s.SINGLETON,useFactory:function(e){var t=e.swUrl,r=e.swScope,o=(0,e.logger)("pwa:workbox"),i=null;return(0,p.Z)(h().mark((function e(){var a,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator){e.next=3;break}return o.info("Service Worker is not supported"),e.abrupt("return",i);case 3:if(!i){e.next=5;break}return e.abrupt("return",i);case 5:return e.next=7,n.e("tramvai-workbox-window").then(n.bind(n,20323));case 7:return a=e.sent,u=a.Workbox,(i=new u(t,{scope:r})).addEventListener("installed",(function(e){e.isUpdate})),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})))},deps:{swUrl:c.jz,swScope:c.bK,logger:m.Fp}});function E(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}var w=(0,r.J)({name:"TramvaiPwaWorkboxModule",providers:[].concat(E(o.Z,f),[(0,i.J)({provide:c.jz,useFactory:function(e){var t,n,r,o=e.swScope,i=(e.modern,e.envManager),a=e.swParams,u=(n=o,r=(t="sw.js").startsWith("/")?t:"/"+t,""+n.replace(/\/$/,"")+r),s=(i.get("TRAMVAI_FORCE_CLIENT_SIDE_RENDERING"),u);if(a&&a.length){var c=a.filter(Boolean).reduce((function(e,t){return e.concat(Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})))}),[]).join("&");c&&(s+="?"+c)}return s},deps:{swScope:c.bK,modern:u.MODERN_SATISFIES_TOKEN,envManager:s.vC,swParams:(0,a.jt)(c.sn)}}),b],E(o.Z,[y]))}),k=((0,r.J)({name:"TramvaiPwaLightWorkboxModule",providers:[].concat(E(o.Z,d),[b,y])}),(0,r.J)({name:"TramvaiPwaManifestModule",providers:[]})),S=((0,r.J)({name:"TramvaiPwaLightManifestModule",providers:[]}),(0,r.J)({name:"TramvaiPwaMetaModule",providers:[]})),R=(0,r.J)({name:"TramvaiPwaModule",imports:[w,k,S],providers:[]})},10650:function(e,t,n){"use strict";n.d(t,{bK:function(){return a},jz:function(){return i},qE:function(){return o},sn:function(){return u}});var r=n(59999),o=(0,r.V3)("pwa workbox"),i=(0,r.V3)("pwa sw url"),a=(0,r.V3)("pwa sw scope"),u=(0,r.V3)("pwa sw params",{multi:!0})},35384:function(e,t,n){"use strict";n.d(t,{K0:function(){return o},pc:function(){return a},wl:function(){return i}});var r=n(59999),o=(0,r.V3)("service worker params",{multi:!0}),i=(0,r.V3)("service worker init command line"),a=(0,r.V3)("pwa disable meta theme_color")},88693:function(e,t,n){"use strict";n.d(t,{sm:function(){return pe}});var r=n(45232),o=n(58903),i=n(17935),a=n.n(i),u=n(80476),s=n(80283),c=n(97570),l=n(80772),f=n(16842),d=n(59999),p=n(37621),v=n(82342),h=n(49076),g=n(8479),m=n(16254),y=n(57038),b=n(10776),E=n(44121),w=n(57702),k=n(27714),S=n.n(k),R=n(96980);var A,C,_=/Minified React error #(\d+);/;try{A=n(64054).a,C=n(44121).startTransition}catch(e){}var N=function(e){var t=e.children,n=e.callback;return(0,R.L)(n,[]),t},T=n(90130),O=n(33268),x=n(38003),I=n(15434),M=n.n(I),L=n(90794),P=function(e){var t=e.context,n=e.children,r=e.serverState;return(0,T.jsx)(L.h.Provider,{value:t,children:(0,T.jsx)(L.N.Provider,{value:r,children:n})})},V=n(43158),D=n(54143),F=n(44488),j=n(56873),U=function(){return(0,D.y)(),(0,F.x)(j.Y9)},B=n(81935),Z=n(73752),J=n(36840),H=function(e){var t=e.children,n=(0,F.x)(j.Y9),r=(0,B.w)(),o=(0,J.o)(y.oB),i=(0,E.useMemo)((function(){return o&&(0,Z.F)(o)}),[o]),a=(0,F.x)({token:O.O7,optional:!0}),u=(0,F.x)({token:O.Ek,optional:!0}),s=n.resolveComponentFromConfig("errorBoundary");return(0,T.jsx)(x.E,{url:r,error:i,errorHandlers:a,fallback:s,fallbackFromDi:u,children:t})},q=function(e){var t=e.children,n=U(),r=n.resolveComponentFromConfig("layout"),o=n.resolveComponentFromConfig("header"),i=n.resolveComponentFromConfig("footer");return(0,E.useMemo)((function(){return(0,T.jsx)(r,{Header:o,Footer:i,children:t})}),[r,o,i,t])},G=function(e){var t=e.children,n=U().resolveComponentFromConfig("nestedLayout");return(0,E.useMemo)((function(){return(0,T.jsx)(n,{children:t})}),[n,t])},W=function(){var e=U(),t=e.getConfig().pageComponent,n=e.getComponent(t);return n||(n=function(){throw new Error("Page component '"+t+"' not found")}),(0,E.useMemo)((function(){return(0,T.jsx)(H,{children:(0,T.jsx)(n,{})})}),[n])},Y=function(){var e=(0,E.useMemo)((function(){return(0,T.jsx)(W,{})}),[]),t=(0,E.useMemo)((function(){return(0,T.jsx)(G,{children:e})}),[e]);return(0,T.jsx)(q,{children:t})},K=function(e){var t=e.extendRender,n=function(e,t){var n=e.di,r=n.get({token:p.E6,optional:!0});return(0,T.jsx)(P,{context:t,serverState:null==r?void 0:r.stores,children:(0,T.jsx)(V.n.Provider,{value:n,children:(0,T.jsx)(Y,{})})})}({di:e.di},e.consumerContext);return t&&M()((function(e){n=e(n)}),t),n},Q=function(e){var t=e.extendRender,n=e.useStrictMode,r=e.di,o=e.consumerContext,i=K({di:r,consumerContext:o,extendRender:t});return n&&(i=(0,E.createElement)(E.StrictMode,null,i)),i},z=function(e){var t=e.defaultErrorBoundary,n=e.di,r={di:n,consumerContext:e.consumerContext,extendRender:e.extendRender,customRender:e.customRender,useStrictMode:e.useStrictMode},o=n.get({token:O.O7,optional:!0}),i=n.get({token:O.Ek,optional:!0});return(0,T.jsx)(x.E,{fallback:t,errorHandlers:o,fallbackFromDi:i,children:(0,T.jsx)(Q,Object.assign({},r))})};function $(e){var t=e.logger,r=e.consumerContext,o=e.customRender,i=e.extendRender,a=e.di,u=e.useStrictMode,s=e.rendererCallback,c=e.renderMode,l=e.defaultErrorBoundary,f=t("module-render");return new Promise((function(e,t){if(o)return o(K({extendRender:i,di:a,consumerContext:r}));var d=function(e){return null==s?void 0:s.forEach((function(t){try{t(e)}catch(e){console.error(e)}}))},p={element:(0,E.createElement)(z,{defaultErrorBoundary:l,extendRender:i,customRender:o,useStrictMode:u,consumerContext:r,di:a}),container:function(){return document.querySelector(".application")},callback:function(){f.debug("App rendering"),document.querySelector("html").classList.remove("no-js"),d(),e()},log:f,renderMode:c};try{!function(e){var t=e.element,r=e.container,o=e.callback,i=e.log,a=e.renderMode;if("function"!=typeof A)return(0,n(90776).hydrate)(t,r(),o);var u=(0,E.createElement)(N,{callback:o},t),s=new Map,c=S()(50,(function(){if(0!==s.size){var e=Array.from(s.values()),t=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(w.Z,e),n=t[0],r=n.error,o=n.errorInfo,a=t.slice(1);s=new Map,i.error({event:"hydrate:recover-after-error",error:r,errorInfo:o,otherErrors:a})}})),l=function(){return C((function(){A(r(),u,{onRecoverableError:function(e,t){var n,r,o=(null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"").match(_),i=null!==(r=null==o?void 0:o[1])&&void 0!==r?r:null==e?void 0:e.message;s.has(i)||("string"==typeof(null==t?void 0:t.componentStack)&&(t.componentStack=t.componentStack.split("\n").slice(0,15).join("\n")),s.set(i,{error:e,errorInfo:t})),c()}})}))};"streaming"===a?window.__TRAMVAI_DEFERRED_HYDRATION?l():window.__TRAMVAI_DEFERRED_HYDRATION=l:l()}(p)}catch(e){d(e),t(e)}}))}var X=n(67584),ee=n(30353),te=n.n(ee);var ne=function(e){return Array.isArray(e)?e:[e]},re=function(e,t){return ne(null!=t?t:[]).reduce((function(e,t){return t(e)}),e)},oe=n(33926),ie=["children"],ae=["header","footer","layout","content","page"],ue=function(e){return e.children},se=function(e){return(0,e.children)((0,oe.Z)(e,ie))},ce=function(e){return e.children},le=function(){};le=(0,u.__decorate)([(0,s.Y)({providers:[{provide:g.DEFAULT_LAYOUT_COMPONENT,scope:X.s.SINGLETON,useFactory:function(e){var t,n,r,i,a,u,s,c,l,f,d,p,v,h,g,m,y,b,E,w,k,S,R,A,C,_=(t=e.layoutOptions,te()(null!=t?t:[]).reduce((function(e,t){var n=e.components,r=e.wrappers;return t.components&&Object.assign(n,t.components),t.wrappers&&Object.keys(t.wrappers).forEach((function(e){var n;r[e]||(r[e]=[]),(n=r[e]).push.apply(n,function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(o.Z,ne(t.wrappers[e])))})),e}),{components:{},wrappers:{}}));return a=void 0===(i=(r=void 0===(n=_)?{}:n).components)?{}:i,u=r.wrappers,s=void 0===u?{}:u,l=void 0===(c=a.header)?se:c,d=void 0===(f=a.footer)?se:f,v=void 0===(p=a.layout)?ue:p,g=void 0===(h=a.content)?ue:h,y=void 0===(m=a.page)?ue:m,b=(0,oe.Z)(a,ae),E=re(v,s.layout),w=re(g,s.content),k=re(y,s.page),S=re(l,s.header),R=re(d,s.footer),A=Object.keys(b).map((function(e){return{name:e,Component:re(b[e],s[e])}})),(C=function(e){var t=e.children,n=e.Header,r=e.Footer;return(0,T.jsxs)(E,{children:[A.map((function(e){var t=e.Component,n=e.name;return(0,T.jsx)(t,{},n)})),(0,T.jsxs)(w,{children:[n?(0,T.jsx)(S,{children:function(e){return(0,T.jsx)(n,Object.assign({},e))}}):null,(0,T.jsx)(k,{children:t}),r?(0,T.jsx)(R,{children:function(e){return(0,T.jsx)(r,Object.assign({},e))}}):null]})]})}).displayName="Layout",C},deps:{layoutOptions:{token:g.LAYOUT_OPTIONS,optional:!0}}},{provide:"componentDefaultList",scope:X.s.SINGLETON,multi:!0,useFactory:function(e){return Object.assign({},e,{nestedLayoutDefault:ce})},deps:{layoutDefault:g.DEFAULT_LAYOUT_COMPONENT,footerDefault:{token:g.DEFAULT_FOOTER_COMPONENT,optional:!0},headerDefault:{token:g.DEFAULT_HEADER_COMPONENT,optional:!0},errorBoundaryDefault:{token:g.DEFAULT_ERROR_BOUNDARY_COMPONENT,optional:!0}}}]})],le);var fe,de=[(0,c.J)({provide:p.Ym,multi:!0,useValue:y.oB}),(0,c.J)({provide:g.TRAMVAI_RENDER_MODE,useValue:"ssr"})],pe=fe=function(){function e(){}return e.forRoot=function(e){var t=e.mode,n=e.useStrictMode,r=[];return"string"!=typeof t&&"boolean"!=typeof n||r.push({provide:g.USE_REACT_STRICT_MODE,useValue:null!=n?n:"strict"===t}),{mainModule:fe,providers:r}},e}();pe=fe=(0,u.__decorate)([(0,s.Y)({imports:[le],providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,de),[(0,c.J)({provide:m.Yv,multi:!0,useFactory:function(e){var t=e.store;return(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getState(y.oB)&&t.dispatch((0,y.IL)(null));case 1:case"end":return e.stop()}}),e)})))},deps:{store:p.kR}}),(0,c.J)({provide:g.RESOURCES_REGISTRY,useFactory:function(e){return e.logger,{getPageResources:function(){return[]},register:function(){}}},deps:{logger:v.Fp}}),(0,c.J)({provide:l.Bi.generatePage,useFactory:function(e){return function(){return window.contextExternal=e.consumerContext,$(e)}},deps:{logger:v.Fp,customRender:{token:g.CUSTOM_RENDER,optional:!0},extendRender:{token:g.EXTEND_RENDER,optional:!0},rendererCallback:{token:g.RENDERER_CALLBACK,optional:!0},consumerContext:h.l,di:f.Z,useStrictMode:g.USE_REACT_STRICT_MODE,renderMode:(0,d.jt)(g.REACT_SERVER_RENDER_MODE),defaultErrorBoundary:(0,d.jt)(g.DEFAULT_ERROR_BOUNDARY_COMPONENT)},multi:!0}),(0,c.J)({provide:g.RENDERER_CALLBACK,useFactory:function(e){var t=e.consumerContext;return function(){t.di.register({provide:"__TRAMVAI_HYDRATED",useValue:!0})}},deps:{consumerContext:h.l}}),(0,c.J)({provide:g.USE_REACT_STRICT_MODE,useFactory:function(e){return"strict"===e.deprecatedMode},deps:{deprecatedMode:g.RENDER_MODE}}),(0,c.J)({provide:g.RENDER_MODE,useValue:"legacy"}),(0,c.J)({provide:g.MODERN_SATISFIES_TOKEN,useFactory:function(e){var t=e.cookieManager.get("_t_modern");return("true"===t||"false"===t)&&JSON.parse(t)},deps:{cookieManager:b.T}}),(0,c.J)({provide:g.REACT_SERVER_RENDER_MODE,useValue:"sync"})])})],pe)},90188:function(e,t,n){"use strict";n.d(t,{uQ:function(){return i}});var r=n(80476),o=n(80283),i=function(){};i=(0,r.__decorate)([(0,o.Y)({providers:[]})],i)},16254:function(e,t,n){"use strict";n.d(t,{Ct:function(){return d},FZ:function(){return i},P$:function(){return f},U5:function(){return o},Yv:function(){return u},jB:function(){return c},p$:function(){return a},rZ:function(){return s},vR:function(){return l}});var r=n(59999),o=(0,r.V3)("router routerClassToken"),i=(0,r.V3)("router additionalParameters"),a=(0,r.V3)("router onChangeHooks",{multi:!0}),u=(0,r.V3)("router beforeResolveHooks",{multi:!0}),s=(0,r.V3)("router beforeNavigateHooks",{multi:!0}),c=(0,r.V3)("router afterNavigateHooks",{multi:!0}),l=(0,r.V3)("router beforeUpdateCurrentHooks",{multi:!0}),f=(0,r.V3)("router afterUpdateCurrentHooks",{multi:!0}),d=(0,r.V3)("router finalRouteTransform")},57038:function(e,t,n){"use strict";n.d(t,{IL:function(){return a},oB:function(){return u}});var r=n(42353),o=n(58426),i=n(73752),a=(0,r.y)("setPageError"),u=(0,o.L)("pageError",null).on(a,(function(e,t){return t&&(0,i.X)(t)}))},14908:function(e,t,n){"use strict";n.d(t,{L$:function(){return i},Qk:function(){return a},sH:function(){return u}});var r=n(42353),o=n(58426),i=(0,r.y)("SET_CURRENT_ROUTE"),a=(0,r.y)("SET_URL_ON_REHYDRATE"),u=(0,o.L)("router",{currentRoute:null,previousRoute:null,currentUrl:null,previousUrl:null}).on(i,(function(e,t){var n=t.to,r=t.from,o=t.url,i=t.fromUrl,a=t.replace;return{currentRoute:n,previousRoute:a?e.previousRoute:r,currentUrl:o,previousUrl:a?e.previousUrl:i}})).on(a,(function(e,t){return Object.assign({},e,{currentUrl:t})}))},56535:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(80476),o=(n(48945),n(80283)),i=function(){};i=(0,r.__decorate)([(0,o.Y)({providers:[]})],i)},3827:function(e,t,n){"use strict";n.d(t,{m9:function(){return ue}});var r=n(58903),o=n(80476),i=n(42282),a=n.n(i),u=n(80283),s=n(97570),c=n(67584),l=n(78377),f=n(37621),d=n(30353),p=n.n(d),v=n(28288),h=n.n(v),g=n(56873),m=n(49076),y=n(52723),b=n(49103),E=n.n(b);var w,k=function(){function e(){this.state=new Map}var t=e.prototype;return t.eachMeta=function(e){this.state.forEach((function(t,n){return e(t,n)}))},t.updateStateByPriority=function(e,t){var n=this.state.get(e);(!n||t.priority>=n.priority)&&this.state.set(e,t)},t.updateMeta=function(e,t){var n=this;return E()((function(t,r){(t||null===t)&&n.updateStateByPriority(r,{value:t,priority:e})}),t),this},t.get=function(e){return this.state.get(e)},t.reset=function(){this.state.clear()},t.getSerializableState=function(){return Array.from(this.state.entries())},t.mergeValuesFromSerializableState=function(e){var t=this;e.forEach((function(e){var n=function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,void 0!==n&&n<r?n:r)}return e(t,n)}(y.Z,e,2),r=n[0],o=n[1];t.updateStateByPriority(r,o)}))},e}(),S=n(19525),R=n(79351),A=n(42353),C=n(58426),_=(0,A.y)("set application metaWalk state"),N=(0,C.L)("appMeta",{serverMetaWalkState:[]}).on(_,(function(e,t){return Object.assign({},e,{serverMetaWalkState:t})})),T=n(16842),O=n(79436),x=n.n(O),I=n(77125),M=n.n(I),L=function(e){return M()("tag",e)?e:null},P=function(){function e(e){var t=e.list,n=e.transformValue,r=void 0===n?x():n,o=e.converters,i=void 0===o?{}:o,a=e.metaWalk;this.listSources=t,this.transformValue=r,this.converters=i,this.metaWalk=null!=a?a:new k}return e.prototype.dataCollection=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.listSources.map((function(t){return t.apply(void 0,[e.metaWalk].concat(n))}));var o=[];return this.metaWalk.eachMeta((function(t,n){if(null!==t.value){var r=e.transformValue(t),i=(e.converters[n]||L)(r.value);i&&(o=o.concat(a()(i)?i.filter(x()):i))}})),o},e}(),V="data-meta-dynamic",D=function(e){var t=e.tag,n=e.attributes,r=e.innerHtml,o=document.createElement(t);return r&&(o.innerHTML=r),n&&E()((function(e,t){o.setAttribute(t,e||"")}),n),o.setAttribute(V,"true"),o},F=function(){function e(e){this.meta=e}var t=e.prototype;return t.patchMeta=function(e){var t=e.head,n=e.addTags,r=e.removeTagsArray,o=!1;n.forEach((function(e){var n;if("title"===e.tagName.toLowerCase())n=r.find((function(e){return"title"===e.tagName.toLowerCase()}));else if("meta"===e.tagName.toLowerCase()&&"robots"===e.getAttribute("name"))o=!0;else if("meta"===e.tagName.toLowerCase()){var i=e.getAttribute("name"),a=e.getAttribute("property");n=r.find((function(e){return"meta"===e.tagName.toLowerCase()&&(i&&e.getAttribute("name")===i||a&&e.getAttribute("property")===a)&&"robots"!==e.getAttribute("name")}))}else"link"===e.tagName.toLowerCase()&&(n=r.find((function(t){return"link"===t.tagName.toLowerCase()&&"canonical"===t.getAttribute("rel")&&t.getAttribute("href")===e.getAttribute("href")})));n&&t.removeChild(n)})),o&&r.filter((function(e){return"robots"===e.getAttribute("name")})).forEach((function(e){t.removeChild(e)}))},t.update=function(e){void 0===e&&(e=!1);var t=document.head||document.querySelector("head"),n=this.meta.dataCollection().map(D),r=t.querySelectorAll("["+V+"]"),o=document.createDocumentFragment(),i=Array.from(r);e?this.patchMeta({head:t,addTags:n,removeTagsArray:i}):i.forEach((function(e){return t.removeChild(e)})),n.forEach((function(e){return o.appendChild(e)})),t.insertBefore(o,t.firstChild)},e}(),j=n(24970),U=n.n(j),B=n(4216),Z=n.n(B),J=n(18826),H=n.n(J),q=U()(Z(),H(),x()),G=function(e){return e.priority>10?{priority:e.priority,value:q(e.value)}:e},W=n(95775),Y=n.n(W),K=Y()(2,(function(e,t){return t&&{tag:e,innerHtml:t}})),Q=Y()(2,(function(e,t){return t&&{tag:"meta",attributes:{name:e,content:t}}})),z=Y()(2,(function(e,t){return t&&{tag:"meta",attributes:{property:e,content:t}}})),$=Y()(2,(function(e,t){return t&&{tag:"link",attributes:{rel:e,href:t}}})),X=[Q("robots","noindex, follow"),Q("robots","noarchive")],ee=[Q("robots","index, nofollow"),Q("robots","noarchive")],te=[Q("robots","none"),Q("robots","noindex, nofollow"),Q("robots","noarchive")],ne={all:[Q("robots","all"),Q("robots","index, follow"),Q("robots","noarchive")],noindex:X,"noindex, follow":X,nofollow:ee,"index, nofollow":ee,none:te,"noindex, nofollow":te},re={title:K("title"),description:Q("description"),keywords:Q("keywords"),canonical:$("canonical"),viewport:Q("viewport"),ogTitle:z("og:title"),ogDescription:z("og:description"),ogSiteName:z("og:site_name"),ogUrl:z("og:url"),ogType:z("og:type"),ogImage:z("og:image"),ogImageSecure:z("og:image:secure_url"),ogImageType:z("og:image:type"),ogImageAlt:z("og:image:alt"),ogImageWidth:z("og:image:width"),ogImageHeight:z("og:image:height"),ogLocale:z("og:locale"),twitterTitle:Q("twitter:title"),twitterDescription:Q("twitter:description"),twitterCard:Q("twitter:card"),twitterSite:Q("twitter:site"),twitterCreator:Q("twitter:creator"),twitterImage:Q("twitter:image"),twitterImageAlt:Q("twitter:image:alt"),robots:function(e){return ne[e]}},oe=(0,s.J)({provide:R.av,useFactory:function(e){var t=e.di;return function(e){var n=(void 0===e?{}:e).metaObj,r=t.get(R.h7);n&&r.updateMeta(S.CC,n);var o=new P({list:p()(t.get({token:R.ON,optional:!0,multi:!0})||[]),metaWalk:r,transformValue:G,converters:re});new F(o).update()}},deps:{di:T.Z}}),ie=function(e,t){void 0===t&&(t={});var n={};return Object.keys(t).forEach((function(r){var o;n[e+(o=r,""+o.charAt(0).toUpperCase()+o.slice(1))]=t[r]})),n},ae=[oe,{provide:R.h7,useClass:k},{provide:R.wu,useValue:{title:"Tramvai"}},{provide:R.ON,multi:!0,useFactory:function(e){var t,n=e.defaultMeta;return t=n,function(e){e.updateMeta(S.FI,t)}},deps:{defaultMeta:R.wu}},(0,s.J)({provide:R.ON,useFactory:function(e){var t=e.pageService;return function(e){var n=t.getMeta().seo||{},r=(t.getConfig()||{}).pageComponent,o=t.getComponent(r),i=o&&o.seo||{},a=h()({},n,i),u=a.shareSchema||{},s=Object.assign({},a.metaTags,ie("twitter",u.twitterCard),ie("og",u.openGraph));e.updateMeta(S.RR,s)}},multi:!0,deps:{pageService:g.Y9}}),{provide:R.ON,multi:!0,useFactory:function(e){var t=e.context,n=e.metaList,r=p()(n||[]);return function(e){r.forEach((function(n){return n(t,e)}))}},deps:{context:m.l,metaList:{token:"metaList",optional:!0}}},(0,s.J)({provide:f.Ym,multi:!0,useValue:N})],ue=w=function(){function e(){}return e.forRoot=function(e){if(a()(e))return{mainModule:w,providers:[{provide:"metaList",useValue:e,multi:!0}]};var t=e.metaUpdaters,n=e.metaDefault,r=[];return n&&r.push({provide:R.wu,useValue:n}),t&&r.push({provide:R.ON,useValue:t,multi:!0}),{providers:r,mainModule:w}},e}();ue=w=(0,o.__decorate)([(0,u.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(r.Z,ae),[(0,s.J)({provide:"router beforeNavigateHooks",multi:!0,useFactory:function(e){var t=e.metaWalk;return function(){t.reset()}},deps:{metaWalk:R.h7}}),(0,s.J)({provide:l.p,scope:c.s.SINGLETON,multi:!0,useFactory:function(e){var t=e.applyMeta;return function(e,n,r){if("client"===n&&("afterSpa"===r||"customer"===r)){var o=e.get(R.h7);if("customer"===r){var i=e.get({token:f.E6,optional:!0});o.mergeValuesFromSerializableState(i.stores.appMeta.serverMetaWalkState)}t()}}},deps:{applyMeta:R.av}})])})],ue)},19525:function(e,t,n){"use strict";n.d(t,{CC:function(){return i},FI:function(){return r},RR:function(){return o}});var r=0,o=10,i=20},79351:function(e,t,n){"use strict";n.d(t,{ON:function(){return a},av:function(){return u},h7:function(){return i},wu:function(){return o}});var r=n(59999),o=(0,r.V3)("metaDefaultPack"),i=(0,r.V3)("metaWalk"),a=(0,r.V3)("metaUpdater",{multi:!0}),u=(0,r.V3)("applyMeta")},70030:function(e,t,n){"use strict";n.d(t,{dI:function(){return F}});var r,o=n(58903),i=n(80476),a=n(80283),u=n(67584),s=n(80772),c=n(82342),l=n(5874),f=function(e){return Math.round(e)/1e3},d=function(e){return function(t){return e.test(t)}},p=d(/\.js$/),v=d(/\.css$/),h=d(/\.(?:svg|png|jpeg|webp|jpg)$/),g=d(/\.(?:woff|eot|woff2|ttf)/);!function(e){e.html="html",e.js="js",e.css="css",e.img="img",e.font="font",e.other="other"}(r||(r={}));var m=function(e,t){if(e.getEntriesByType)return e.getEntriesByType(t)},y=function(e){var t=m(e,"paint");return t&&t[0]?t[0].startTime:0},b=function(e,t){return e&&e[t]||0},E=function(e,t){return{duration:b(e,"duration")+f(t.duration),transferSize:b(e,"transferSize")+t.transferSize,encodedBodySize:b(e,"encodedBodySize")+t.encodedBodySize}},w=n(53930),k=n(56873),S=n(49076),R=n(9056),A=n(48945),C=n(37621),_=n(42353),N=n(58426),T=(0,_.y)("set instant metrics map"),O=(0,N.L)("instantMetrics",{instantMetricsMap:{}}).on(T,(function(e,t){return t})),x=[{provide:C.Ym,multi:!0,useValue:[O]}],I=function(){};I=(0,i.__decorate)([(0,a.Y)({providers:[].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,x),[{provide:s.Bi.init,scope:u.s.SINGLETON,multi:!0,useFactory:function(e){var t=e.logger,n=e.papiService,r=e.context;if(!n)return function(){};var o=r.getStore("instantMetrics").getState().instantMetricsMap,i=new A.RemoteReporter({requestCount:1,emitLevels:{trace:!0,debug:!0,info:!0,warn:!0,error:!0,fatal:!0},makeRequest:function(e){return o[e.event]?n.request({path:"metrics/"+e.event,method:"post",payload:e.value?{value:e.value}:{}}).then((function(e){return e.payload})):Promise.resolve()}});return function(){t.addReporter(i)}},deps:{papiService:{token:R.J2,optional:!0},context:S.l,logger:c.Fp}}])})],I);var M=function(){};M=(0,i.__decorate)([(0,a.Y)({imports:[I],providers:[{provide:l.k3,useFactory:function(){return{counter:function(e){return new w.AT(Object.assign({},e))},gauge:function(e){return new w.aC(Object.assign({},e))},histogram:function(e){return new w.b5(Object.assign({},e))},summary:function(e){return new w.ER(Object.assign({},e))}}},scope:u.s.SINGLETON},{provide:s.Bi.init,useFactory:function(e){var t=e.logger,n=e.pageService;return function(){window.addEventListener("load",(function(){setTimeout((function(){var e,o,i=function(){var e;try{if(!(e=window.performance).timing||!e.timing.loadEventEnd)throw 0===e.timing.loadEventEnd&&console.error("Library used at browser initialization page. Reed docs"),new Error("Not implemented timing api")}catch(e){return{}}var t=e.timing,n=t.requestStart,o=t.responseStart,i=t.responseEnd,a=t.domComplete,u=t.loadEventEnd,s=t.domInteractive,c=t.navigationStart,l=[{key:"connection",start:c,end:n},{key:"backend",start:n,end:o},{key:"pageDownload",start:o,end:i},{key:"first-paint",start:0,end:y(e)},{key:"domInteractive",start:c,end:s},{key:"domComplete",start:c,end:a},{key:"pageLoadTime",start:c,end:u}],d={};return l.forEach((function(e){var t=f(e.end-e.start);d[e.key]=t>0||t<2e3?t:void 0})),d.download=function(e){var t={},n=m(e,"resource");if(n&&n.length>0){var o={};n.forEach((function(e){var n=function(e){switch(!0){case v(e):return r.css;case p(e):return r.js;case h(e):return r.img;case g(e):return r.font;default:return r.other}}(e.name.split("?",1)[0]);r[n]&&(o[n]||(o[n]=0),o[n]++,t[n]=E(t[n],e),t[n].count=o[n])}))}var i=m(e,"navigation");return i&&i.length>0&&(t[r.html]=E({},i[0])),t}(e),d}();t({name:"metrics:perf",defaults:{remote:{emitLevels:{info:!0}}}}).info(Object.assign({},i,{event:"perf-timings",deviceType:-1!==(null===(e=navigator.userAgent)||void 0===e?void 0:e.indexOf("Mobi"))?"mobile":"desktop",urlMask:null===(o=n.getCurrentRoute())||void 0===o?void 0:o.path}))}),0)}))}},multi:!0,deps:{logger:c.Fp,pageService:k.Y9}}]})],M);var L=n(68162),P=n(29772),V=[{provide:L.a9,useFactory:function(e){return"/"+e.appInfo.appName+"/papi"},deps:{appInfo:P.Qo}},{provide:L.QR,useFactory:function(e){return"/"+e.appInfo.appName+"/private/papi"},deps:{appInfo:P.Qo}}],D=function(){};D=(0,i.__decorate)([(0,a.Y)({providers:function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,V)})],D);var F=function(){};F=(0,i.__decorate)([(0,a.Y)({imports:[M,D].concat(function(e,t,n){if(t&&!Array.isArray(t)&&"number"==typeof t.length){var r=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(t,r)}return e(t,n)}(o.Z,[!1].filter(Boolean))),providers:[]})],F)},26874:function(e,t){"use strict";t.It="pcId"},65554:function(e,t,n){"use strict";n.d(t,{Gi:function(){return d}});var r=n(80283),o=n(97570),i=n(10776),a=n(82912),u=n(3566),s=/^[0-9a-f]{16}$/,c=/^[0-9a-f]{32}$/,l=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/,f=function(e,t){var n,r,o="cookies"===t.from?(n=e.cookie,t.isWebview?null===(r=n.get("deviceId"))||void 0===r?void 0:r.toLowerCase():n.get("__P__wuid")):function(e){var t=e.getParsedUrl().query.wuid;if("string"==typeof t)return t}(e.requestManager);if(o&&function(e){return s.test(e)||c.test(e)||l.test(e)}(o))return o},d=(0,r.Y)({imports:[],providers:[(0,o.J)({provide:u.$,useFactory:function(e){var t="true"===e.requestManager.getParsedUrl().query.iswebview,n=f(e,{from:"query"}),r=f(e,{from:"cookies",isWebview:t}),o=f(e,{from:"cookies"});return t&&r?r:null!=n?n:o},deps:{cookie:i.T,requestManager:a.G}})]})((function(){}))},3566:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var r=(0,n(59999).V3)("webUserId")},34754:function(e,t,n){"use strict";n.d(t,{z2:function(){return r}});var r=function(e){var t;return Object.assign(e.handler,((t={}).__papi_parameters__=Object.assign({},e,{options:Object.assign({timeout:1e4},e.options),method:e.method||"all"}),t))}},43158:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var r=(0,n(44121).createContext)(null)},44488:function(e,t,n){"use strict";n.d(t,{T:function(){return u},x:function(){return c}});var r=n(44121),o=n(57801),i=n.n(o),a=n(43158),u=function(){var e=(0,r.useContext)(a.n);if(!e)throw new Error("DI container not found");return e},s=function(e){return"token"in e&&(1===Object.keys(e).length||"boolean"==typeof e.optional||"boolean"==typeof e.multi)};function c(e){var t=u();return(0,r.useMemo)((function(){return"[object Object]"!==e.toString()||s(e)?t.get(e):i()((function(e){return t.get(e)}),e)}),[e,t])}},38003:function(e,t,n){"use strict";n.d(t,{E:function(){return u}});var r=n(35207),o=n(90130),i=n(44121),a=n(77094),u=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={error:t.error||null,url:t.url},n}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return void 0===e.url?{error:e.error||t.error}:e.url!==t.url?{error:e.error||null,url:e.url}:{error:e.error||t.error,url:t.url}},t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.componentDidCatch=function(e,t){var n=this.props.errorHandlers;n&&n.forEach((function(n){n(e,t)}))},n.render=function(){var e=this.props,t=e.children,n=e.fallback,r=e.fallbackFromDi,i=this.state,u=i.url,s=i.error;return s?n?(0,o.jsx)(n,{url:u,error:s}):r||(0,o.jsx)(a.R,{}):t},t}(i.Component);u.displayName="UniversalErrorBoundary"},77094:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(90130),o=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{textAlign:"center",marginBottom:11,paddingTop:26,fontSize:30,lineHeight:"36px",fontWeight:200},children:"An error occurred :("}),(0,r.jsxs)("div",{style:{textAlign:"center",marginBottom:17,color:"#9299a2",fontSize:20,lineHeight:"24px"},children:["Try"," ",(0,r.jsx)("a",{href:"",onClick:function(){return window.location.reload()},children:"reloading the page"})]})]})};o.displayName="FallbackError"},33268:function(e,t,n){"use strict";n.d(t,{Ek:function(){return a},O7:function(){return o},Rd:function(){return i}});var r=n(59999),o=(0,r.V3)("reactErrorBoundaryHandlers",{multi:!0}),i=(0,r.V3)("rootErrorBoundaryComponent"),a=(0,r.V3)("errorBoundaryFallbackComponent")},42549:function(e,t,n){"use strict";n.d(t,{BU:function(){return c},Vo:function(){return f},gm:function(){return l}});var r=n(45232),o=n(17935),i=n.n(o),a=n(87346),u=n.n(a),s=n(57295),c=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!("load"in t)||"function"!=typeof t.load){e.next=9;break}return e.next=5,t.load();case 5:return n=e.sent,r=n.__esModule?n.default:n.default||n,u()(t,r),e.abrupt("return",r);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e,t){if("CSS_CHUNK_LOAD_FAILED"===(null==e?void 0:e.code)){var n=e.request;if(document.querySelector('link[href="'+n+'"]')||document.querySelector('link[data-href="'+n+'"]'))return t()}throw e},f=function(e,t){void 0===t&&(t={});var n=e.importAsync;return e.importAsync=function(){return n().catch((function(e){return l(e,n)}))},t.suspense?(0,s.Vo)(e):(0,s.ZP)(e,{fallback:t.loading})}},71358:function(e,t,n){"use strict";n.r(t),n.d(t,{DIContext:function(){return r.n},ERROR_BOUNDARY_FALLBACK_COMPONENT_TOKEN:function(){return v.Ek},ERROR_BOUNDARY_TOKEN:function(){return v.O7},ErrorBoundary:function(){return h},FallbackError:function(){return p.R},ROOT_ERROR_BOUNDARY_COMPONENT_TOKEN:function(){return v.Rd},UniversalErrorBoundary:function(){return c.E},__lazyErrorHandler:function(){return m.gm},lazy:function(){return m.Vo},resolveLazyComponent:function(){return m.BU},useDi:function(){return u.x},useDiContainer:function(){return u.T},withDi:function(){return s},withError:function(){return g}});var r=n(43158),o=n(90130),i=n(87346),a=n.n(i),u=n(44488),s=function(e){return function(t){return a()((function(n){var r=(0,u.x)(e);return(0,o.jsx)(t,Object.assign({},n,r))}),t)}},c=n(38003),l=n(35207),f=n(80476),d=n(44121),p=n(77094),v=n(33268),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}(0,l.Z)(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(e,t){var n=this.props.errorHandlers;n&&n.forEach((function(n){n(e,t)}))},n.render=function(){var e=this.props,t=e.children,n=e.fallbackComponent,r=e.fallbackComponentFromDi;return this.state.hasError?n||r||(0,o.jsx)(p.R,{}):t},t}(d.Component);h.displayName="ErrorBoundary",h=(0,f.__decorate)([s({errorHandlers:{token:v.O7,optional:!0},fallbackComponentFromDi:{token:v.Ek,optional:!0}})],h);var g=function(e){var t=(void 0===e?{}:e).fallbackComponent;return function(e){return a()((function(n){return(0,o.jsx)(h,{fallbackComponent:t,children:(0,o.jsx)(e,Object.assign({},n))})}),e)}},m=n(42549)},73752:function(e,t,n){"use strict";function r(e){return Object.assign({},e,{message:e.message,stack:e.stack})}function o(e){var t=new Error(e.message);return Object.assign(t,e),t}n.d(t,{F:function(){return o},X:function(){return r}})},42866:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=function(e,t){if(void 0===t&&(t=null),void 0===e)return t;try{return JSON.parse(e)}catch(e){return t}}},7349:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r=function(e,t,n){try{return JSON.stringify(e,t,n)}catch(r){return function(e,t,n){var r=new Set,o=t||function(e){return e};return JSON.stringify(e,(function(e,t){return t&&"object"==typeof t?r.has(t)?"[~Circular~]":(r.add(t),o(t)):o(t)}),n)}(e,t,n)}}},90794:function(e,t,n){"use strict";n.d(t,{N:function(){return i},h:function(){return o}});var r=n(44121),o=(0,r.createContext)(null),i=(0,r.createContext)(null)},16615:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(44121),o=n(90794),i=function(){var e=(0,r.useContext)(o.h);if(!e)throw new Error('CONSUMER_CONTEXT not found, have you added "@tramvai/module-common"?\nAlso, you can check "@tramva/state" library duplicates in project lock file.');return e}},97548:function(e,t,n){"use strict";n.d(t,{v:function(){return y}});var r=n(5881),o=n.n(r),i=n(44121),a=n(13311),u=i.useLayoutEffect,s=n(25692),c=n.n(s),l=n(5103),f=n.n(l),d=n(66426),p=n(16615),v=function(){function e(e){var t=this;this.handleStateChange=function(){t.onStateChange&&t.onStateChange()},this.stores=e,this.unsubscribe=void 0}var t=e.prototype;return t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.setOnStateChange=function(e){this.onStateChange=e},t.trySubscribe=function(){var e=this;this.unsubscribe||(this.unsubscribe=this.stores.filter(Boolean).map((function(t){return t.on("change",e.handleStateChange),function(){t.removeListener("change",e.handleStateChange)}})))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe.forEach((function(e){return e()})),this.unsubscribe=void 0),this.onStateChange=void 0},e}(),h=n(75633),g=n(90794),m=(0,h.R)();function y(e,t,n){void 0===n&&(n=o()),c()(t,"You must pass a selector to useSelectors");var r,s=(0,p.x)(),l=(0,i.useContext)(g.N),h=(0,i.useRef)(!1),y=(0,a.s)(e),b=(0,i.useMemo)((function(){return new v(f()(y).map(s.getStore))}),[y,s]),E=(0,i.useRef)(),w=(0,i.useCallback)((function(e){return b.setOnStateChange((function(){h.current||(h.current=!0,m((function(){e(),h.current=!1})))})),b.trySubscribe(),function(){return b.tryUnsubscribe()}}),[b]);try{r=(0,d.useSyncExternalStoreWithSelector)(w,s.getState,l?function(){return l}:s.getState,t,n)}catch(e){var k="An error occurred while selecting the store state: "+e.message+".";throw E.current&&(k+="\nThe error may be correlated with this previous error:\n"+E.current.stack+"\n\nOriginal stack trace:"),new Error(k)}return u((function(){E.current=void 0})),r}},36840:function(e,t,n){"use strict";n.d(t,{o:function(){return u}});var r=n(44121),o=n(86949),i=n(90794),a=n(16615);function u(e){var t=(0,a.x)(),n=(0,r.useContext)(i.N),u=(0,r.useRef)(e),s=(0,r.useRef)(null);t.hasStore(e)||(t.registerStore(e),s.current=e.storeName);var c=(0,r.useCallback)((function(n){var r=t.subscribe(e,n);return u.current=e,function(){r(),s.current&&(t.unregisterStore(u.current),s.current=null)}}),[e,t]);return(0,o.useSyncExternalStore)(c,(function(){return t.getState(e)}),n?function(){return n[e.storeName]}:function(){return t.getState(e)})}},30362:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(44121),o=n(97548),i=function(e,t){var n=(0,r.useCallback)((function(n){return t(n[e.storeName])}),[e,t]);return(0,o.v)(e,n)}},75633:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=window;function o(){return"requestAnimationFrame"in r?requestAnimationFrame:"setImmediate"in r?r.setImmediate:setTimeout}},42353:function(e,t,n){"use strict";n.d(t,{b:function(){return a},y:function(){return i}});var r=n(79436),o=n.n(r);function i(e,t){void 0===t&&(t=o());var n=e,r=function e(){return{type:n,payload:t.apply(void 0,arguments),store:e.store}};return r.getType=function(){return n},r.toString=function(){return n},r}var a=function(e){return"function"==typeof e&&"getType"in e}},58426:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var r=n(35207),o=n(42353),i=n(24069);function a(e,t){var n="object"==typeof e?e:{name:e,initialState:t},a=n.name,u=n.initialState,s={},c=function(e){function t(){var t;return(t=e.call(this)||this).state=u,t}(0,r.Z)(t,e),t.createEvents=function(e){var n=this,r=Object.keys(e),i={};return r.forEach((function(r){var a=e[r],u=(0,o.y)(n.storeName+"_"+r);i[r]=u,t.on(u,a)})),i},t.on=function(e,n){if(Array.isArray(e))return e.forEach((function(e){return t.on(e,n)})),t;(0,o.b)(e)&&!e.store&&(e.store=t);var r=e.toString();return t.handlers[r]="handle",s[r]=n,t};var n=t.prototype;return n.getState=function(){return this.state},n.setState=function(e){this.state=e,this.emit("change")},n.dehydrate=function(){return this.state},n.rehydrate=function(e){this.state=e},n.handle=function(e,t){var n=s[t];n&&(this.state=n(this.state,e),this.emit("change"))},t}(i.Z);return c.storeName=a,c.events=void 0,c.handlers={},"object"==typeof e&&e.events&&(c.events=c.createEvents(e.events)),c}},24069:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(){function e(){this.listeners=new Set}var t=e.prototype;return t.emit=function(e){this.listeners.forEach((function(e){e()}))},t.addListener=function(e,t){this.listeners.add(t)},t.on=function(e,t){this.addListener(e,t)},t.removeListener=function(e,t){this.listeners.delete(t)},t.off=function(e,t){this.removeListener(e,t)},e}()},13311:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r=n(44121),o=n(5881),i=n.n(o),a=function(e){var t=(0,r.useRef)(e);return i()(t.current,e)||(t.current=e),t.current}},92946:function(e,t,n){"use strict";n.d(t,{DL:function(){return c},JB:function(){return l},JS:function(){return p},O7:function(){return s},Tx:function(){return v},Z1:function(){return d},fg:function(){return o},iu:function(){return f},l4:function(){return i},w1:function(){return u},xs:function(){return a}});var r=n(59999),o=(0,r.V3)("ADMIN_SERVICE"),i=(0,r.V3)("ADMIN_RESOURCES_SERVICE"),a=(0,r.V3)("ADMIN_PAGE_ENRICHMENT_SERVICE"),u=(0,r.V3)("INTEGRATION_ADMIN_SERVICE"),s=(0,r.V3)("ADMIN_API_HTTP_CLIENT_FACTORY"),c=(0,r.V3)("ADMIN_API_DEFAULT_OPTIONS_FACTORY"),l=(0,r.V3)("TINKOFF_API_SERVICE"),f=(0,r.V3)("COMMON_API_HTTP_CLIENT_FACTORY"),d=(0,r.V3)("COMMON_API_DEFAULT_OPTIONS_FACTORY"),p=(0,r.V3)("apiOriginService"),v=(0,r.V3)("apiOriginServiceDecorator",{multi:!0})},69736:function(e,t,n){"use strict";n.d(t,{C7:function(){return m},JG:function(){return d},QZ:function(){return h},Ri:function(){return p},SG:function(){return c},TN:function(){return f},WO:function(){return v},Zh:function(){return u},db:function(){return i},hM:function(){return l},i6:function(){return o},qt:function(){return g},sI:function(){return s},sV:function(){return a},uJ:function(){return y}});var r=n(59999),o=(0,r.V3)("authenticator"),i=(0,r.V3)("sessionManager"),a=(0,r.V3)("sessionCookieName"),u=(0,r.V3)("sessionLifetimeController"),s=(0,r.V3)("authStrategies",{multi:!0}),c=(0,r.V3)("authenticatorTimingCallbacks"),l=(0,r.V3)("logoutRedirectUrl"),f=(0,r.V3)("onResolveAuthenticate"),d=(0,r.V3)("onAccessDeniedRedirectToken"),p=(0,r.V3)("accessDeniedRedirectUrl"),v=(0,r.V3)("onHasAccessToken"),h=(0,r.V3)("onLogoutRedirectToken"),g=(0,r.V3)("onRouteGuardRedirectToken"),m=(0,r.V3)("isClientAuthenticationToken"),y=(0,r.V3)("API_AUTH_METHOD_TOKEN")},71533:function(e,t,n){"use strict";n.d(t,{D7:function(){return s},FM:function(){return a},R$:function(){return i},R9:function(){return o},m1:function(){return c},xW:function(){return u}});var r=n(59999),o=(0,r.V3)("actionRegistry"),i=(0,r.V3)("actionExecution"),a=(0,r.V3)("actionPageRunner"),u=(0,r.V3)("actionConditionals",{multi:!0}),s=(0,r.V3)("limitActionGlobalTimeRun"),c=(0,r.V3)("tramvai deferred actions map")},83005:function(e,t,n){"use strict";n.d(t,{g:function(){return o},x:function(){return i}});var r=n(59999),o=(0,r.V3)("bundleManager"),i=(0,r.V3)("additional bundle",{multi:!0})},16011:function(e,t,n){"use strict";n.d(t,{SQ:function(){return s},TZ:function(){return i},YQ:function(){return u},oK:function(){return a},xC:function(){return o}});var r=n(59999),o=(0,r.V3)("createCache"),i=(0,r.V3)("registerClearCache",{multi:!0}),a=(0,r.V3)("clearCache"),u="memory",s="memory-lfu"},65538:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var r=(0,n(59999).V3)("cacheMetricsServer")},56003:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r=(0,n(59999).V3)("componentRegistry")},49076:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r=(0,n(59999).V3)("context")},82571:function(e,t,n){"use strict";n.d(t,{L3:function(){return a},hq:function(){return s},sQ:function(){return u},vC:function(){return i}});var r=n(59999),o=n(67584),i=(0,r.V3)("environmentManager",{scope:o.s.SINGLETON}),a=(0,r.V3)("clientEnvironmentManager",{scope:o.s.REQUEST}),u=(0,r.V3)("envUsed",{multi:!0}),s=(0,r.V3)("env template token",{multi:!0,scope:o.s.SINGLETON})},10112:function(e,t,n){"use strict";n.d(t,{mj:function(){return i},p7:function(){return a},vV:function(){return o}});var r=n(59999),o=(0,r.V3)("common ExecutionContextManager"),i=(0,r.V3)("common rootExecutionContext"),a=(0,r.V3)("common commandLineExecutionContext")},45838:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r=(0,n(59999).V3)("hooks")},12052:function(e,t,n){"use strict";n.r(t),n.d(t,{ACTION_CONDITIONALS:function(){return i.xW},ACTION_EXECUTION_TOKEN:function(){return i.R$},ACTION_PAGE_RUNNER_TOKEN:function(){return i.FM},ACTION_REGISTRY_TOKEN:function(){return i.R9},ADDITIONAL_BUNDLE_TOKEN:function(){return r.x},ASYNC_LOCAL_STORAGE_TOKEN:function(){return m},BUNDLE_MANAGER_TOKEN:function(){return r.g},CACHE_METRICS_SERVER_TOKEN:function(){return s.P},CLEAR_CACHE_TOKEN:function(){return c.oK},CLIENT_ENV_REPOSITORY_TOKEN:function(){return h.L3},COMBINE_REDUCERS:function(){return f.Ym},COMMAND_LINE_EXECUTION_CONTEXT_TOKEN:function(){return g.p7},COMPONENT_REGISTRY_TOKEN:function(){return l.K},CONTEXT_TOKEN:function(){return o.l},CREATE_CACHE_TOKEN:function(){return c.xC},DEFERRED_ACTIONS_MAP_TOKEN:function(){return i.m1},DISPATCHER_CONTEXT_TOKEN:function(){return f.jm},DISPATCHER_TOKEN:function(){return f.qb},ENV_MANAGER_TOKEN:function(){return h.vC},ENV_TEMPLATE_TOKEN:function(){return h.hq},ENV_USED_TOKEN:function(){return h.sQ},EXECUTION_CONTEXT_MANAGER_TOKEN:function(){return g.vV},HOOK_TOKEN:function(){return a.v},INITIAL_APP_STATE_TOKEN:function(){return f.E6},LIMIT_ACTION_GLOBAL_TIME_RUN:function(){return i.D7},LOGGER_INIT_HOOK:function(){return d.J0},LOGGER_REMOTE_REPORTER:function(){return d.DV},LOGGER_SHARED_CONTEXT:function(){return d.yV},LOGGER_TOKEN:function(){return d.Fp},MEMORY_LFU:function(){return c.SQ},MEMORY_LRU:function(){return c.YQ},PUBSUB_FACTORY_TOKEN:function(){return u.eP},PUBSUB_TOKEN:function(){return u.k3},REGISTER_CLEAR_CACHE_TOKEN:function(){return c.TZ},REQUEST_MANAGER_TOKEN:function(){return p.G},RESPONSE_MANAGER_TOKEN:function(){return v.r},ROOT_EXECUTION_CONTEXT_TOKEN:function(){return g.mj},ROOT_PUBSUB_TOKEN:function(){return u.Tm},STORE_MIDDLEWARE:function(){return f.PU},STORE_TOKEN:function(){return f.kR}});var r=n(83005),o=n(49076),i=n(71533),a=n(45838),u=n(17173),s=n(65538),c=n(16011),l=n(56003),f=n(37621),d=n(82342),p=n(82912),v=n(80858),h=n(82571),g=n(10112),m=(0,n(59999).V3)("ASYNC_LOCAL_STORAGE_TOKEN")},82342:function(e,t,n){"use strict";n.d(t,{DV:function(){return a},Fp:function(){return o},J0:function(){return i},yV:function(){return u}});var r=n(59999),o=(0,r.V3)("logger"),i=(0,r.V3)("loggerHook",{multi:!0}),a=(0,r.V3)("remoteReporter"),u=(0,r.V3)("tramvai logger shared context")},17173:function(e,t,n){"use strict";n.d(t,{Tm:function(){return a},eP:function(){return o},k3:function(){return i}});var r=n(59999),o=(0,r.V3)("pubsubFactory"),i=(0,r.V3)("pubsub"),a=(0,r.V3)("rootPubsub")},82912:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var r=(0,n(59999).V3)("requestManager")},80858:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var r=(0,n(59999).V3)("responseManager")},37621:function(e,t,n){"use strict";n.d(t,{E6:function(){return l},PU:function(){return c},Ym:function(){return u},jm:function(){return a},kR:function(){return s},qb:function(){return i}});var r=n(59999),o=n(67584),i=(0,r.V3)("dispatcher"),a=(0,r.V3)("dispatcherContext"),u=(0,r.V3)("combineReducers",{multi:!0,scope:o.s.SINGLETON}),s=(0,r.V3)("store"),c=(0,r.V3)("storeMiddleware",{multi:!0}),l=(0,r.V3)("initialAppState")},10776:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var r=(0,n(59999).V3)("cookieManager")},78377:function(e,t,n){"use strict";n.d(t,{p:function(){return i},x:function(){return o}});var r=n(59999),o=(0,r.V3)("commandLineRunner timingInfo"),i=(0,r.V3)("commandLineRunner executionEnd",{multi:!0})},80772:function(e,t,n){"use strict";n.d(t,{Bi:function(){return s},PR:function(){return u},S9:function(){return a}});var r=n(59999),o=n(67584),i={multi:!0},a=(0,r.V3)("commandLineRunner"),u=(0,r.V3)("commandLines"),s={init:(0,r.V3)("init",{multi:!0,scope:o.s.SINGLETON}),listen:(0,r.V3)("listen",{multi:!0,scope:o.s.SINGLETON}),customerStart:(0,r.V3)("customer_start",i),resolveUserDeps:(0,r.V3)("resolve_user_deps",i),resolvePageDeps:(0,r.V3)("resolve_page_deps",i),generatePage:(0,r.V3)("generate_page",i),clear:(0,r.V3)("clear",i),spaTransition:(0,r.V3)("spa_transition",i),afterSpaTransition:(0,r.V3)("after_spa_transition",i),close:(0,r.V3)("close",{multi:!0,scope:o.s.SINGLETON})}},62054:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var r=(0,n(59999).V3)("tramvai tapable hook factory")},29772:function(e,t,n){"use strict";n.d(t,{Bi:function(){return i.Bi},I7:function(){return s},PR:function(){return i.PR},Qo:function(){return l},S9:function(){return i.S9},dV:function(){return o.d},jk:function(){return a.j},mJ:function(){return c},om:function(){return u}});var r=n(59999),o=n(59576),i=n(80772),a=n(62054),u=(0,r.V3)("bundleList"),s=(0,r.V3)("actionsList"),c=(0,r.V3)("modulesList"),l=(0,r.V3)("appInfo")},9056:function(e,t,n){"use strict";n.d(t,{FB:function(){return o},FF:function(){return i},J2:function(){return l},Z0:function(){return a},bV:function(){return u},pW:function(){return f},s:function(){return c},zn:function(){return s}});var r=n(59999),o=(0,r.V3)("HTTP_CLIENT_FACTORY"),i=(0,r.V3)("DEFAULT_HTTP_CLIENT_FACTORY_OPTIONS"),a=(0,r.V3)("DEFAULT_HTTP_CLIENT_INTERCEPTORS",{multi:!0}),u=(0,r.V3)("HTTP_CLIENT"),s=(0,r.V3)("HTTP_CLIENT_AGENT"),c=(0,r.V3)("apiClientPassHeaders",{multi:!0}),l=(0,r.V3)("papi service"),f=(0,r.V3)("disable circuit breaker")},5874:function(e,t,n){"use strict";n.d(t,{Yy:function(){return i},k3:function(){return o}});var r=n(59999),o=(0,r.V3)("metricsModule"),i=(0,r.V3)("metricsServicesRegistry")},12327:function(e,t,n){"use strict";n.d(t,{sH:function(){return r}});var r=(0,n(59999).V3)("reactQuery queryClient")},8479:function(e,t,n){"use strict";n.r(t),n.d(t,{ASSETS_PREFIX_TOKEN:function(){return T},BACK_FORWARD_CACHE_ENABLED:function(){return A},CUSTOM_RENDER:function(){return l},DEFAULT_ASSETS_PREFIX_TOKEN:function(){return O},DEFAULT_ERROR_BOUNDARY_COMPONENT:function(){return b},DEFAULT_FOOTER_COMPONENT:function(){return y},DEFAULT_HEADER_COMPONENT:function(){return m},DEFAULT_LAYOUT_COMPONENT:function(){return g},EXTEND_RENDER:function(){return h},FETCH_WEBPACK_STATS_TOKEN:function(){return N},HTML_ATTRS:function(){return s},LAYOUT_OPTIONS:function(){return E},MODERN_SATISFIES_TOKEN:function(){return R},POLYFILL_CONDITION:function(){return d},REACT_SERVER_RENDER_MODE:function(){return C},REACT_STREAMING_RENDER_TIMEOUT:function(){return _},RENDERER_CALLBACK:function(){return c},RENDER_FLOW_AFTER_TOKEN:function(){return S},RENDER_MODE:function(){return p},RENDER_SLOTS:function(){return u},RESOURCES_REGISTRY:function(){return f},RESOURCE_INLINE_OPTIONS:function(){return w},ResourceSlot:function(){return a},ResourceType:function(){return i.LO},TRAMVAI_RENDER_MODE:function(){return k},USE_REACT_STRICT_MODE:function(){return v}});var r=n(59999),o=n(67584),i=n(73212),a=n(23436),u=(0,r.V3)("RENDER_SLOTS",{multi:!0}),s=(0,r.V3)("HTML_ATTRS",{multi:!0}),c=(0,r.V3)("RENDERER_CALLBACK",{multi:!0}),l=(0,r.V3)("CUSTOM_RENDER"),f=(0,r.V3)("resourcesRegistry"),d=(0,r.V3)("POLYFILL_CONDITION"),p=(0,r.V3)("RENDER_MODE"),v=(0,r.V3)("useReactStrictMode"),h=(0,r.V3)("EXTEND_RENDER",{multi:!0}),g=(0,r.V3)("defaultLayoutComponent",{scope:o.s.SINGLETON}),m=(0,r.V3)("defaultHeaderComponent",{scope:o.s.SINGLETON}),y=(0,r.V3)("defaultFooterComponent",{scope:o.s.SINGLETON}),b=(0,r.V3)("defaultErrorBoundaryComponent"),E=(0,r.V3)("layoutOptions",{multi:!0,scope:o.s.SINGLETON}),w=(0,r.V3)("resourceInlineThreshold",{scope:o.s.SINGLETON}),k=(0,r.V3)("tramvaiRenderMode"),S=(0,r.V3)("render flow after",{multi:!0}),R=(0,r.V3)("modernSatisfies"),A=(0,r.V3)("back forward cache"),C=(0,r.V3)("reactServerRenderMode"),_=(0,r.V3)("react streaming render timeout"),N=(0,r.V3)("fetchWebpackStatsFn",{scope:o.s.SINGLETON}),T=(0,r.V3)("tramvai assets prefix",{scope:o.s.SINGLETON}),O=(0,r.V3)("tramvai default assets prefix",{scope:o.s.SINGLETON})},23436:function(e,t,n){"use strict";n.r(t),n.d(t,{BODY_END:function(){return p},BODY_START:function(){return f},BODY_TAIL:function(){return h},BODY_TAIL_ANALYTICS:function(){return v},HEAD_ANALYTICS:function(){return c},HEAD_CORE_SCRIPTS:function(){return u},HEAD_CORE_STYLES:function(){return i},HEAD_DYNAMIC_SCRIPTS:function(){return s},HEAD_ICONS:function(){return l},HEAD_META:function(){return r},HEAD_PERFORMANCE:function(){return o},HEAD_POLYFILLS:function(){return a},REACT_RENDER:function(){return d}});var r="head:meta",o="head:performance",i="head:core-styles",a="head:polyfills",u="head:core-scripts",s="head:dynamic-scripts",c="head:analytics",l="head:icons",f="body:start",d="react:render",p="body:end",v="body:tail:analytics",h="body:tail"},56873:function(e,t,n){"use strict";n.d(t,{$d:function(){return f},Dk:function(){return i},Dv:function(){return p},S3:function(){return l},TL:function(){return c},Y9:function(){return u},_Q:function(){return s},aP:function(){return v},fw:function(){return d},l1:function(){return o},sU:function(){return a}});var r=n(59999),o=(0,r.V3)("router router"),i=(0,r.V3)("router routes",{multi:!0}),a=(0,r.V3)("router guard",{multi:!0}),u=(0,r.V3)("router pageService"),s=(0,r.V3)("router pageRegistry"),c=(0,r.V3)("router routeResolve"),l=(0,r.V3)("router routeTransform",{multi:!0}),f=(0,r.V3)("router spaRunMode"),d=(0,r.V3)("link prefetch manager"),p=(0,r.V3)("link prefetch handler",{multi:!0}),v=(0,r.V3)("router mode")},68162:function(e,t,n){"use strict";n.d(t,{$8:function(){return u},QR:function(){return a},a9:function(){return i}});var r=n(59999),o=n(67584),i=(0,r.V3)("serverModulePapiPublicUrl",{scope:o.s.SINGLETON}),a=(0,r.V3)("serverModulePapiPrivateUrl",{scope:o.s.SINGLETON}),u=(0,r.V3)("serverModulePapiPrivateRoute",{multi:!0,scope:o.s.SINGLETON});o.s.SINGLETON,o.s.SINGLETON,o.s.SINGLETON,o.s.SINGLETON,o.s.SINGLETON,o.s.SINGLETON,o.s.SINGLETON,o.s.SINGLETON},59576:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r="__action_parameters__"}}]);